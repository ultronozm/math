<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Paul Nelson" />
  <title>Commutative algebra: some basics on Krull dimension</title>
  <link rel="stylesheet" href="tex.css">
  <style>
      .my-links-container {
        position: absolute;
        top: 0;
        right: 0;
        padding-right: 20px;
        padding-top: 10px;
      }
      .my-link {
        margin-left: 10px;
      }
      .my-links-container-2 { /* new CSS class for the second row */
        position: absolute;
        top: 40px; /* adjust this value based on the height of your links */
        right: 0;
        padding-right: 20px;
      }
      .my-link-2 {
        margin-left: 10px;
      }

    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"
  type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
    <div class="my-links-container">
2023-05-21 17:47:55
      <a href="dimension.tex" class="my-link">tex</a>
      <a href="dimension.pdf" class="my-link">pdf</a>
      <a href="https://github.com/ultronozm/math/commits/main/dimension.tex" class="my-link">history</a>
      <a href="." class="my-link">home</a>
    </div>
<header id="title-block-header">
<h1 class="title">Commutative algebra: some basics on Krull
dimension</h1>
<p class="author">Paul Nelson</p>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#sec:org2573665"
id="toc-sec:org2573665">Introduction</a></li>
<li><a href="#sec:orgdb2d3a0" id="toc-sec:orgdb2d3a0">Basic
definitions</a></li>
<li><a href="#sec:org60bbe56" id="toc-sec:org60bbe56">Geometric
interpretations</a></li>
<li><a href="#sec:org9d9ed7c" id="toc-sec:org9d9ed7c">Prime avoidance
lemma<span id="sec:prime-avoidance"
label="sec:prime-avoidance"></span></a></li>
<li><a href="#sec:org49d017a" id="toc-sec:org49d017a">Artin
rings</a></li>
<li><a href="#sec:orgd90b421" id="toc-sec:orgd90b421">Krull intersection
theorem</a></li>
<li><a href="#sec:org762c52a" id="toc-sec:org762c52a">Kernel of
localization with respect to a prime<span id="sec:kernel-localize"
label="sec:kernel-localize"></span></a></li>
<li><a href="#sec:orgd3770e5" id="toc-sec:orgd3770e5">Krull’s theorems
on heights and dimensions</a>
<ul>
<li><a href="#sec:orgb8870ab" id="toc-sec:orgb8870ab">Principal ideal
theorem</a></li>
<li><a href="#sec:orgbe18c9e" id="toc-sec:orgbe18c9e">Dimension
theorem</a></li>
<li><a href="#sec:org858899e" id="toc-sec:org858899e">Converse to the
dimension theorem</a></li>
</ul></li>
<li><a href="#sec:orgfa54a11" id="toc-sec:orgfa54a11">Systems of
parameters</a>
<ul>
<li><a href="#sec:org815b8ba" id="toc-sec:org815b8ba">A characterization
of dimension</a></li>
<li><a href="#sec:org9e31ea4"
id="toc-sec:org9e31ea4">Definition</a></li>
<li><a href="#sec:orgdc48040" id="toc-sec:orgdc48040">Extensions of
partial systems of parameters</a></li>
</ul></li>
<li><a href="#sec:org80bf51b" id="toc-sec:org80bf51b">Dimensions of
polynomial rings</a></li>
<li><a href="#sec:org3fde1d4" id="toc-sec:org3fde1d4">Preliminaries on
regular local rings</a></li>
<li><a href="#sec:org4afff50" id="toc-sec:org4afff50">Basics on integral
extensions</a></li>
<li><a href="#sec:org5a401b5" id="toc-sec:org5a401b5">Lying
over</a></li>
<li><a href="#sec:orgf2a76c1" id="toc-sec:orgf2a76c1">Going up</a></li>
<li><a href="#sec:org5aca683" id="toc-sec:org5aca683">Galois action on
primes</a></li>
<li><a href="#sec:org4bb7b6b" id="toc-sec:org4bb7b6b">Going
down</a></li>
<li><a href="#sec:org04b0a0a" id="toc-sec:org04b0a0a">Applications of
theorems on integral ring extensions to dimension</a></li>
<li><a href="#sec:orgae6adf2" id="toc-sec:orgae6adf2">Noether
normalization?</a></li>
<li><a href="#sec:org12a4f19" id="toc-sec:org12a4f19">Dimension vs.
transcendence degree</a></li>
<li><a href="#sec:orgd85e6aa" id="toc-sec:orgd85e6aa">Valuation
rings</a></li>
<li><a href="#sec:org0694603" id="toc-sec:org0694603">Dedekind
domains</a></li>
<li><a href="#sec:org75bf553" id="toc-sec:org75bf553">The future</a>
<ul>
<li><a href="#sec:orge6fe150" id="toc-sec:orge6fe150">Some exercises</a>
<ul>
<li><a href="#sec:org29f0766" id="toc-sec:org29f0766"></a></li>
<li><a href="#sec:org0e0b82b" id="toc-sec:org0e0b82b"></a></li>
<li><a href="#sec:org6c497dd" id="toc-sec:org6c497dd"></a></li>
<li><a href="#sec:org6abe4ac" id="toc-sec:org6abe4ac"></a></li>
<li><a href="#sec:orgdd66e74" id="toc-sec:orgdd66e74"></a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<p>(This was a handout for a Fall 2017 commutative algebra course at
ETHZ.)</p>
<h1 id="sec:org2573665">§1. Introduction</h1>
<p>We recall some definitions and background, record proofs of some of
the main theorems regarding Krull dimension, and give some of their
geometric interpretations. We mainly follow the course reference by
Bosch.</p>
<h1 id="sec:orgdb2d3a0">§2. Basic definitions</h1>
<p>Let <span class="math inline">\(A\)</span> be a ring (always
commutative and with identity). In what follows, the symbols <span
class="math inline">\(\mathfrak{p}\)</span> or <span
class="math inline">\(\mathfrak{p}_i\)</span> always denote prime
ideals. We set <span class="math display">\[\dim(A) :=
    \sup \{n \geq 0 : \exists \mathfrak{p}_0 \subsetneq \dotsb
\subsetneq \mathfrak{p}_n \}.\]</span></p>
<p>For a prime ideal <span class="math inline">\(\mathfrak{p}\)</span>
of <span class="math inline">\(A\)</span>, we set <span
class="math display">\[\mathop{\mathrm{height}}(\mathfrak{p}) :=
    \sup \{n \geq 0 : \exists \mathfrak{p}_0 \subsetneq \dotsb
\subsetneq \mathfrak{p}_n \subseteq \mathfrak{p}\},\]</span> <span
class="math display">\[\mathop{\mathrm{coheight}}(\mathfrak{p}) :=
    \sup \{n \geq 0 : \exists \mathfrak{p} \subseteq \mathfrak{p}_0
\subsetneq \dotsb \subsetneq \mathfrak{p}_n \}.\]</span> For a general
ideal <span class="math inline">\(\mathfrak{a}\)</span>, we set <span
class="math display">\[\mathop{\mathrm{height}}(\mathfrak{a}) :=
\inf_{\mathfrak{p} \supseteq
      \mathfrak{a}} \mathop{\mathrm{height}}(\mathfrak{p}),\]</span>
<span class="math display">\[\mathop{\mathrm{coheight}}(\mathfrak{a}) :=
\sup_{\mathfrak{p} \supseteq
      \mathfrak{a}} \mathop{\mathrm{coheight}}(\mathfrak{p})
    = \sup \{n \geq 0 : \exists \mathfrak{a} \subseteq \mathfrak{p}_0
\subsetneq \dotsb \subsetneq \mathfrak{p}_n \}.\]</span> Since prime
ideals in the localization <span
class="math inline">\(A_\mathfrak{p}\)</span> correspond to the primes
in <span class="math inline">\(A\)</span> contained in <span
class="math inline">\(\mathfrak{p}\)</span>, we have <span
class="math display">\[\mathop{\mathrm{height}}(\mathfrak{p}) =
\dim(A_\mathfrak{p}).\]</span> Since prime ideals in the quotient <span
class="math inline">\(A/\mathfrak{a}\)</span> correspond to the primes
in <span class="math inline">\(A\)</span> containing <span
class="math inline">\(\mathfrak{a}\)</span>, we have <span
class="math display">\[\mathop{\mathrm{coheight}}(\mathfrak{a}) =
\dim(A/\mathfrak{a}).\]</span> We note the following easy
inequality:</p>
<div id="lem:easy-dimension-inequality" class="lemma">
<p><strong>Lemma 1</strong>. <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{a}) +
\dim(A/\mathfrak{a}) \leq \dim(A)\)</span>.</p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> It suffices to show that if <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{a}) \geq
r\)</span> and <span class="math inline">\(\dim(A/\mathfrak{a}) \geq
s\)</span>, then <span class="math inline">\(\dim(A) \geq r +
s\)</span>. By hypothesis, we may find primes <span
class="math inline">\(\mathfrak{a} \subseteq \mathfrak{q}_0 \subsetneq
\dotsb
  \subsetneq \mathfrak{q}_s\)</span>. Then <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{q}_0) \geq
\mathop{\mathrm{height}}(\mathfrak{a}) \geq
  r\)</span>, so we may find primes <span
class="math inline">\(\mathfrak{p}_0 \subsetneq \dotsb \subsetneq
\mathfrak{p}_r =
  \mathfrak{q}_0\)</span>. Then <span
class="math display">\[\mathfrak{p}_0 \subsetneq \dotsb \subsetneq
\mathfrak{p}_r =
    \mathfrak{q}_0
    \subsetneq \mathfrak{q}_1 \subsetneq \dotsb \subsetneq
    \mathfrak{q}_s\]</span> is a chain of primes in <span
class="math inline">\(A\)</span> of length <span
class="math inline">\(r+s\)</span>. ◻</p>
</span></div>
<p>We also note:</p>
<div id="lem:local-ring-height-equals-dim" class="lemma">
<p><strong>Lemma 2</strong>. Let <span
class="math inline">\((A,\mathfrak{m})\)</span> be a local ring. Then
<span class="math inline">\(\dim(A) =
\mathop{\mathrm{height}}(\mathfrak{m})\)</span>.</p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Let <span class="math inline">\(\mathfrak{p}_0
\subsetneq \dotsb \subsetneq
  \mathfrak{p}_r\)</span> be a chain of primes in <span
class="math inline">\(A\)</span>. By enlarging this chain if necessary,
we may assume that <span class="math inline">\(\mathfrak{p}_r =
\mathfrak{m}\)</span>. Thus the suprema in the definitions of <span
class="math inline">\(\dim(A)\)</span> and <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{m})\)</span>
may be taken over the same chains of primes. ◻</p>
</span></div>
<h1 id="sec:org60bbe56">§3. Geometric interpretations</h1>
<p>Reference for this section: exercises in Chapter 1 of
Atiyah–Macdonald.</p>
<p>Let <span class="math inline">\(A\)</span> be a ring. Recall that
<span class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span> denotes
the set of prime ideals <span
class="math inline">\(\mathfrak{p}\)</span> in <span
class="math inline">\(A\)</span>. Each <span class="math inline">\(f \in
A\)</span> defines a function <span
class="math display">\[f|_{\mathop{\mathrm{Spec}}(A)} :
\mathop{\mathrm{Spec}}(A) \rightarrow
  \bigsqcup_{\mathfrak{p} \in \mathop{\mathrm{Spec}}(A)}
A/\mathfrak{p}\]</span> sending <span
class="math inline">\(\mathfrak{p}\)</span> to the class of <span
class="math inline">\(f\)</span> in the quotient ring <span
class="math inline">\(A/\mathfrak{p}\)</span>. For <span
class="math inline">\(f \in A\)</span> and any subset <span
class="math inline">\(X\)</span> of <span
class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span>, we may form
the restriction <span class="math inline">\(f|_X\)</span> of <span
class="math inline">\(f\)</span> to <span
class="math inline">\(X\)</span>. For the sake of illustration, note
that <span class="math inline">\(f|_{\mathop{\mathrm{Spec}}(A)} =
0\)</span> (i.e., <span
class="math inline">\(f|_{\mathop{\mathrm{Spec}}(A)}\)</span> maps each
<span class="math inline">\(\mathfrak{p}\)</span> to the zero class in
<span class="math inline">\(A / \mathfrak{p}\)</span>) if and only if
<span class="math inline">\(f\)</span> belongs to the nilradical of
<span class="math inline">\(A\)</span>.</p>
<p>For example, we have seen (using the Nullstellensatz) that if <span
class="math inline">\(A = \mathbb{C}[X_1,\dotsc,X_n]/I\)</span> for some
ideal <span class="math inline">\(I \subseteq
\mathbb{C}[X_1,\dotsc,X_n]\)</span>, then the set <span
class="math inline">\(\mathop{\mathrm{Specm}}(A)\)</span> of maximal
ideals in <span class="math inline">\(A\)</span> is in natural bijection
with <span class="math inline">\(V := \{(x_1,\dotsc,x_n) \in
\mathbb{C}^n : f(x_1,\dotsc,x_n) = 0
  \text{ for all } f \in I \}\)</span>. For each such maximal ideal
<span class="math inline">\(\mathfrak{m}\)</span> we may identify <span
class="math inline">\(A/\mathfrak{m}\)</span> with <span
class="math inline">\(\mathbb{C}\)</span>. For <span
class="math inline">\(f \in A\)</span>, the function <span
class="math inline">\(f|_{\mathop{\mathrm{Specm}}(A)}\)</span> then
identifies with the obvious map <span class="math inline">\(V \ni
(x_1,\dotsc,x_n) \mapsto f(x_1,\dotsc,x_n) \in
  \mathbb{C}\)</span>.</p>
<p>For a subset <span class="math inline">\(S\)</span> of <span
class="math inline">\(A\)</span>, we set <span
class="math display">\[V(S) := \{\mathfrak{p} \in
\mathop{\mathrm{Spec}}(A) : \mathfrak{p} \supseteq
  S\}
  = \{\mathfrak{p} \in \mathop{\mathrm{Spec}}(A) : f(\mathfrak{p}) = 0
\text{ for
    each }
  f \in S
  \}.\]</span> For finite sets <span class="math inline">\(S =
\{f_1,\dotsc,f_n\}\)</span> we write simply <span
class="math inline">\(V(f_1,\dotsc,f_n) := V(S)\)</span>. Note that if
<span class="math inline">\(S\)</span> generates an ideal <span
class="math inline">\(\mathfrak{a}\)</span>, then <span
class="math inline">\(V(S) = V(\mathfrak{a})\)</span>. Given any subset
<span class="math inline">\(X\)</span> of <span
class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span>, we set <span
class="math display">\[I(X)
  := \cap_{\mathfrak{p} \in X} \mathfrak{p}
  = \{f \in A : f|_X = 0\}.\]</span> Recall that a subset of <span
class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span> is called
<em>closed</em> if it is of the form <span
class="math inline">\(V(S)\)</span> for some <span
class="math inline">\(S\)</span>; this defines a topology on <span
class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span>. Recall that an
ideal <span class="math inline">\(\mathfrak{a}\)</span> is
<em>radical</em> if <span
class="math inline">\(\mathop{\mathrm{rad}}(\mathfrak{a}) =
\mathfrak{a}\)</span>.</p>
<div class="lemma">
<p><strong>Lemma 3</strong>.  </p>
<ol type="i">
<li><p>For each ideal <span class="math inline">\(\mathfrak{a}\)</span>
of <span class="math inline">\(A\)</span>, we have <span
class="math inline">\(I(V(\mathfrak{a})) =
\mathop{\mathrm{rad}}(\mathfrak{a})\)</span>.</p></li>
<li><p>For each subset <span class="math inline">\(X\)</span> of <span
class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span>, we have <span
class="math inline">\(V(I(X)) = \overline{X}\)</span> (the closure of
<span class="math inline">\(X\)</span>).</p></li>
<li><p>The maps <span class="math inline">\(V\)</span> and <span
class="math inline">\(I\)</span> define mutually-inverse
inclusion-reversing bijections between the set of radical ideals of
<span class="math inline">\(A\)</span> and the set of closed subsets of
<span class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span>.</p></li>
</ol>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> The maps <span class="math inline">\(I\)</span> and
<span class="math inline">\(V\)</span> are readily seen to be
inclusion-reversing (cf. Exercise Sheet #1).</p>
<ol type="i">
<li><p>By definition, <span class="math inline">\(I(V(\mathfrak{a})) =
\cap_{\mathfrak{p} \in
      V(\mathfrak{a})} \mathfrak{p}
    = \cap_{\mathfrak{p} \supseteq \mathfrak{a}} \mathfrak{p} =
    \mathop{\mathrm{rad}}(\mathfrak{a})\)</span>.</p></li>
<li><p>The set <span class="math inline">\(V(I(X))\)</span> is closed
and contains <span class="math inline">\(X\)</span>, so it will suffice
to verify for each closed set <span
class="math inline">\(V(\mathfrak{a})\)</span> containing <span
class="math inline">\(X\)</span> that <span
class="math inline">\(V(\mathfrak{a}) \supseteq V(I(X))\)</span>. From
<span class="math inline">\(V(\mathfrak{a}) \supseteq X\)</span> we see
that <span class="math inline">\(f|_X = 0\)</span> for all <span
class="math inline">\(f \in \mathfrak{a}\)</span>, thus <span
class="math inline">\(\mathfrak{a} \subseteq I(X)\)</span>. Applying the
inclusion-reversing map <span class="math inline">\(V\)</span>, we
obtain <span class="math inline">\(V(\mathfrak{a}) \supseteq
V(I(X))\)</span>, as required.</p></li>
<li><p>Immediate by the above.</p></li>
</ol>
<p> ◻</p>
</span></div>
<div class="lemma">
<p><strong>Lemma 4</strong>. Let <span class="math inline">\(X\)</span>
be a closed subset of <span
class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span>. The following
are equivalent:</p>
<ol type="i">
<li><p><span class="math inline">\(X = V(\mathfrak{p})\)</span> for some
prime ideal <span class="math inline">\(\mathfrak{p}\)</span> of <span
class="math inline">\(A\)</span>.</p></li>
<li><p><span class="math inline">\(I(X)\)</span> is a prime ideal of
<span class="math inline">\(A\)</span>.</p></li>
<li><p><span class="math inline">\(X\)</span> is nonempty and may not be
written as <span class="math inline">\(X = X_1 \cup X_2\)</span> for
closed subsets <span class="math inline">\(X_1, X_2\)</span> of <span
class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span> except in the
trivial case that either <span class="math inline">\(X \subseteq
X_1\)</span> or <span class="math inline">\(X \subseteq
X_2\)</span>.</p></li>
</ol>
</div>
<p>We say that a closed subset <span class="math inline">\(X\)</span> of
<span class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span> is
<em>irreducible</em> if it satisfies the equivalent conditions of the
preceeding lemma. The irreducible closed subsets of <span
class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span> correspond
bijectively to the prime ideals of <span
class="math inline">\(A\)</span>.</p>
<p>We note that for any ideal <span
class="math inline">\(\mathfrak{a}\)</span>, we may identify <span
class="math display">\[V(\mathfrak{a}) =
\mathop{\mathrm{Spec}}(A/\mathfrak{a}).\]</span> We note also that if
<span class="math inline">\(\mathfrak{p}\)</span> is a prime of <span
class="math inline">\(A\)</span>, then the primes of the localization
<span class="math inline">\(A_\mathfrak{p}\)</span> correspond to the
primes of <span class="math inline">\(A\)</span> contained in <span
class="math inline">\(\mathfrak{p}\)</span>, hence the spectrum of <span
class="math inline">\(A_\mathfrak{p}\)</span> identifies with the set of
closed irreducible subsets of <span
class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span> that
<em>contain</em> <span class="math inline">\(\mathfrak{p}\)</span>:
<span class="math display">\[\mathop{\mathrm{Spec}}(A_\mathfrak{p})
  =
  \{\mathfrak{q} \in \mathop{\mathrm{Spec}}(A) : \mathfrak{q} \subseteq
\mathfrak{p} \}
  =
  \{\mathfrak{q} \in \mathop{\mathrm{Spec}}(A) : \mathfrak{p} \in
V(\mathfrak{q}) \}.\]</span></p>
<p>By an <em>irreducible component</em> of a closed subset <span
class="math inline">\(X\)</span> of <span
class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span>, we shall mean
a maximal closed irreducible subset of <span
class="math inline">\(X\)</span>, i.e., a closed irreducible subset
<span class="math inline">\(Z \subseteq X\)</span> with the property
that if <span class="math inline">\(Z&#39; \subseteq X\)</span> is any
closed irreducible subset with <span class="math inline">\(Z&#39;
\supseteq Z\)</span>, then <span class="math inline">\(Z&#39; =
Z\)</span>. Using the inclusion-reversing bijections noted above, we
verify readily that for any ideal <span
class="math inline">\(\mathfrak{a}\)</span>, the irreducible components
of <span class="math inline">\(X = V(\mathfrak{a})\)</span> correspond
bijectively to the set (denoted <span
class="math inline">\(\mathop{\mathrm{Ass}}&#39;(\mathfrak{a})\)</span>
in lecture) of minimal prime ideals <span
class="math inline">\(\mathfrak{p} \supseteq \mathfrak{a}\)</span>.</p>
<p>We assume henceforth that <span class="math inline">\(A\)</span> is
Noetherian. Then the set of minimal primes of any ideal is finite, and
any prime containing an ideal contains a minimal prime of that ideal. It
follows that the set of irreducible components of any closed subset
<span class="math inline">\(X\)</span> of <span
class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span> is a finite set
<span class="math inline">\(\{Z_1,\dotsc,Z_n\}\)</span> for which <span
class="math inline">\(X = Z_1 \cup \dotsb \cup Z_n\)</span>.</p>
<p>We define the <em>dimension</em> of a closed subset <span
class="math inline">\(X\)</span> of <span
class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span> to be <span
class="math display">\[\dim(X) = \sup \{n \geq 0 : \exists \text{ closed
irreducible
    subsets }
  Z_n \subsetneq \dotsb \subsetneq Z_0 \subseteq X
  \}\]</span> and the <em>codimension</em> in the special case that
<span class="math inline">\(Z\)</span> is closed irreducible to be <span
class="math display">\[\mathop{\mathrm{codim}}(Z) :=
  \sup \{n \geq 0 : \exists \text{ closed irreducible
    subsets }
  Z_0 \supsetneq \dotsb \supsetneq Z_n \supset Z \}\]</span> and then in
general by <span class="math display">\[\mathop{\mathrm{codim}}(X) :=
  \inf_{\substack{Z \subseteq X : \text{closed irreducible}}}
  \mathop{\mathrm{codim}}(Z).\]</span> Equivalently, <span
class="math inline">\(\mathop{\mathrm{codim}}(X)\)</span> is the
smallest codimension of any irreducible component of <span
class="math inline">\(X\)</span>. We note also that <span
class="math inline">\(\dim(X)\)</span> coincides with the largest
dimension of any irreducible component of <span
class="math inline">\(X\)</span>. We might write <span
class="math inline">\(\mathop{\mathrm{codim}}(X)\)</span> as <span
class="math inline">\({\mathop{\mathrm{codim}}}_{\mathop{\mathrm{Spec}}(A)}(X)\)</span>
when we wish to emphasize the reference space <span
class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span>.</p>
<p>Using the inclusion-reversing bijections noted above, we see that
<span class="math display">\[\dim \mathop{\mathrm{Spec}}A = \dim
A\]</span> and more generally that <span class="math display">\[\dim
V(\mathfrak{a}) = \mathop{\mathrm{coheight}}\mathfrak{a} = \dim
A/\mathfrak{a},
  \quad
  \dim X = \mathop{\mathrm{coheight}}I(X) = \dim A/I(X),\]</span> <span
class="math display">\[\mathop{\mathrm{codim}}V(\mathfrak{a}) =
\mathop{\mathrm{height}}\mathfrak{a},
  \quad
  \mathop{\mathrm{codim}}X = \mathop{\mathrm{height}}I(X)\]</span> for
any ideal <span class="math inline">\(\mathfrak{a}\)</span> and any
closed <span class="math inline">\(X \subseteq
  \mathop{\mathrm{Spec}}(A)\)</span>. Lemma <a
href="#lem:easy-dimension-inequality" data-reference-type="ref"
data-reference="lem:easy-dimension-inequality">1</a> says that <span
class="math inline">\(\dim X + \mathop{\mathrm{codim}}X \leq \dim
\mathop{\mathrm{Spec}}A\)</span>.</p>
<h1 id="sec:org9d9ed7c">§4. Prime avoidance lemma<span
id="sec:prime-avoidance" label="sec:prime-avoidance"></span></h1>
<div class="lemma">
<p><strong>Lemma 5</strong>. Let <span class="math inline">\(A\)</span>
be a ring, let <span
class="math inline">\(\mathfrak{p}_1,\dotsc,\mathfrak{p}_n\)</span> be
prime ideals, and let <span class="math inline">\(\mathfrak{a}\)</span>
be an ideal contained in the union <span class="math inline">\(\cup
\mathfrak{p}_j\)</span>. Then there exists an index <span
class="math inline">\(j\)</span> for which <span
class="math inline">\(\mathfrak{a} \subseteq \mathfrak{p}_j\)</span>.
Equivalently, if <span class="math inline">\(\mathfrak{a} \not\subseteq
\mathfrak{p}_j\)</span> for each <span class="math inline">\(j\)</span>,
then <span class="math inline">\(\mathfrak{a} \not\subseteq \cup
\mathfrak{p}_j\)</span>.</p>
<p>In “geometric” terms, let <span class="math inline">\(Z_1,\dotsc,Z_n
\subseteq \mathop{\mathrm{Spec}}(A)\)</span> be closed irreducible
subsets, and let <span class="math inline">\(X =
V(\mathfrak{a})\)</span> be a closed irreducible subset of <span
class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span>, defined by an
ideal <span class="math inline">\(\mathfrak{a}\)</span>, with the
property that <span class="math inline">\(X \not\supseteq Z_j\)</span>
for all <span class="math inline">\(j\)</span>. Then there exists <span
class="math inline">\(f \in \mathfrak{a}\)</span> with <span
class="math inline">\(f|_{Z_j} \neq 0\)</span> for all <span
class="math inline">\(j\)</span>. In particular, we may find <span
class="math inline">\(f \in A\)</span> with <span
class="math inline">\(f|_{X} = 0\)</span> but <span
class="math inline">\(f|_{Z_j} \neq 0\)</span> for all <span
class="math inline">\(j\)</span>.</p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> We verify that if <span
class="math inline">\(\mathfrak{a}\)</span> is not contained in any of
the <span class="math inline">\(\mathfrak{p}_j\)</span>, then it is not
contained in their union. For this we may induct on <span
class="math inline">\(n\)</span>. The case <span class="math inline">\(n
= 1\)</span> is trivial, so suppose <span class="math inline">\(n &gt;
2\)</span>. By our inductive hypothesis, we may find for each <span
class="math inline">\(i=1..n\)</span> an element <span
class="math inline">\(a_i \in
  \mathfrak{a}\)</span> with <span class="math inline">\(a_i \notin
\mathfrak{p}_j\)</span> whenever <span class="math inline">\(j \neq
i\)</span>. If moreover <span class="math inline">\(a_i \notin
\mathfrak{p}_i\)</span> for some <span class="math inline">\(i\)</span>,
then we are done, so suppose otherwise that <span
class="math inline">\(a_i \in \mathfrak{p}_i\)</span> for all <span
class="math inline">\(i\)</span>. Set <span class="math inline">\(b_i :=
\prod_{j : j \neq i} a_j\)</span>. Then <span class="math inline">\(b_i
\notin \mathfrak{p}_i\)</span> (using that <span
class="math inline">\(\mathfrak{p}_i\)</span> is prime) but <span
class="math inline">\(b_i \in \mathfrak{p}_j\)</span> for all <span
class="math inline">\(j \neq i\)</span>. It follows that <span
class="math inline">\(x := b_1 + \dotsb + b_n\)</span> belongs to <span
class="math inline">\(\mathfrak{a}\)</span> but not to <span
class="math inline">\(\mathfrak{p}_i\)</span> for any <span
class="math inline">\(i\)</span>, hence <span
class="math inline">\(\mathfrak{a}\)</span> is not contained in the
union of the <span class="math inline">\(\mathfrak{p}_i\)</span>. ◻</p>
</span></div>
<h1 id="sec:org49d017a">§5. Artin rings</h1>
<div id="thm:artin-vs-noeth-dim0" class="theorem">
<p><strong>Theorem 6</strong>. <em>Let <span
class="math inline">\(A\)</span> be a ring. The following are
equivalent:</em></p>
<ol type="i">
<li><p><em><span class="math inline">\(A\)</span> is an Artin
ring.</em></p></li>
<li><p><em><span class="math inline">\(A\)</span> is a Noetherian ring
of dimension zero.</em></p></li>
</ol>
</div>
<h1 id="sec:orgd90b421">§6. Krull intersection theorem</h1>
<div id="thm:krull-intersection" class="theorem">
<p><strong>Theorem 7</strong>. <em>Let <span
class="math inline">\(\mathfrak{a}\)</span> be an ideal contained in the
Jacobson radical <span
class="math inline">\(\mathop{\mathrm{Jac}}(A)\)</span> of a Noetherian
ring <span class="math inline">\(A\)</span>. Then <span
class="math display">\[\cap_{n \geq 0} \mathfrak{a}^n =
0.\]</span></em></p>
</div>
<div id="cor:krull-intersection1" class="corollary">
<p><strong>Corollary 8</strong>. <em>With <span class="math inline">\(A,
\mathfrak{a}\)</span> as before, let <span
class="math inline">\(M\)</span> be a finitely-generated module. Then
<span class="math inline">\(\cap_{n \geq 0} \mathfrak{a}^n M =
0\)</span>.</em></p>
</div>
<div id="cor:krull-intersection2" class="corollary">
<p><strong>Corollary 9</strong>. <em>Let <span
class="math inline">\((A,\mathfrak{m})\)</span> be a Noetherian local
ring. Then <span class="math inline">\(\cap_{n \geq 0} \mathfrak{m}^n
=0\)</span>.</em></p>
</div>
<p>For the proof of Theorem <a href="#thm:krull-intersection"
data-reference-type="ref" data-reference="thm:krull-intersection">7</a>,
the fact that <span class="math inline">\(\mathfrak{a}\)</span> is
contained in the Jacobson radical suggests an application of Nakayama’s
lemma to the ideal <span class="math inline">\(M&#39; := \cap_{n \geq 0}
\mathfrak{a}^n\)</span>, for which it is clear that <span
class="math inline">\(\mathfrak{a} M&#39; \subseteq M&#39;\)</span> and
plausible but non-obvious that <span class="math inline">\(\mathfrak{a}
M&#39; = M&#39;\)</span>. The key tool in establishing the latter is the
following:</p>
<div class="lemma">
<p><strong>Lemma 10</strong> (Artin–Rees lemma). Let <span
class="math inline">\(A\)</span> be Noetherian, let <span
class="math inline">\(\mathfrak{a}\)</span> be an ideal, let <span
class="math inline">\(M\)</span> be a finitely-generated module, and let
<span class="math inline">\(M&#39; \leq M\)</span> be a submodule. There
exists <span class="math inline">\(n \geq 0\)</span> so that for all
<span class="math inline">\(k \geq 0\)</span>, <span
class="math display">\[\mathfrak{a}^k (\mathfrak{a}^n M \cap M&#39;)
    = \mathfrak{a}^{n+k} M \cap M&#39;.\]</span></p>
</div>
<p>Taking <span class="math inline">\(M := A, M&#39; := \cap_{n \geq 0}
\mathfrak{a}^n\)</span>, <span class="math inline">\(k := 1\)</span> in
the Artin–Rees lemma gives <span class="math inline">\(\mathfrak{a}^n M
\cap M&#39; = \mathfrak{a}^{n+k} M \cap M&#39; =
  M&#39;\)</span> and hence <span class="math inline">\(\mathfrak{a}
M&#39; = M&#39;\)</span>; we then conclude the proof of Theorem <a
href="#thm:krull-intersection" data-reference-type="ref"
data-reference="thm:krull-intersection">7</a> by Nakayama, as indicated
above.</p>
<p>The proof of Artin–Rees reduces formally to the case <span
class="math inline">\(k = 1\)</span>, and the containment <span
class="math display">\[\mathfrak{a} (\mathfrak{a}^n M \cap M&#39;)
    \subseteq \mathfrak{a}^{n+1} M \cap M&#39;\]</span> is clear. The
proof of the trickier reverse containment is expressed most
transparently using the graded ring <span
class="math display">\[\tilde{A}
    := \boxplus_{i \geq 0} A_i = \{a = (a_i)_{i \geq 0} : a_i \in
    A_i\}, \quad A_i := \mathfrak{a}^i,\]</span> where the
multiplication law extends the bilinear maps <span
class="math inline">\(\mathfrak{a}^i \times \mathfrak{a}^j \rightarrow
\mathfrak{a}^{i+j}\)</span>: <span class="math display">\[(a \cdot b)_k
= \sum_{i+j=k} a_i b_j.\]</span> This graded ring acts by the rule <span
class="math inline">\((a \cdot m)_k := \sum_{i+j=k} a_i m_j\)</span> on
the graded module <span class="math display">\[\tilde{M}
    := \boxplus_{i \geq 0} M_i,
    \quad M_i := \mathfrak{a}^i M,\]</span> and its graded submodule
<span class="math display">\[\tilde{M&#39;}
    := \boxplus_{i \geq 0} M&#39;_i,
    \quad M&#39;_i := \mathfrak{a}^i M \cap M&#39;.\]</span> Since <span
class="math inline">\(\mathfrak{a}\)</span> is finitely-generated as a
module over <span class="math inline">\(A\)</span>, <span
class="math inline">\(\tilde{A}\)</span> is finitely-generated as an
algebra over <span class="math inline">\(A_0 = A\)</span>; by the
Hilbert basis theorem, it follows that <span
class="math inline">\(\tilde{A}\)</span> is Noetherian. The module <span
class="math inline">\(M\)</span> is finitely-generated over <span
class="math inline">\(A\)</span>, from which it follows readily that the
graded module <span class="math inline">\(\tilde{M}\)</span> is
finitely-generated over <span class="math inline">\(\tilde{A}\)</span>;
since the ring <span class="math inline">\(\tilde{A}\)</span> is
Noetherian, so is the module <span
class="math inline">\(\tilde{M}\)</span>, hence its submodule <span
class="math inline">\(\tilde{M&#39;}\)</span> is finitely-generated.
Choose <span class="math inline">\(n\)</span> large enough that the
module <span class="math inline">\(\tilde{M&#39;}\)</span> is generated
by <span class="math inline">\(\boxplus_{0 \leq i \leq
    n} M&#39;_i\)</span>, thus <span
class="math display">\[\tilde{M&#39;}
    =
    \tilde{A} \boxplus_{0 \leq i \leq
      n} M&#39;_i.\]</span> By taking the degree <span
class="math inline">\(n+1\)</span> homogeneous component of this
identity, we see that <span class="math display">\[\begin{align}
  \mathfrak{a}^{n+1} M \cap M&#39;
  &amp;=
  \tilde{M&#39;_{n+1}}
  =
  \sum_{0 \leq i \leq n}
  A_{n+1-i} M&#39;_i
  =
  \sum_{0 \leq i \leq n}
  \mathfrak{a}^{n+1-i} (\mathfrak{a}^i M \cap M&#39;)
  \\
  &amp;\subseteq
    \sum_{0 \leq i \leq n}
    \mathfrak{a} (\mathfrak{a}^n M \cap \mathfrak{a}^{n-i} M&#39;)
    \subseteq \mathfrak{a} (\mathfrak{a}^n M \cap M&#39;),
\end{align}\]</span> giving the required reverse containment. The
proof of Artin–Rees and hence of the Krull intersection theorem is then
complete.</p>
<h1 id="sec:org762c52a">§7. Kernel of localization with respect to a
prime<span id="sec:kernel-localize"
label="sec:kernel-localize"></span></h1>
<p>Let <span class="math inline">\(\mathfrak{p}\)</span> be a prime
ideal in a Noetherian ring <span class="math inline">\(A\)</span>. Let
<span class="math inline">\(\mathfrak{p}^{(n)}\)</span> denote the <span
class="math inline">\(n\)</span>th symbolic power; it is the <span
class="math inline">\(\mathfrak{p}\)</span>-primary ideal given by <span
class="math inline">\(A \cap \mathfrak{p}^n A_\mathfrak{p} := \iota^*(
  (\iota_* \mathfrak{p} )^n)\)</span>, where <span
class="math inline">\(\iota : A \rightarrow A_\mathfrak{p}\)</span>
denotes the localization map.</p>
<div class="theorem">
<p><strong>Theorem 11</strong>. <em><span
class="math inline">\(\ker(\iota) = \cap_{n \geq 0}
\mathfrak{p}^{(n)}\)</span>.</em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Set <span class="math inline">\(\mathfrak{m} :=
\iota_* \mathfrak{p}\)</span>. We have <span
class="math inline">\(\ker(\iota) = \iota^{(-1)}(0)\)</span> and <span
class="math inline">\(\iota^{-1}(\cap_{n \geq 0} \mathfrak{m}^n) =
\cap_{n \geq 0}
  \mathfrak{p}^{(n)}\)</span>, so it suffices to show that <span
class="math inline">\(\cap_{n \geq 0} \mathfrak{m}^n = 0\)</span>, which
is the content of Corollary <a href="#cor:krull-intersection2"
data-reference-type="ref" data-reference="cor:krull-intersection2">9</a>
of the Krull intersection theorem applied to the Noetherian local ring
<span
class="math inline">\((A_\mathfrak{p},\mathfrak{m})\)</span>. ◻</p>
</span></div>
<h1 id="sec:orgd3770e5">§8. Krull’s theorems on heights and dimensions</h1>
<h2 id="sec:orgb8870ab">§8.1. Principal ideal theorem</h2>
<p>We start with the special case to which the general one will
eventually be reduced:</p>
<div class="lemma">
<p><strong>Lemma 12</strong>. Let <span
class="math inline">\((A,\mathfrak{m})\)</span> be a local Noetherian
integral domain. Suppose that <span
class="math inline">\(\mathfrak{m}\)</span> is a minimal prime of some
principal ideal <span class="math inline">\((f)\)</span>, with <span
class="math inline">\(f \in \mathfrak{m}\)</span>. Then <span
class="math inline">\(\mathfrak{m}\)</span> and <span
class="math inline">\((0)\)</span> are the only primes of <span
class="math inline">\(A\)</span>.</p>
<p>In “geometric” terms: suppose that <span
class="math inline">\(\{\mathfrak{m}\} = V(f)\)</span> for some <span
class="math inline">\(f \in \mathfrak{m}\)</span>. Then <span
class="math inline">\(\mathop{\mathrm{Spec}}(A) = \{\mathfrak{m},
(0)\}\)</span>.</p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Let <span class="math inline">\(\mathfrak{p}\)</span>
be any prime in <span class="math inline">\(A\)</span> other than <span
class="math inline">\(\mathfrak{m}\)</span>. Necessarily <span
class="math inline">\(\mathfrak{p} \subsetneq \mathfrak{m}\)</span>; our
task is to show that <span class="math inline">\(\mathfrak{p} =
(0)\)</span>. Since <span class="math inline">\(A\)</span> is a domain,
it will suffice to show for some <span class="math inline">\(n\)</span>
that <span class="math inline">\(\mathfrak{p}^n = (0)\)</span>. Recall
that <span class="math inline">\(\mathfrak{p}^{(n)}\)</span> denotes the
<span class="math inline">\(n\)</span>th symbolic power of <span
class="math inline">\(\mathfrak{p}\)</span>, given here with respect to
the injective localization map <span class="math inline">\(A
\hookrightarrow  A_\mathfrak{p}\)</span> by <span
class="math inline">\(\mathfrak{p}^{(n)} = A \cap \mathfrak{p}^n
  A_\mathfrak{p}\)</span>; it is a <span
class="math inline">\(\mathfrak{p}\)</span>-primary ideal which contains
<span class="math inline">\(\mathfrak{p}^n\)</span>. It will then
suffice to verify that <span class="math inline">\(\mathfrak{p}^{(n)} =
(0)\)</span> for some <span class="math inline">\(n\)</span>. By §<a
href="#sec:kernel-localize" data-reference-type="ref"
data-reference="sec:kernel-localize">7</a>, we have
<span class="math inline">\(\cap_{n \geq 0} \mathfrak{p}^{(n)} = \ker(A
  \rightarrow A_\mathfrak{p}) = (0)\)</span>, so it will suffice to
verify that the chain of ideals <span
class="math inline">\(\mathfrak{p}^{(n)}\)</span> stabilizes, i.e., that
<span class="math inline">\(\mathfrak{p}^{(n)} =
\mathfrak{p}^{(n+1)}\)</span> for large <span
class="math inline">\(n\)</span>.</p>
<p>Set <span class="math inline">\(\overline{A} := A/(f)\)</span>, <span
class="math inline">\(\overline{\mathfrak{m} } :=
\mathfrak{m}/(f)\)</span>. Our hypotheses imply that <span
class="math inline">\(\overline{\mathfrak{m}}\)</span> is the only prime
ideal of <span class="math inline">\(\overline{A}\)</span>. Thus <span
class="math inline">\(\overline{A}\)</span> is a Noetherian ring of
dimension <span class="math inline">\(0\)</span>. By Theorem <a
href="#thm:artin-vs-noeth-dim0" data-reference-type="ref"
data-reference="thm:artin-vs-noeth-dim0">6</a>, it follows that <span
class="math inline">\(\overline{A}\)</span> is an Artin ring. Thus the
descending chain of ideals <span
class="math inline">\(\mathfrak{p}^{(n)} + (f)\)</span> must stabilize;
in particular, <span class="math display">\[\mathfrak{p}^{(n)} \subseteq
\mathfrak{p}^{(n+1)} + (f)\]</span> for large <span
class="math inline">\(n\)</span>. This says that any <span
class="math inline">\(x \in \mathfrak{p}^{(n)}\)</span> may be written
<span class="math inline">\(x = y + z f\)</span> for some <span
class="math inline">\(y \in \mathfrak{p}^{(n+1)}\)</span> and <span
class="math inline">\(z \in A\)</span>. In that case, <span
class="math inline">\(x-y \in \mathfrak{p}^{(n)}\)</span>, and so <span
class="math inline">\(z \in (\mathfrak{p}^{(n)} : f)\)</span>. Since
<span class="math inline">\(\mathfrak{p}^{(n)}\)</span> is <span
class="math inline">\(\mathfrak{p}\)</span>-primary and <span
class="math inline">\(f \notin \mathfrak{p}\)</span>, we have <span
class="math inline">\((\mathfrak{p}^{(n)} : f) =
\mathfrak{p}^{(n)}\)</span>, and so in fact <span
class="math inline">\(z \in \mathfrak{p}^{(n)}\)</span>. Thus <span
class="math display">\[\mathfrak{p}^{(n)} \subseteq \mathfrak{p}^{(n+1)}
+ \mathfrak{p}^{(n)} f,\]</span> and in fact equality holds, with the
reverse containment being clear. This says that <span
class="math inline">\(f M = M\)</span> for the finitely-generated module
<span class="math inline">\(M := \mathfrak{p}^{(n)} /
\mathfrak{p}^{(n+1)}\)</span>. Since <span class="math inline">\(f \in
\mathfrak{m} = \mathop{\mathrm{Jac}}(A)\)</span>, it follows from
Nakayama’s lemma that <span class="math inline">\(M = 0\)</span>. Thus
<span class="math inline">\(\mathfrak{p}^{(n)} =
\mathfrak{p}^{(n+1)}\)</span> for large <span
class="math inline">\(n\)</span>, as was to be shown. ◻</p>
</span></div>
<div id="thm:krull-principal-ideal" class="theorem">
<p><strong>Theorem 13</strong>. <em>Let <span
class="math inline">\(A\)</span> be a Noetherian ring, and let <span
class="math inline">\(f \in A\)</span>.</em></p>
<ol type="i">
<li><p><em>Every minimal prime <span
class="math inline">\(\mathfrak{p}\)</span> of <span
class="math inline">\((f)\)</span> satisfies <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{p}) \leq
1\)</span>.</em></p></li>
<li><p><em>If <span class="math inline">\(f\)</span> is a
non-zerodivisor, then every minimal prime <span
class="math inline">\(\mathfrak{p}\)</span> of <span
class="math inline">\((f)\)</span> satisfies <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{p}) =
1\)</span>.</em></p></li>
</ol>
<p><em>In “geometric” terms, <span
class="math inline">\(\mathop{\mathrm{codim}}(Z) \leq 1\)</span> for
each irreducible component <span class="math inline">\(Z\)</span> of
<span class="math inline">\(V(f) \subseteq
\mathop{\mathrm{Spec}}(A)\)</span>; if <span
class="math inline">\(f\)</span> is a non-zerodivisor, then <span
class="math inline">\(\mathop{\mathrm{codim}}(Z) = 1\)</span> for each
such <span class="math inline">\(Z\)</span>. (This “generalizes” the
fact from linear algebra that the kernel of a linear functional has
codimension <span class="math inline">\(\leq 1\)</span>, with equality
whenever the functional is nonzero.)</em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> To deduce (ii) from (i), suppose that some minimal
prime <span class="math inline">\(\mathfrak{p}\)</span> of <span
class="math inline">\((f)\)</span> has <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{p}) =
0\)</span>. Then <span class="math inline">\(\mathfrak{p}\)</span> is a
minimal prime of <span class="math inline">\((0)\)</span>, hence
consists of zero-divisors, and so <span class="math inline">\(f\)</span>
is a zerodivisor.</p>
<p>Our main task is thus to establish (i). We must verify that if <span
class="math inline">\(\mathfrak{p}_2\)</span> is a minimal prime of
<span class="math inline">\((f)\)</span> and if <span
class="math inline">\(\mathfrak{p}_0 \subseteq \mathfrak{p}_1 \subsetneq
  \mathfrak{p}_2\)</span> are inclusions of prime ideals, then <span
class="math inline">\(\mathfrak{p}_0 = \mathfrak{p}_1\)</span>. After
replacing <span class="math inline">\(A\)</span> by its quotient <span
class="math inline">\(A/\mathfrak{p}_0\)</span>, we may reduce to the
case that <span class="math inline">\(\mathfrak{p}_0 = (0)\)</span>; in
particular, <span class="math inline">\(A\)</span> is a local Noetherian
domain. After then replacing <span class="math inline">\(A\)</span> by
its localization <span
class="math inline">\(A_{\mathfrak{p}_2}\)</span>, we reduce further to
the case that <span class="math inline">\(A\)</span> is a local
Noetherian domain whose maximal ideal <span
class="math inline">\(\mathfrak{p}_2\)</span> is a minimal prime of
<span class="math inline">\((f)\)</span>. We now appeal to the previous
lemma. ◻</p>
</span></div>
<p>We will often apply the above result in a local context:</p>
<div id="cor:krull-pith-local" class="corollary">
<p><strong>Corollary 14</strong>. <em>Let <span
class="math inline">\((A,\mathfrak{m})\)</span> be a Noetherian local
ring. Suppose there exists <span class="math inline">\(f \in A\)</span>
for which <span class="math inline">\(\mathfrak{m}\)</span> is the
unique prime containing <span class="math inline">\(f\)</span>, thus
<span class="math inline">\(V(f) = \{\mathfrak{m} \}\)</span>. Then
<span class="math inline">\(\dim(A) =
\mathop{\mathrm{height}}(\mathfrak{m}) \leq 1\)</span>.</em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Given that <span
class="math inline">\(\mathfrak{m}\)</span> is maximal, our assumption
is equivalent to requiring that <span
class="math inline">\(\mathfrak{m}\)</span> be a minimal prime of <span
class="math inline">\((f)\)</span>. ◻</p>
</span></div>
<p>For the sake of illustration, let’s reformulate Theorem <a
href="#thm:krull-principal-ideal" data-reference-type="ref"
data-reference="thm:krull-principal-ideal">13</a> in the contrapositive.
Let <span class="math inline">\(A\)</span> be a Noetherian ring. Let
<span class="math inline">\(\mathfrak{p}_0 \subsetneq
\mathfrak{p}_2\)</span> be an inclusion of primes in <span
class="math inline">\(A\)</span>. By an <em>intermediary prime</em> we
will mean a prime <span class="math inline">\(\mathfrak{p}_1\)</span>
for which <span class="math inline">\(\mathfrak{p}_0 \subsetneq
\mathfrak{p}_1 \subsetneq
  \mathfrak{p}_2\)</span>.</p>
<div id="cor:" class="corollary">
<p><strong>Corollary 15</strong>. <em>The following are
equivalent:</em></p>
<ol type="i">
<li><p><em>There exists an intermediary prime.</em></p></li>
<li><p><em>For each <span class="math inline">\(f \in
\mathfrak{p}_2\)</span> there exists an intermediary prime containing
<span class="math inline">\(f\)</span>.</em></p></li>
</ol>
<p><em>In “geometric” terms, let <span class="math inline">\(Y_2
\subsetneq Y_0\)</span> be irreducible closed subsets of <span
class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span>. Then either
there are no irreducible closed subsets <span
class="math inline">\(Y_1\)</span> contained strictly between <span
class="math inline">\(Y_2\)</span> and <span
class="math inline">\(Y_0\)</span>, or for each <span
class="math inline">\(f \in I(Y_2)\)</span> there exists an irreducible
closed subset <span class="math inline">\(Y_2 \subsetneq Y_1 \subsetneq
Y_0\)</span> with <span class="math inline">\(Y_1 \subseteq
Z(f)\)</span>.</em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> We need only show that (i) implies (ii). If (ii)
fails, then we may find <span class="math inline">\(f \in
\mathfrak{p}_2\)</span> not contained in any intermediary primes. In
other words, after replacing <span class="math inline">\(A\)</span> with
<span class="math inline">\(A/\mathfrak{p}_0\)</span> as necessary to
reduce to the case that <span
class="math inline">\(\mathfrak{p}_0\)</span> is a minimal prime of
<span class="math inline">\(A\)</span>, we are given that <span
class="math inline">\(\mathfrak{p}_2\)</span> is a minimal prime of
<span class="math inline">\((f)\)</span>. By Krull’s principal ideal
theorem, it follows that <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{p}_2) \leq
1\)</span>; thus there exist no intermediary primes, and so (i)
fails. ◻</p>
</span></div>
<h2 id="sec:orgbe18c9e">§8.2. Dimension theorem</h2>
<div id="thm:krull-dimn-thm" class="theorem">
<p><strong>Theorem 16</strong>. <em>Let <span
class="math inline">\(A\)</span> be a Noetherian ring, and let <span
class="math inline">\(f_1,\dotsc,f_n \in A\)</span>. Then each minimal
prime <span class="math inline">\(\mathfrak{p}\)</span> of <span
class="math inline">\((f_1,\dotsc,f_r)\)</span> satisfies <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{p}) \leq
r\)</span>. In particular, <span
class="math inline">\(\mathop{\mathrm{height}}(f_1,\dotsc,f_r) \leq
r\)</span>.</em></p>
<p><em>In “geometric” terms, <span
class="math inline">\(\mathop{\mathrm{codim}}(Z) \leq r\)</span> for
each irreducible component <span class="math inline">\(Z\)</span> of
<span class="math inline">\(V(f_1,\dotsc,f_r)
  \subseteq \mathop{\mathrm{Spec}}(A)\)</span>. (This “generalizes” the
fact from linear algebra that the solution set to a system of <span
class="math inline">\(r\)</span> linear equations has codimension <span
class="math inline">\(\leq r\)</span>.)</em></p>
</div>
<p>Here’s a lemma that I think clarifies the key step in the proof.</p>
<div id="lem:key-step-krull-dimn" class="lemma">
<p><strong>Lemma 17</strong>. Let <span
class="math inline">\((A,\mathfrak{m})\)</span> be a Noetherian local
ring, and let <span class="math inline">\(f_1,\dotsc,f_r \in
\mathfrak{m}\)</span> with <span class="math inline">\(V(f_1,\dotsc,f_r)
= \{\mathfrak{m}\}\)</span>. Let <span
class="math inline">\(\mathfrak{p} \subsetneq \mathfrak{m}\)</span> be a
prime with no prime strictly contained between <span
class="math inline">\(\mathfrak{p}\)</span> and <span
class="math inline">\(\mathfrak{m}\)</span>. Then there exist <span
class="math inline">\(g_1,\dotsc,g_r \in \mathfrak{m}\)</span> for
which</p>
<ol>
<li><p><span class="math inline">\(V(g_1,\dotsc,g_r) =
\{\mathfrak{m}\}\)</span> and</p></li>
<li><p><span class="math inline">\(\mathfrak{p}\)</span> contains and is
a minimal prime of <span
class="math inline">\((g_1,\dotsc,g_{r-1})\)</span>.</p></li>
</ol>
<p>In “geometric” terms, let <span class="math inline">\(Z\)</span> be a
closed irreducible subset of <span
class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span> that is minimal
among the closed irreducible sets that properly contain <span
class="math inline">\(\{\mathfrak{m}\}\)</span>. Then we may find <span
class="math inline">\(g_1,\dotsc,g_r\)</span> for which <span
class="math inline">\(V(g_1,\dotsc,g_r) = \{\mathfrak{m}\}\)</span> and
for which <span class="math inline">\(Z\)</span> is an irreducible
component of <span
class="math inline">\(V(g_1,\dotsc,g_{r-1})\)</span>.</p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Since <span
class="math inline">\(\mathfrak{m}\)</span> is the unique prime ideal
containing <span class="math inline">\((f_1,\dotsc,f_r)\)</span>, we may
assume after reindexing <span
class="math inline">\(f_1,\dotsc,f_r\)</span> as necessary that <span
class="math inline">\(f_r \notin \mathfrak{p}\)</span>. Then the ideal
<span class="math inline">\(\mathfrak{p} + (f_r)\)</span> strictly
contains <span class="math inline">\(\mathfrak{p}\)</span> and is
contained in <span class="math inline">\(\mathfrak{m}\)</span>; our
hypotheses on <span class="math inline">\(\mathfrak{p}\)</span> imply
that <span class="math inline">\(\mathfrak{m}\)</span> is the only prime
ideal containing <span class="math inline">\(\mathfrak{p} +
(f_r)\)</span>, i.e., that <span class="math inline">\(V(\mathfrak{p} +
(f_r)) = \{\mathfrak{m}\}\)</span>, or that <span
class="math inline">\(\mathop{\mathrm{rad}}(\mathfrak{p} + (f_r)) =
\mathfrak{m}\)</span>. In particular, for each <span
class="math inline">\(1 \leq i \leq r-1\)</span> we may find <span
class="math inline">\(n_i\)</span> for which <span
class="math inline">\(f_i^{n_i} \in \mathfrak{p} + (f_r)\)</span>, say
<span class="math display">\[f_i^{n_i} = g_i + z_i f_r
    \text{ with } g_i \in \mathfrak{p}, z_i \in A.\]</span> We claim
that the conclusion of the lemma is now satisfied with <span
class="math inline">\(g_1,\dotsc,g_{r-1}\)</span> as above and <span
class="math inline">\(g_r := f_r\)</span>:</p>
<ol>
<li><p>The above equation shows that any prime <span
class="math inline">\(\mathfrak{q}\)</span> that contains <span
class="math inline">\(g_1,\dotsc,g_{r-1},f_r\)</span> also contains
<span class="math inline">\(f_i^{n_i}\)</span> and hence <span
class="math inline">\(f_i\)</span> for <span class="math inline">\(1
\leq i \leq r\)</span>, hence <span class="math inline">\(\mathfrak{q} =
\mathfrak{m}\)</span>. Thus <span
class="math inline">\(V(g_1,\dotsc,g_r) =
\{\mathfrak{m}\}\)</span>.</p></li>
<li><p>It’s clear by construction that <span
class="math inline">\(\mathfrak{p}\)</span> contains <span
class="math inline">\((g_1,\dotsc,g_{r-1})\)</span>. There is thus a
minimal prime <span class="math inline">\(\mathfrak{p}&#39;\)</span> of
<span class="math inline">\((g_1,\dotsc,g_{r-1})\)</span> contained in
<span class="math inline">\(\mathfrak{p}\)</span>; we must verify that
<span class="math inline">\(\mathfrak{p} = \mathfrak{p} &#39;\)</span>.
(Geometrically, <span class="math inline">\(\mathfrak{p}&#39;\)</span>
corresponds to an irreducible component <span
class="math inline">\(Z&#39;\)</span> of <span
class="math inline">\(V(g_1,\dotsc,g_{r-1})\)</span> containing <span
class="math inline">\(Z\)</span>.) To see this, consider the quotient
ring <span class="math inline">\(\overline{A} :=
A/(g_1,\dotsc,g_{r-1})\)</span>. Let <span id="eq:prime-chain-in-quotient-for-key-lemma-of-dimn-thm" class="math display">\[\label{eq:prime-chain-in-quotient-for-key-lemma-of-dimn-thm}\tag{1}
            \overline{\mathfrak{m}} \supsetneq
      \overline{\mathfrak{p}} \supseteq
\overline{\mathfrak{p}&#39;}\]</span> denote the chain of primes in
<span class="math inline">\(\overline{A}\)</span> given by the image of
<span class="math inline">\(\mathfrak{m} \supsetneq \mathfrak{p}
\supseteq
    \mathfrak{p}&#39; \supseteq (g_1,\dotsc,g_{r-1})\)</span>. Then
<span
class="math inline">\((\overline{A},\overline{\mathfrak{m}})\)</span> is
a Noetherian local ring, and our task is equivalent to showing that
<span class="math inline">\(\overline{\mathfrak{p} } =
\overline{\mathfrak{p} &#39;}\)</span>. Let <span
class="math inline">\(f \in \overline{A}\)</span> denote the image of
<span class="math inline">\(f_r\)</span>. The primes of <span
class="math inline">\(\overline{A}\)</span> containing <span
class="math inline">\(f\)</span> are in bijection with the primes of
<span class="math inline">\(A\)</span> containing <span
class="math inline">\(g_1,\dotsc,g_{r-1},f_r\)</span>, so <span
class="math inline">\(V_{\overline{A}}(f)
    = \{\overline{\mathfrak{m}}\}\)</span>. By Krull’s principal ideal
theorem (in the form of Corollary <a href="#cor:krull-pith-local"
data-reference-type="ref" data-reference="cor:krull-pith-local">14</a>),
it follows that <span
class="math inline">\(\mathop{\mathrm{height}}(\overline{\mathfrak{m} })
\leq 1\)</span>. From <a
href="#eq:prime-chain-in-quotient-for-key-lemma-of-dimn-thm"
data-reference-type="eqref"
data-reference="eq:prime-chain-in-quotient-for-key-lemma-of-dimn-thm">\((1)\)</a>
we then deduce that <span class="math inline">\(\overline{\mathfrak{p} }
=
    \overline{\mathfrak{p}&#39;}\)</span>, as required. (Intuitively, by
choosing <span class="math inline">\(f_r\)</span> not to vanish on any
irreducible component of <span
class="math inline">\(V(f_1,\dotsc,f_{r-1})\)</span>, we guarantee that
appending it to the set of generators has the effect of knocking down
the dimension of each such component by <span
class="math inline">\(1\)</span>.)</p></li>
</ol>
<p> ◻</p>
</span></div>
<p>We now deduce Theorem <a href="#thm:krull-dimn-thm"
data-reference-type="ref" data-reference="thm:krull-dimn-thm">16</a>. We
must show that if <span class="math inline">\(\mathfrak{p}\)</span> is a
minimal prime of <span class="math inline">\((f_1,\dotsc,f_r)\)</span>,
then <span class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{p})
\leq r\)</span>. We may assume without loss of generality (replacing
<span class="math inline">\(A\)</span> with <span
class="math inline">\(A_\mathfrak{p}\)</span> and <span
class="math inline">\(\mathfrak{p}\)</span> with <span
class="math inline">\(\mathfrak{p}_\mathfrak{p}\)</span>, which doesn’t
change the height of or minimality assumption on the latter) that <span
class="math inline">\((A,\mathfrak{p})\)</span> is a Noetherian local
ring with <span class="math inline">\(V(f_1,\dotsc,f_r) =
\{\mathfrak{p}\}\)</span>; we must show then that <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{p}) \leq
r\)</span>. We do this by induction on <span
class="math inline">\(r\)</span>. The case <span class="math inline">\(r
= 1\)</span> is given by Krull’s principal ideal theorem, so suppose
<span class="math inline">\(r &gt; 1\)</span>. Let <span
class="math inline">\(\mathfrak{q} \subsetneq \mathfrak{p}\)</span> be a
maximal element of the set of primes strictly contained in <span
class="math inline">\(\mathfrak{p}\)</span>; it will suffice then to
show that <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{q}) \leq
r-1\)</span>. By Lemma <a href="#lem:key-step-krull-dimn"
data-reference-type="ref"
data-reference="lem:key-step-krull-dimn">17</a>, we may assume without
loss of generality that <span
class="math inline">\(\mathfrak{q}\)</span> is a minimal prime of <span
class="math inline">\((f_1,\dotsc,f_{r-1})\)</span>; the required
inequality then follows from our inductive hypothesis.</p>
<div class="corollary">
<p><strong>Corollary 18</strong>. <em>Let <span
class="math inline">\(\mathfrak{a}\)</span> be an ideal in a Noetherian
ring <span class="math inline">\(A\)</span>. Then <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{a}) &lt;
\infty\)</span>.</em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Write <span class="math inline">\(\mathfrak{a} =
(f_1,\dotsc,f_r)\)</span>. Then <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{a}) \leq
r\)</span>. ◻</p>
</span></div>
<div class="corollary">
<p><strong>Corollary 19</strong>. <em>Let <span
class="math inline">\((A,\mathfrak{m})\)</span> be a Noetherian local
ring. Then <span class="math inline">\(\dim(A) =
\mathop{\mathrm{height}}(\mathfrak{m}) &lt; \infty\)</span>.</em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Use Lemma <a href="#lem:local-ring-height-equals-dim"
data-reference-type="ref"
data-reference="lem:local-ring-height-equals-dim">2</a>. ◻</p>
</span></div>
<div class="remark">
<p><strong>Remark 20</strong>. Dimension theory works best for
<em>local</em> Noetherian rings: there exist non-local Noetherian rings
<span class="math inline">\(A\)</span> with <span
class="math inline">\(\dim(A) = \infty\)</span>. On the other hand, the
height of an ideal in a Noetherian ring <span
class="math inline">\(A\)</span> is always finite, regardless of whether
<span class="math inline">\(A\)</span> is local.</p>
</div>
<h2 id="sec:org858899e">§8.3. Converse to the dimension theorem</h2>
<div id="thm:conv-to-krull-1" class="theorem">
<p><strong>Theorem 21</strong>. <em>Let <span
class="math inline">\(A\)</span> be a Noetherian ring. Let <span
class="math inline">\(r,s\)</span> be nonnegative integers with <span
class="math inline">\(s \leq r\)</span>. Let <span
class="math inline">\(\mathfrak{a}\)</span> be an ideal with <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{a})
\geq r\)</span>, and let <span class="math inline">\(f_1,\dotsc,f_s \in
\mathfrak{a}\)</span> satisfy <span
class="math inline">\(\mathop{\mathrm{height}}(f_1,\dotsc,f_s) =
s\)</span>. Then there exist <span
class="math inline">\(f_{s+1},\dotsc,f_r \in \mathfrak{a}\)</span> so
that <span
class="math inline">\(\mathop{\mathrm{height}}(f_1,\dotsc,f_i) =
i\)</span> for all <span class="math inline">\(s \leq i \leq
r\)</span>.</em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> It suffices (after finitely many iterations) to
consider the case <span class="math inline">\(s = r-1\)</span>. For each
minimal prime <span class="math inline">\(\mathfrak{q}\)</span> of <span
class="math inline">\((f_1,\dotsc,f_{r-1})\)</span>, we have <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{q}) =
r-1\)</span> (here the inequality “<span
class="math inline">\(\geq\)</span>” follows from our assumption <span
class="math inline">\(\mathop{\mathrm{height}}(f_1,\dotsc,f_{r-1}) =
r-1\)</span>, while “<span class="math inline">\(\leq\)</span>” follows
from the Krull dimension theorem); it follows from this and the
inequality <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{a}) \geq
r\)</span> that <span class="math inline">\(\mathfrak{a} \not\subseteq
\mathfrak{q}\)</span>. By the prime avoidance lemma (§<a
href="#sec:prime-avoidance" data-reference-type="ref"
data-reference="sec:prime-avoidance">4</a>), we may
find an element <span class="math inline">\(f_r \in
\mathfrak{a}\)</span> not contained in any minimal prime of <span
class="math inline">\((f_1,\dotsc,f_{r-1})\)</span>. We claim then that
<span class="math inline">\(\mathop{\mathrm{height}}(f_1,\dotsc,f_r) =
r\)</span>. Consider any minimal prime <span
class="math inline">\(\mathfrak{q}\)</span> of <span
class="math inline">\((f_1,\dotsc,f_r)\)</span>; we must verify that
<span class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{q}) =
r\)</span>. The upper bound “<span class="math inline">\(\leq\)</span>”
follows as before from the Krull dimension theorem. For the lower bound,
note that <span class="math inline">\(\mathfrak{q}\)</span> contains
<span class="math inline">\((f_1,\dotsc,f_{r-1})\)</span>, and so
contains some minimal prime <span class="math inline">\(\mathfrak{q}
&#39;\)</span> of <span
class="math inline">\((f_1,\dotsc,f_{r-1})\)</span>. By construction, we
have <span class="math inline">\(f_r \in \mathfrak{q}\)</span> but <span
class="math inline">\(f_r \notin \mathfrak{q} &#39;\)</span>, hence
<span class="math inline">\(\mathfrak{q} \supsetneq \mathfrak{q}
&#39;\)</span>, and so <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{q}) &gt;
\mathop{\mathrm{height}}(\mathfrak{q} &#39;)= r-1\)</span>. This forces
<span class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{q}) =
r\)</span>, as required. ◻</p>
</span></div>
<div class="remark">
<p><strong>Remark 22</strong>. It may be instructive to recast in
geometric terms some parts of the proof given above. Our hypothesis is
that each irreducible component of <span
class="math inline">\(V(f_1,\dotsc,f_{r-1})\)</span> has codimension
<span class="math inline">\(r-1\)</span>, while each irreducible
component of <span class="math inline">\(V(\mathfrak{a})\)</span> has
codimension <span class="math inline">\(\geq r\)</span>. It follows
readily that <span class="math inline">\(V(\mathfrak{a})\)</span>
contains no irreducible component of <span
class="math inline">\(V(f_1,\dotsc,f_{r-1})\)</span>. By the prime
avoidance lemma, we may thus find an element <span
class="math inline">\(f_r \in \mathfrak{a}\)</span> which does not
vanish on any irreducible component of <span
class="math inline">\(V(f_1,\dotsc,f_{r-1})\)</span>. Now, each
irreducible component <span class="math inline">\(Z\)</span> of <span
class="math inline">\(V(f_1,\dotsc,f_r)\)</span> is contained in some
irreducible component <span class="math inline">\(Z&#39;\)</span> of
<span class="math inline">\(V(f_1,\dotsc,f_{r-1})\)</span>. Since <span
class="math inline">\(f|_{Z&#39;} \neq 0\)</span>, this containment must
be strict: <span class="math inline">\(Z \subsetneq Z&#39;\)</span>.
Therefore <span class="math inline">\(\mathop{\mathrm{codim}}(Z) \geq
r\)</span>; Krull then gives <span
class="math inline">\(\mathop{\mathrm{codim}}(Z) \leq r\)</span>, hence
<span class="math inline">\(\mathop{\mathrm{codim}}(Z) = r\)</span>,
hence <span
class="math inline">\(\mathop{\mathrm{codim}}(V(f_1,\dotsc,f_r)) =
r\)</span>, as required.</p>
</div>
<div id="cor:existence-parameters-for-prime" class="corollary">
<p><strong>Corollary 23</strong>. <em>Let <span
class="math inline">\(\mathfrak{p}\)</span> be a prime ideal of height
<span class="math inline">\(r\)</span> in a Noetherian ring <span
class="math inline">\(A\)</span>. Then there exist <span
class="math inline">\(f_1,\dotsc,f_r \in \mathfrak{p}\)</span> so that
<span class="math inline">\(\mathfrak{p}\)</span> is a minimal prime of
<span class="math inline">\((f_1,\dotsc,f_r)\)</span>.</em></p>
<p><em>In “geometric” terms, every closed irreducible subset <span
class="math inline">\(Z\)</span> of <span
class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span> with <span
class="math inline">\(\mathop{\mathrm{codim}}(Z) = r\)</span> arises as
an irreducible component of <span
class="math inline">\(V(f_1,\dotsc,f_r) \subseteq
\mathop{\mathrm{Spec}}(A)\)</span> for some <span
class="math inline">\(f_1,\dotsc,f_r \in A\)</span>.</em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> We apply the previous result with <span
class="math inline">\(s = 0\)</span>. ◻</p>
</span></div>
<p>Here’s a slightly sharper variant:</p>
<div class="theorem">
<p><strong>Theorem 24</strong>. <em>Let <span
class="math inline">\(\mathfrak{p}\)</span> be a prime ideal in a
Noetherian ring with <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{p}) =
r\)</span>. Let <span class="math inline">\(\mathfrak{p}_0 \subsetneq
\dotsb \subsetneq \mathfrak{p}_r =
  \mathfrak{p}\)</span> be a chain of primes realizing the height of
<span class="math inline">\(\mathfrak{p}\)</span>. (Note that this
forces <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{p}_i) =
i\)</span> for all <span class="math inline">\(i\)</span>.) There exist
<span class="math inline">\(f_1,\dotsc,f_r\)</span> so that for each
<span class="math inline">\(0 \leq i \leq r\)</span>,</em></p>
<ul>
<li><p><em><span
class="math inline">\(\mathop{\mathrm{height}}(f_1,\dotsc,f_i) =
i\)</span>, and</em></p></li>
<li><p><em><span class="math inline">\(\mathfrak{p}_i\)</span> is a
minimal prime of <span class="math inline">\((f_1,\dotsc,f_i)\)</span>
for each <span class="math inline">\(0 \leq i \leq
    r\)</span>.</em></p></li>
</ul>
<p><em>In “geometric” terms, let <span class="math inline">\(Z_0
\supsetneq \dotsb \supsetneq Z_r\)</span> be closed irreducible subsets
of <span class="math inline">\(\mathop{\mathrm{Spec}}(A)\)</span> with
<span class="math inline">\(\mathop{\mathrm{codim}}(Z_r) = r\)</span>.
(Note that this forces <span
class="math inline">\(\mathop{\mathrm{codim}}(Z_i) = i\)</span> for all
<span class="math inline">\(i\)</span>.) Then we may find <span
class="math inline">\(f_1,\dotsc,f_r \in A\)</span> so that for each
<span class="math inline">\(0 \leq i \leq r\)</span>,</em></p>
<ul>
<li><p><em>every irreducible component of <span
class="math inline">\(V(f_1,\dotsc,f_i)\)</span> has codimension <span
class="math inline">\(i\)</span>, and</em></p></li>
<li><p><em><span class="math inline">\(Z_i\)</span> is an irreducible
component of <span
class="math inline">\(V(f_1,\dotsc,f_i)\)</span>.</em></p></li>
</ul>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> We argue by induction as above, choosing <span
class="math inline">\(f_{i+1}\)</span> to belong to <span
class="math inline">\(\mathfrak{p}_{i+1}\)</span> but not to any minimal
prime of <span class="math inline">\((f_1,\dotsc,f_i)\)</span>. ◻</p>
</span></div>
<h1 id="sec:orgfa54a11">§9. Systems of parameters</h1>
<h2 id="sec:org815b8ba">§9.1. A characterization of dimension</h2>
<div id="lem:easy-equivalences-before-system-of-params" class="lemma">
<p><strong>Lemma 25</strong>. Let <span
class="math inline">\((A,\mathfrak{m})\)</span> be a Noetherian local
ring and <span class="math inline">\(x_1,\dotsc,x_n \in
\mathfrak{m}\)</span>. The following conditions are equivalent:</p>
<ol type="i">
<li><p><span class="math inline">\(\mathfrak{m}\)</span> is the only
prime containing <span class="math inline">\((x_1,\dotsc,x_n)\)</span>,
i.e.: <span class="math display">\[V((x_1,\dotsc,x_n)) =
\{\mathfrak{m}\}.\]</span></p></li>
<li><p><span class="math inline">\(\mathfrak{m}\)</span> is a minimal
prime of <span class="math inline">\((x_1,\dotsc,x_n)\)</span>.</p></li>
<li><p><span
class="math inline">\(\mathop{\mathrm{rad}}((x_1,\dotsc,x_n)) =
\mathfrak{m}\)</span>.</p></li>
<li><p>The ideal <span class="math inline">\((x_1,\dotsc,x_n)\)</span>
is <span class="math inline">\(\mathfrak{m}\)</span>-primary.</p></li>
</ol>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> The equivalence of (i),(ii) and (iii) follows from
the assumption that <span class="math inline">\(\mathfrak{m}\)</span> is
maximal. The equivalence of (iii) and (iv) follows from the fact that an
ideal is primary whenever its radical is a maximal ideal. ◻</p>
</span></div>
<div id="thm:dimension-in-terms-of-params" class="theorem">
<p><strong>Theorem 26</strong>. <em>Let <span
class="math inline">\((A,\mathfrak{m})\)</span> be a Noetherian local
ring. Then <span class="math inline">\(\dim(A)\)</span> is the smallest
integer <span class="math inline">\(n\)</span> for which the equivalent
conditions of Lemma <a
href="#lem:easy-equivalences-before-system-of-params"
data-reference-type="ref"
data-reference="lem:easy-equivalences-before-system-of-params">25</a>
are satisfied, i.e., <span class="math display">\[\dim(A) = \min \{n
\geq 0 : \exists
  x_1,\dotsc,x_n \in \mathfrak{m}
  \text{ with }
  V((x_1,\dotsc,x_n)) = \{\mathfrak{m} \}
  \}.\]</span></em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> If there exist <span
class="math inline">\(x_1,\dotsc,x_n\)</span> with <span
class="math inline">\(V((x_1,\dotsc,x_n)) =
  \{\mathfrak{m} \}\)</span> then Krull’s dimension theorem implies that
<span class="math inline">\(\dim(A) =
\mathop{\mathrm{height}}(\mathfrak{m}) \leq n\)</span>. If <span
class="math inline">\(n = \dim(A)\)</span>, then the “converse to Krull”
(Corollary <a href="#cor:existence-parameters-for-prime"
data-reference-type="ref"
data-reference="cor:existence-parameters-for-prime">23</a>) implies that
there exist <span class="math inline">\(x_1,\dotsc,x_n\)</span> with
<span class="math inline">\(V((x_1,\dotsc,x_n)) =
  \{\mathfrak{m} \}\)</span>. ◻</p>
</span></div>
<p>Theorem <a href="#thm:dimension-in-terms-of-params"
data-reference-type="ref"
data-reference="thm:dimension-in-terms-of-params">26</a> will be very
useful as a tool for giving <em>upper bounds</em> on the dimension of a
Noetherian local ring <span
class="math inline">\((A,\mathfrak{m})\)</span>: to show that <span
class="math inline">\(\dim(A) \leq n\)</span>, it suffices to construct
elements <span class="math inline">\(x_1,\dotsc,x_n\)</span> with <span
class="math inline">\(V((x_1,\dotsc,x_n)) = \mathfrak{m}\)</span>.</p>
<h2 id="sec:org9e31ea4">§9.2. Definition</h2>
<div class="definition">
<p><strong>Definition 27</strong>. Let <span
class="math inline">\((A,\mathfrak{m})\)</span> be a Noetherian local
ring. We say that <span class="math inline">\(x_1,\dotsc,x_n \in
\mathfrak{m}\)</span> form a <em>system of parameters</em> for <span
class="math inline">\(\mathfrak{m}\)</span> if</p>
<ol type="i">
<li><p><span class="math inline">\(n = \dim(A) =
\mathop{\mathrm{height}}(\mathfrak{m})\)</span>, and</p></li>
<li><p>the equivalent conditions of Lemma <a
href="#lem:easy-equivalences-before-system-of-params"
data-reference-type="ref"
data-reference="lem:easy-equivalences-before-system-of-params">25</a>
are satisfied, e.g., if <span class="math inline">\(V((x_1,\dotsc,x_n))
= \{\mathfrak{m}\}\)</span>.</p></li>
</ol>
</div>
<p>Theorem <a href="#thm:dimension-in-terms-of-params"
data-reference-type="ref"
data-reference="thm:dimension-in-terms-of-params">26</a> implies that
systems of parameters exist.</p>
<h2 id="sec:orgdc48040">§9.3. Extensions of partial systems of parameters</h2>
<p>Let <span class="math inline">\((A,\mathfrak{m})\)</span> be a
Noetherian local ring. Given a collection of <span
class="math inline">\(x_1,\dotsc,x_r \in \mathfrak{m}\)</span> of
elements of its maximal ideal, we aim to understand when this collection
may be extended to a system of parameters. To that end, define the
quotient ring <span class="math inline">\(\overline{A} := A /
(x_1,\dotsc,x_r)\)</span>; it is a Noetherian local ring with maximal
ideal <span class="math inline">\(\overline{\mathfrak{m}}\)</span> given
by the image of <span class="math inline">\(\mathfrak{m}\)</span>, and
satisfies the following general dimension lower-bound:</p>
<div id="lem:lower-bound-dimension-quotient-by-r-gens" class="lemma">
<p><strong>Lemma 28</strong>. <span
class="math inline">\(\dim(\overline{A}) \geq \dim(A) - r\)</span>.</p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Write <span class="math inline">\(s =
\dim(\overline{A})\)</span>. Choose elements <span
class="math inline">\(y_1,\dotsc,y_s \in A\)</span> whose images <span
class="math inline">\(\overline{y_1},\dotsc,\overline{y_s} \in
  \overline{A}\)</span> form a system of parameters for <span
class="math inline">\(\overline{\mathfrak{m}}\)</span>. In particular,
<span class="math inline">\(\overline{\mathfrak{m}}\)</span> is the only
prime containing <span
class="math inline">\((\overline{y_1},\dotsc,\overline{y_s})\)</span>.
It follows that <span class="math inline">\(\mathfrak{m}\)</span> is the
only prime containing <span
class="math inline">\((x_1,\dotsc,x_r,y_1,\dotsc,y_s)\)</span>. From
this we deduce the upper bound <span class="math inline">\(\dim(A) \leq
r + s\)</span>, which rearranges to the required inequality. ◻</p>
</span></div>
<div id="thm:extensions-systems-params" class="theorem">
<p><strong>Theorem 29</strong>. <em>Among the following assertions, (i)
implies (ii) and (iii), while (ii) and (iii) are equivalent.</em></p>
<ol type="i">
<li><p><em><span
class="math inline">\(\mathop{\mathrm{height}}((x_1,\dotsc,x_r)) =
r\)</span>.</em></p></li>
<li><p><em>We may extend <span
class="math inline">\(\{x_1,\dotsc,x_r\}\)</span> to a system of
parameters for <span
class="math inline">\(\mathfrak{m}\)</span>.</em></p></li>
<li><p><em><span class="math inline">\(\dim(\overline{A}) = \dim(A) -
r\)</span>.</em></p></li>
</ol>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content">  </p>
<ul>
<li><p>(i) implies (ii): Set <span class="math inline">\(n :=
\mathop{\mathrm{height}}(\mathfrak{m}) = \dim(A)\)</span>. Then every
prime in <span class="math inline">\(A\)</span> has height <span
class="math inline">\(\leq n\)</span>, so <span class="math inline">\(r
\leq n\)</span>. By Theorem <a href="#thm:conv-to-krull-1"
data-reference-type="ref" data-reference="thm:conv-to-krull-1">21</a>,
we may find <span class="math inline">\(x_{r+1},\dotsc,x_n\)</span> for
which <span
class="math inline">\(\mathop{\mathrm{height}}((x_1,\dotsc,x_n)) =
n\)</span>, i.e., so that <span class="math inline">\(n\)</span> is the
minimal height among primes containing <span
class="math inline">\((x_1,\dotsc,x_n)\)</span>. Since <span
class="math inline">\(\mathfrak{m}\)</span> is the unique prime in <span
class="math inline">\(A\)</span> of height <span
class="math inline">\(n\)</span>, we deduce that it is the only prime
containing <span class="math inline">\((x_1,\dotsc,x_n)\)</span>. Thus
<span class="math inline">\(x_1,\dotsc,x_n\)</span> is a system of
parameters.</p></li>
<li><p>(i) implies (iii): we combine Lemma <a
href="#lem:lower-bound-dimension-quotient-by-r-gens"
data-reference-type="ref"
data-reference="lem:lower-bound-dimension-quotient-by-r-gens">28</a>
with the easy inequality <span class="math inline">\(\dim(A) \geq
\dim(\overline{A}) +
    \mathop{\mathrm{height}}((x_1,\dotsc,x_r))\)</span> (cf. Lemma <a
href="#lem:easy-dimension-inequality" data-reference-type="ref"
data-reference="lem:easy-dimension-inequality">1</a>). (This implication
has been included redundantly for the sake of illustration.)</p></li>
<li><p>(ii) implies (iii): Suppose we can extend <span
class="math inline">\(x_1,\dotsc,x_r\)</span> to a system of parameters
<span class="math inline">\(x_1,\dotsc,x_r,y_1,\dotsc,y_s\)</span> for
<span class="math inline">\(\mathfrak{m}\)</span>. Then <span
class="math inline">\(r + s = \dim(A)\)</span> and <span
class="math inline">\(V((\overline{y_1},\dotsc,\overline{y_s})) =
    \overline{\mathfrak{m}}\)</span>, whence <span
class="math inline">\(s \geq \dim(\overline{A})\)</span>; by Lemma <a
href="#lem:lower-bound-dimension-quotient-by-r-gens"
data-reference-type="ref"
data-reference="lem:lower-bound-dimension-quotient-by-r-gens">28</a>, we
deduce that <span class="math inline">\(s \geq \dim(\overline{A}) \geq
\dim(A) - r = s\)</span>, so equality holds and <span
class="math inline">\(\dim(\overline{A}) = s\)</span>, as
required.</p></li>
<li><p>(iii) implies (ii): Suppose that <span class="math inline">\(s :=
\dim(\overline{A}) = \dim(A) - r\)</span>. Let <span
class="math inline">\(y_1,\dotsc,y_s \in \mathfrak{m}\)</span> be such
that their images <span
class="math inline">\(\overline{y_1},\dotsc,\overline{y_s}\)</span> form
a system of parameters for <span
class="math inline">\(\overline{\mathfrak{m}}\)</span>. Then <span
class="math inline">\(V((x_1,\dotsc,x_r,y_1,\dotsc,y_s)) =
\{\mathfrak{m}\}\)</span> and <span class="math inline">\(r + s =
\dim(A)\)</span>, so <span
class="math inline">\(x_1,\dotsc,x_r,y_1,\dotsc,y_s\)</span> gives the
required extension of <span
class="math inline">\(x_1,\dotsc,x_r\)</span> to a system of parameters
for <span class="math inline">\(\mathfrak{m}\)</span>.</p></li>
</ul>
<p> ◻</p>
</span></div>
<div class="corollary">
<p><strong>Corollary 30</strong>. <em>Let <span
class="math inline">\((A,\mathfrak{m})\)</span> be a Noetherian local
ring, and let <span class="math inline">\(f \in \mathfrak{m}\)</span> be
a non-zerodivisor. Then <span class="math display">\[\dim(A/(f)) =
\dim(A) - 1.\]</span></em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Since <span class="math inline">\(f\)</span> is a
non-zerodivisor, Krull’s principal ideal theorem implies that <span
class="math inline">\(\mathop{\mathrm{height}}((f)) = 1\)</span>.
Theorem <a href="#thm:extensions-systems-params"
data-reference-type="ref"
data-reference="thm:extensions-systems-params">29</a> applies with <span
class="math inline">\(r := 1\)</span> and <span
class="math inline">\(x_1 := f\)</span> to produce an extension of <span
class="math inline">\(\{f\}\)</span> to a system of parameters <span
class="math inline">\(f,y_1,\dotsc,y_s\)</span> for <span
class="math inline">\(A\)</span>, with <span class="math inline">\(s :=
\dim(A/(f))\)</span>. In particular, <span class="math inline">\(\dim(A)
= s + 1\)</span>, as required. ◻</p>
</span></div>
<h1 id="sec:org80bf51b">§10. Dimensions of polynomial rings</h1>
<div class="theorem">
<p><strong>Theorem 31</strong>. <em>Let <span
class="math inline">\(A\)</span> be a Noetherian ring, and <span
class="math inline">\(n \in \mathbb{Z}_{\geq 0}\)</span>. Then <span
class="math display">\[\dim A[X_1,\dotsc,X_n] = \dim A +
n.\]</span></em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> By iterating, it suffices to consider the case <span
class="math inline">\(n=1\)</span>. Set <span class="math inline">\(r :=
\dim(A)\)</span>. We must verify that <span class="math inline">\(\dim
A[X] = r + 1\)</span>. Let <span class="math inline">\(\mathfrak{p}_0
\subsetneq \dotsb \subsetneq
  \mathfrak{p}_r\)</span> be a chain of primes in <span
class="math inline">\(A\)</span> of length realizing the dimension of
<span class="math inline">\(A\)</span>. Then <span
class="math display">\[\mathfrak{p}_0 A[x] \subsetneq \dotsb \subsetneq
    \mathfrak{p}_r A[X]
    \subsetneq \mathfrak{p}_r A[X] + X A[X]\]</span> is readily seen to
give a chain of primes in <span class="math inline">\(A[X]\)</span> of
length <span class="math inline">\(r+1\)</span>, hence <span
class="math inline">\(\dim A[X] \geq r + 1\)</span>. The upper bound is
trickier. It will suffice to show for each maximal ideal <span
class="math inline">\(\mathfrak{m}
  \subseteq A[X]\)</span> that <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{m}) \leq r +
1\)</span>. Set <span class="math inline">\(\mathfrak{p} := \mathfrak{m}
\cap A\)</span>; it is a prime ideal. We may replace <span
class="math inline">\(A\)</span> with its localization <span
class="math inline">\(A_\mathfrak{p}\)</span> and <span
class="math inline">\(A[X]\)</span> with <span
class="math inline">\((A[X])_\mathfrak{p} = A_\mathfrak{p}[X]\)</span>
to reduce to the case that <span
class="math inline">\((A,\mathfrak{p})\)</span> is a Noetherian local
ring. The quotient <span class="math inline">\(A/\mathfrak{p}\)</span>
is then a field and so the ring <span
class="math inline">\(A[X]/\mathfrak{p} A[X] =
A/\mathfrak{p}[X]\)</span> is then a PID. The image of <span
class="math inline">\(\mathfrak{m}\)</span> in the latter ring is thus
principal. We may thus write <span class="math inline">\(\mathfrak{m} =
\mathfrak{p} A[X] + f A[X]\)</span> for some <span
class="math inline">\(f \in A[X]\)</span>. Let <span
class="math inline">\(x_1,\dotsc,x_r \in \mathfrak{p}\)</span> be a
system of parameters for <span
class="math inline">\(\mathfrak{p}\)</span>. Then <span
class="math inline">\(\mathfrak{m}\)</span> is the only prime containing
<span class="math inline">\((x_1,\dotsc,x_r,f)\)</span>: any such prime
<span class="math inline">\(\mathfrak{q}\)</span> contains <span
class="math inline">\(x_1,\dotsc,x_r\)</span> and hence contains <span
class="math inline">\(\mathfrak{p}\)</span>, and so identifies with a
prime ideal in the quotient <span
class="math inline">\(A/\mathfrak{p}[X]\)</span> that contains the image
of <span class="math inline">\(f\)</span>, whence <span
class="math inline">\(\mathfrak{q} = \mathfrak{m}\)</span>. It follows
from Theorem <a href="#thm:dimension-in-terms-of-params"
data-reference-type="ref"
data-reference="thm:dimension-in-terms-of-params">26</a> that <span
class="math inline">\(\dim(A) = \mathop{\mathrm{height}}(\mathfrak{m})
\leq r + 1\)</span>, as required. ◻</p>
</span></div>
<p>For example:</p>
<div class="proposition">
<p><strong>Proposition 32</strong>. <em>Let <span
class="math inline">\(A := \mathbb{C}[X_1,\dotsc,X_n]\)</span>, and let
<span class="math inline">\(\mathfrak{m}\)</span> be a maximal ideal,
thus <span class="math inline">\(\mathfrak{m} =
(X_1-x_1,\dotsc,X_n-x_n)\)</span> for some <span
class="math inline">\((x_1,\dotsc,x_n) \in \mathbb{C}^n\)</span>. Then
<span class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{m}) =
n\)</span>. The localization <span
class="math inline">\(A_\mathfrak{m}\)</span> is a local ring of
dimension <span class="math inline">\(n\)</span>, whose maximal ideal is
generated by a system of parameters.</em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> The ideals <span class="math inline">\(\mathfrak{p}_i
:= (X_1-x_1, \dotsc, X_i - x_i)\)</span> (<span
class="math inline">\(i=0..n\)</span>) are prime, distinct and
increasing to <span class="math inline">\(\mathfrak{p}_n =
\mathfrak{m}\)</span>, so <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{m}) \geq
n\)</span>. Conversely, it’s clear that <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{m}) \leq
\dim(A) = n\)</span>. Therefore <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{m}) =
n\)</span>. The assertion concerning <span
class="math inline">\(A_\mathfrak{m}\)</span> then follows from the
identity <span class="math inline">\(\dim(A_\mathfrak{m}) =
\mathop{\mathrm{height}}(\mathfrak{m})\)</span> and the fact that <span
class="math inline">\(\mathfrak{m}\)</span> is generated by <span
class="math inline">\(X_1-x_1,\dotsc,X_n-x_n\)</span>. ◻</p>
</span></div>
<h1 id="sec:org3fde1d4">§11. Preliminaries on regular local rings</h1>
<p>Let <span class="math inline">\((A,\mathfrak{m})\)</span> be a
Noetherian local ring of dimension <span class="math inline">\(d :=
\dim(A) = \mathop{\mathrm{height}}(\mathfrak{m})\)</span>. Denote by
<span class="math inline">\(k := A/\mathfrak{m}\)</span> the residue
field. For any module <span class="math inline">\(M\)</span>, the
quotient <span class="math inline">\(M/\mathfrak{m} M\)</span> is then
naturally a <span class="math inline">\(k\)</span>-vector space. This
consideration applies in particular when <span class="math inline">\(M =
\mathfrak{m}\)</span>, so that <span class="math inline">\(M /
\mathfrak{m} M = \mathfrak{m} / \mathfrak{m}^2\)</span>.</p>
<div class="lemma">
<p><strong>Lemma 33</strong>. In general, <span
class="math inline">\(\dim_k \mathfrak{m} / \mathfrak{m}^2 \geq
d\)</span>. The following are equivalent:</p>
<ol type="i">
<li><p><span class="math inline">\(\mathfrak{m}\)</span> is generated by
<span class="math inline">\(d\)</span> elements, necessarily a system of
parameters.</p></li>
<li><p><span class="math inline">\(\dim_{k} \mathfrak{m}/\mathfrak{m}^2
= d\)</span>.</p></li>
</ol>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Set <span class="math inline">\(r := \dim_k
\mathfrak{m} / \mathfrak{m}^2\)</span>.</p>
<p>For the first inequality, suppose <span
class="math inline">\(x_1,\dotsc,x_{r} \in \mathfrak{m}\)</span> have
the property that their images give a <span
class="math inline">\(k\)</span>-basis of <span
class="math inline">\(\mathfrak{m} / \mathfrak{m}^2\)</span>. By
Nakayama’s lemma, it follows that <span
class="math inline">\(x_1,\dotsc,x_r\)</span> generate <span
class="math inline">\(\mathfrak{m}\)</span>. By Krull’s dimension
theorem, it follows that <span class="math inline">\(d =
\mathop{\mathrm{height}}(\mathfrak{m}) \leq r\)</span>, as required.</p>
<p>(i) implies (ii): If <span
class="math inline">\(x_1,\dotsc,x_d\)</span> generate <span
class="math inline">\(\mathfrak{m}\)</span>, then their images span
<span class="math inline">\(\mathfrak{m}/\mathfrak{m}^2\)</span>, whence
<span class="math inline">\(d \geq r\)</span>. Comparing with the
reverse inequality which holds in general, we deduce that <span
class="math inline">\(d = r\)</span>.</p>
<p>(ii) implies (i): Assuming (ii), we may find <span
class="math inline">\(x_1,\dotsc,x_d \in \mathfrak{m}\)</span> which
generate <span
class="math inline">\(\mathfrak{m}/\mathfrak{m}^2\)</span>, hence (by
Nakayama) generate <span class="math inline">\(\mathfrak{m}\)</span>,
giving (i). ◻</p>
</span></div>
<h1 id="sec:org4afff50">§12. Basics on integral extensions</h1>
<p>Let <span class="math inline">\(A \subseteq B\)</span> be rings. The
discussion that follows applies with minor modifications to any <span
class="math inline">\(A\)</span>-algebra <span
class="math inline">\(\phi : A \rightarrow B\)</span>, by replacing
<span class="math inline">\(A\)</span> with <span
class="math inline">\(\phi(A)\)</span>.</p>
<p>We say that <span class="math inline">\(x \in B\)</span> is
<em>integral over <span class="math inline">\(A\)</span></em> if it is a
root of a monic polynomial with coefficients in <span
class="math inline">\(a\)</span>, i.e., if there exist <span
class="math inline">\(a_1,\dotsc,a_n \in A\)</span> so that <span
class="math display">\[x^n + a_1 x^{n-1} + \dotsb + a_n = 0.\]</span> We
say that <span class="math inline">\(B\)</span> is <em>integral over
<span class="math inline">\(A\)</span></em> if each <span
class="math inline">\(x \in B\)</span> is integral over <span
class="math inline">\(A\)</span>.</p>
<p>For example, if <span class="math inline">\(K \subset L\)</span> are
fields, then <span class="math inline">\(x \in L\)</span> (resp. <span
class="math inline">\(L\)</span> itself) is integral over <span
class="math inline">\(K\)</span> precisely when it is algebraic over
<span class="math inline">\(K\)</span>.</p>
<p>We say that the extension <span class="math inline">\(A \subseteq
B\)</span> is <em>finite</em> if <span class="math inline">\(B\)</span>
is a finite <span class="math inline">\(A\)</span>-module. (We might
also say more generally that a morphism <span class="math inline">\(\phi
: A \rightarrow B\)</span> is finite if <span
class="math inline">\(\phi(A) \subseteq B\)</span> is finite.)</p>
<p>The key point is the following:</p>
<div id="thm:characterizing-integrality" class="theorem">
<p><strong>Theorem 34</strong>. <em>Let <span class="math inline">\(x
\in B\)</span>. The following are equivalent:</em></p>
<ol type="i">
<li><p><em><span class="math inline">\(x\)</span> is integral over <span
class="math inline">\(A\)</span>.</em></p></li>
<li><p><em>The subring <span class="math inline">\(A[x] \subseteq
B\)</span> generated by <span class="math inline">\(x\)</span> and <span
class="math inline">\(\phi(A)\)</span> is a finitely-generated <span
class="math inline">\(A\)</span>-module.</em></p></li>
<li><p><em><span class="math inline">\(A[x]\)</span> is contained in a
subring <span class="math inline">\(C\)</span> of <span
class="math inline">\(B\)</span> which is finitely-generated as an <span
class="math inline">\(A\)</span>-module.</em></p></li>
<li><p><em>There is a faithful <span
class="math inline">\(A[x]\)</span>-module <span
class="math inline">\(M\)</span> which is finitely-generated over <span
class="math inline">\(A\)</span>.</em></p></li>
</ol>
</div>
<div class="proof">
<p><em>Proof of Theorem <a href="#thm:characterizing-integrality"
data-reference-type="ref"
data-reference="thm:characterizing-integrality">34</a>.</em> (i) implies
(ii): If <span class="math inline">\(x\)</span> is integral over <span
class="math inline">\(A\)</span>, say <span class="math inline">\(x^n =
\dotsb\)</span>, then the subring <span
class="math inline">\(A[x]\)</span> is generated as an <span
class="math inline">\(A\)</span>-module by <span
class="math inline">\(1, x, \dotsc, x^{n-1}\)</span>.</p>
<p>(ii) implies (iii): take <span class="math inline">\(C :=
A[x]\)</span>.</p>
<p>(iii) implies (iv): take <span class="math inline">\(M := C\)</span>,
and note <span class="math inline">\(C \ni 1\)</span>.</p>
<p>(iv) implies (i): Write <span class="math inline">\(M = \sum_{i=1}^n
A e_i\)</span>, then <span class="math inline">\(x M \subseteq
M\)</span> gives equations <span class="math inline">\(x e_i =
\sum_{j=1}^n a_{i j} e_j\)</span>, which we may rewrite in the form
<span class="math inline">\(\Delta e = 0\)</span>, where <span
class="math inline">\(\Delta_{i j} := \delta_{i j} x -  a_{i j} \in
A[x]\)</span> and <span class="math inline">\(e\)</span> is the column
vector with <span class="math inline">\(j\)</span>th entry <span
class="math inline">\(e_j \in A\)</span>. By Cramer’s rule, we have
<span class="math inline">\(\Delta^{\mathop{\mathrm{ad}}} \Delta =
\det(\Delta) 1_n\)</span> for some matrix <span
class="math inline">\(\Delta^{\mathop{\mathrm{ad}}}\)</span> with
entries in <span class="math inline">\(A[x]\)</span>, whose <span
class="math inline">\((i,j)\)</span> entry may be expressed as <span
class="math inline">\((-1)^{i+j} \det (\Delta^{i,j})\)</span>, where
<span class="math inline">\(\Delta^{i,j}\)</span> denotes the matrix
obtained by striking out from <span
class="math inline">\(\Delta\)</span> the <span
class="math inline">\(i\)</span>th row and <span
class="math inline">\(j\)</span>th column. Thus <span
class="math inline">\(\det(\Delta) e_j = 0\)</span> for all <span
class="math inline">\(j\)</span>. Since <span
class="math inline">\(M\)</span> is faithful, it follows that <span
class="math inline">\(\det(\Delta) = 0\)</span>, which gives a monic
polynomial equation for <span class="math inline">\(x\)</span> over
<span class="math inline">\(A\)</span>. ◻</p>
</div>
<div class="lemma">
<p><strong>Lemma 35</strong>. Let <span class="math inline">\(A
\subseteq B \subseteq C\)</span> be rings. Let <span
class="math inline">\(x \in C\)</span> be integral over <span
class="math inline">\(A\)</span>. Then <span
class="math inline">\(x\)</span> is integral over <span
class="math inline">\(B\)</span>.</p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Clear: a monic equation satisfied by <span
class="math inline">\(x\)</span> with coefficients in <span
class="math inline">\(A\)</span> also has coefficients in <span
class="math inline">\(B\)</span>. ◻</p>
</span></div>
<div class="lemma">
<p><strong>Lemma 36</strong>. Let <span class="math inline">\(A
\subseteq B \subseteq C\)</span> be rings, with <span
class="math inline">\(B\)</span> finite over <span
class="math inline">\(A\)</span> and <span
class="math inline">\(C\)</span> finite over <span
class="math inline">\(B\)</span>. Then <span
class="math inline">\(C\)</span> is finite over <span
class="math inline">\(A\)</span>.</p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> By hypothesis, we have <span class="math inline">\(B
= \sum_i A x_i\)</span> and <span class="math inline">\(C = \sum_j B
y_j\)</span> for some finite collections <span
class="math inline">\(\{x_i\} \subseteq B\)</span>, <span
class="math inline">\(\{y_j\} \subseteq C\)</span>. Then <span
class="math display">\[C = \sum_j (\sum_i A x_i) y_j
  = \sum_{i,j} A x_i y_j.\]</span> ◻</p>
</span></div>
<div class="lemma">
<p><strong>Lemma 37</strong>. Let <span
class="math inline">\(x_1,\dotsc,x_n \in B\)</span> be integral over
<span class="math inline">\(A\)</span>. Then <span
class="math inline">\(A[x_1,\dotsc,x_n]\)</span> is a finite over <span
class="math inline">\(A\)</span>.</p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> We induct on <span class="math inline">\(n\)</span>.
The case <span class="math inline">\(n = 1\)</span> follows from the
theorem. For <span class="math inline">\(n &gt; 1\)</span>, we see that
<span class="math inline">\(A[x_1,\dotsc,x_n]\)</span> is integral and
hence finite over <span
class="math inline">\(A[x_1,\dotsc,x_{n-1}]\)</span>, which is in turn
finite over <span class="math inline">\(A\)</span>; we then conclude by
the previous lemma. ◻</p>
</span></div>
<div class="corollary">
<p><strong>Corollary 38</strong>. <em>The following are equivalent for
an extension of rings <span class="math inline">\(A \subset
B\)</span>:</em></p>
<ol>
<li><p><em><span class="math inline">\(B\)</span> is finite over <span
class="math inline">\(A\)</span>.</em></p></li>
<li><p><em><span class="math inline">\(B\)</span> is integral and
finitely-generated over <span
class="math inline">\(A\)</span>.</em></p></li>
</ol>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> If <span class="math inline">\(B\)</span> is finite
over <span class="math inline">\(A\)</span>, then the equivalence “(iii)
implies (i)” proved above shows that it is integral over <span
class="math inline">\(A\)</span>; on the other hand, it is clearly
finitely-generated. The converse is given by the preceeding lemma. ◻</p>
</span></div>
<div class="corollary">
<p><strong>Corollary 39</strong>. <em>The set of elements <span
class="math inline">\(x \in B\)</span> that are integral over <span
class="math inline">\(A\)</span> forms an <span
class="math inline">\(A\)</span>-subalgebra of <span
class="math inline">\(B\)</span>.</em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> If <span class="math inline">\(x,y \in B\)</span> are
integral over <span class="math inline">\(A\)</span>, then the previous
results show that <span class="math inline">\(A[x,y]\)</span> is finite
over <span class="math inline">\(A\)</span>, hence integral over <span
class="math inline">\(A\)</span>. In particular, <span
class="math inline">\(a_1 x + a_2 y\)</span> (for <span
class="math inline">\(a_1,a_2 \in A\)</span>) and <span
class="math inline">\(x y\)</span> are integral over <span
class="math inline">\(A\)</span>. ◻</p>
</span></div>
<div class="definition">
<p><strong>Definition 40</strong>. Let <span class="math inline">\(A
\subseteq B\)</span> be rings. The <em>integral closure <span
class="math inline">\(\overline{A}\)</span> of <span
class="math inline">\(A\)</span> in <span
class="math inline">\(B\)</span></em> is the set of all <span
class="math inline">\(x \in B\)</span> that are integral over <span
class="math inline">\(A\)</span>. By the previous result, <span
class="math inline">\(\overline{A}\)</span> is an <span
class="math inline">\(A\)</span>-subalgebra of <span
class="math inline">\(B\)</span>. We say that <span
class="math inline">\(A\)</span> is <em>integrally closed in <span
class="math inline">\(B\)</span></em> if <span class="math inline">\(A =
\overline{A}\)</span>, i.e., if every element of <span
class="math inline">\(B\)</span> that is integral over <span
class="math inline">\(A\)</span> already belongs to <span
class="math inline">\(A\)</span>.</p>
</div>
<div class="lemma">
<p><strong>Lemma 41</strong>. Let <span class="math inline">\(A \subset
B \subset C\)</span> be rings. If <span class="math inline">\(B\)</span>
is integral over <span class="math inline">\(A\)</span> and <span
class="math inline">\(C\)</span> is integral over <span
class="math inline">\(B\)</span>, then <span
class="math inline">\(C\)</span> is integral over <span
class="math inline">\(A\)</span>.</p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Let <span class="math inline">\(x \in C\)</span>; we
must check that <span class="math inline">\(x\)</span> is integral over
<span class="math inline">\(A\)</span>. Since <span
class="math inline">\(C\)</span> is integral over <span
class="math inline">\(B\)</span>, we have <span
class="math display">\[x^n + b_1 x^{n-1} + \dotsb + b_n = 0\]</span> for
some <span class="math inline">\(b_1,\dotsc,b_n \in B\)</span>. Since
each <span class="math inline">\(b_i\)</span> is integral over <span
class="math inline">\(A\)</span>, the ring <span
class="math inline">\(B_0 := A[b_1,\dotsc,b_n]\)</span> is finite over
<span class="math inline">\(A\)</span>. The element <span
class="math inline">\(x\)</span> is integral over <span
class="math inline">\(B_0\)</span>, and so <span
class="math inline">\(B_0[x]= A[b_1,\dotsc,b_n,x]\)</span> is finite
over <span class="math inline">\(B_0\)</span>. Thus <span
class="math inline">\(A[b_1,\dotsc,b_n,x]\)</span> is finite over <span
class="math inline">\(A\)</span>. By Theorem <a
href="#thm:characterizing-integrality" data-reference-type="ref"
data-reference="thm:characterizing-integrality">34</a>, we conclude that
<span class="math inline">\(x\)</span> is integral over <span
class="math inline">\(A\)</span>. ◻</p>
</span></div>
<div class="corollary">
<p><strong>Corollary 42</strong>. <em>Let <span
class="math inline">\(\overline{A}\)</span> denote the integral closure
of <span class="math inline">\(A \subset B\)</span>. Then <span
class="math inline">\(\overline{A}\)</span> is integrally closed in
<span class="math inline">\(B\)</span>.</em></p>
</div>
<div class="lemma">
<p><strong>Lemma 43</strong>. Let <span class="math inline">\(A \subset
B\)</span> be an integral extension of rings.</p>
<ol>
<li><p>Let <span class="math inline">\(\mathfrak{b} \subset B\)</span>
be an ideal, and set <span class="math inline">\(\mathfrak{a} :=
A/\mathfrak{a}\)</span>. Then the extension of rings <span
class="math inline">\(A / \mathfrak{a} \subset B / \mathfrak{b}\)</span>
is integral.</p></li>
<li><p>Let <span class="math inline">\(S \subset A\)</span> be a
multiplicative subset. Then <span class="math inline">\(S^{-1} A \subset
S^{-1} B\)</span> is integral.</p></li>
</ol>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Just do it. ◻</p>
</span></div>
<div class="definition">
<p><strong>Definition 44</strong>. We say that an integral domain <span
class="math inline">\(A\)</span> is <em>normal</em> if it is integrally
closed in its field of fractions <span class="math inline">\(K :=
\mathop{\mathrm{Frac}}(A)\)</span>.</p>
</div>
<div class="lemma">
<p><strong>Lemma 45</strong>. Let <span class="math inline">\(A\)</span>
be a UFD. Then <span class="math inline">\(A\)</span> is normal.</p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Suppose <span class="math inline">\(r/s \in K :=
\mathop{\mathrm{Frac}}(A)\)</span> is integral over <span
class="math inline">\(A\)</span>, where <span class="math inline">\(r,s
\in A\)</span> are coprime. Then <span class="math inline">\((r/s)^n +
a_1 (r/s)^{n-1} + \dotsb + a_n = 0\)</span> for some <span
class="math inline">\(a_1,\dotsc,a_n \in A\)</span>. Thus <span
class="math display">\[-r^n = a_1 r^{n-1} s + a_2 r^{n-2} s^2 + \dotsb +
a_n s^n.\]</span> The RHS and hence the LHS is then divisible by <span
class="math inline">\(s\)</span>, so <span
class="math inline">\(s\)</span> divides <span
class="math inline">\(r^n\)</span>; since <span
class="math inline">\(r,s\)</span> are coprime, we must have <span
class="math inline">\(s \in A^\times\)</span>, and so <span
class="math inline">\(r/s \in A\)</span>. ◻</p>
</span></div>
<div class="example">
<p><strong>Example 46</strong>. In particular, <span
class="math inline">\(\mathbb{Z}\)</span> and <span
class="math inline">\(k[x]\)</span> (for a field <span
class="math inline">\(k\)</span>) are both normal. On the other hand,
the ring <span class="math inline">\(A := k[x^2,x^3]\)</span> is not
integrally closed in its field of fractions <span
class="math inline">\(K := k(x)\)</span> (because <span
class="math inline">\(x \in K - A\)</span> is integral over <span
class="math inline">\(A\)</span>), hence is not normal.</p>
<p>The integral closure of <span
class="math inline">\(\mathbb{Z}\)</span> in <span
class="math inline">\(\mathbb{C}\)</span> is the ring of <em>algebraic
integers</em>. Given a finite field extension <span
class="math inline">\(K/\mathbb{Q}\)</span>, the integral closure <span
class="math inline">\(\mathcal{O}_K\)</span> of <span
class="math inline">\(\mathbb{Z}\)</span> in <span
class="math inline">\(K\)</span> is called the <em>ring of integers</em>
of <span class="math inline">\(K\)</span>. These rings are all normal.
One can show that if <span class="math inline">\(K =
\mathbb{Q}(\sqrt{-3})\)</span>, then <span
class="math inline">\(\mathcal{O}_K = \mathbb{Z} [\frac{1 +
\sqrt{-3}}{2}]\)</span>, which properly contains the subring <span
class="math inline">\(\mathbb{Z}[\sqrt{-3}]\)</span>, which is thus
<em>not</em> a normal ring.</p>
<p>More generally, if <span class="math inline">\(A\)</span> is a normal
domain with field of fractions <span class="math inline">\(K\)</span>,
if <span class="math inline">\(L/K\)</span> is a field extension, and if
<span class="math inline">\(B\)</span> denotes the integral closure of
<span class="math inline">\(A\)</span> in <span
class="math inline">\(L\)</span>, then <span
class="math inline">\(B\)</span> is normal. This situation arises often
both in algebraic number theory (where <span class="math inline">\(K =
\mathbb{Q}\)</span>, for instance) and in the study of curves in
algebraic geometry (where, e.g., <span class="math inline">\(K =
k[t]\)</span> for some field <span
class="math inline">\(k\)</span>).</p>
</div>
<p>The <em>normalization</em> <span
class="math inline">\(A^{\mathrm{norm}}\)</span> of an integral domain
<span class="math inline">\(A\)</span> is the integral closure of <span
class="math inline">\(A\)</span> inside <span
class="math inline">\(\mathop{\mathrm{Frac}}(A)\)</span>. The preceeding
result shows that <span class="math inline">\(A^{\mathrm{norm}}\)</span>
is normal.</p>
<div class="lemma">
<p><strong>Lemma 47</strong>. Normality is a local property, i.e., the
following are equivalent for an integral domain <span
class="math inline">\(A\)</span>:</p>
<ol>
<li><p><span class="math inline">\(A\)</span> is normal.</p></li>
<li><p><span class="math inline">\(S^{-1} A\)</span> is normal for each
multiplicative subset <span class="math inline">\(S \subset
A\)</span>.</p></li>
<li><p><span class="math inline">\(A_\mathfrak{m}\)</span> is normal for
each maximal ideal <span class="math inline">\(\mathfrak{m}\)</span> of
<span class="math inline">\(A\)</span>.</p></li>
</ol>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> (i) implies (ii): Welp, let <span
class="math inline">\(x \in K\)</span> be integral over <span
class="math inline">\(S^{-1} A\)</span>. Write down a monic equation.
Clearing denominators, we deduce that <span class="math inline">\(s
x\)</span> is integral over <span class="math inline">\(A\)</span> for
some <span class="math inline">\(s \in S\)</span>. Since <span
class="math inline">\(A\)</span> is normal, we have <span
class="math inline">\(s x = a\)</span> for some <span
class="math inline">\(a \in A\)</span>, hence <span
class="math inline">\(x = a/s \in S^{-1} A\)</span>.</p>
<p>(ii) implies (iii): immediate.</p>
<p>(iii) implies (i): Let <span class="math inline">\(x \in K\)</span>
be integral over <span class="math inline">\(A\)</span>. For each <span
class="math inline">\(\mathfrak{m}\)</span>, we may then find some <span
class="math inline">\(b_\mathfrak{m} \in \mathfrak{m}\)</span> so that
<span class="math inline">\(b_\mathfrak{m} x\)</span> is integral over
<span class="math inline">\(A\)</span>. The ideal generated by the <span
class="math inline">\(b_\mathfrak{m}\)</span> is not contained in any
maximal ideal, hence equals the unit ideal, so we may write <span
class="math inline">\(1 = \sum a_\mathfrak{m} b_\mathfrak{m}\)</span> as
a finite sum with <span class="math inline">\(a_\mathfrak{m} \in
A\)</span>, almost all zero. Then <span class="math inline">\(x = \sum
a_\mathfrak{m} b_\mathfrak{m} x\)</span> is integral over <span
class="math inline">\(A\)</span>. ◻</p>
</span></div>
<h1 id="sec:org5a401b5">§13. Lying over</h1>
<div class="lemma">
<p><strong>Lemma 48</strong>. Let <span class="math inline">\(A
\subseteq B\)</span> be an integral extension of integral domains. Then
<span class="math inline">\(A\)</span> is a field if and only if <span
class="math inline">\(B\)</span> is a field. Equivalently, if <span
class="math inline">\(A \subseteq B\)</span> is an integral extension of
rings and <span class="math inline">\(\mathfrak{q} \subset B\)</span> is
prime, then <span class="math inline">\(\mathfrak{p} := \mathfrak{q}
\cap A\)</span> is maximal if and only if <span
class="math inline">\(\mathfrak{q}\)</span> is maximal.</p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Suppose <span class="math inline">\(A\)</span> is a
field. Let <span class="math inline">\(x \in B\)</span> is nonzero.
Write <span class="math inline">\(x^n + a_1 x^{n-1} + \dotsb + a_n =
0\)</span>, with <span class="math inline">\(n\)</span> minimal. Since
<span class="math inline">\(B\)</span> is a domain, we then have <span
class="math inline">\(a_n \neq 0\)</span>, and so <span
class="math inline">\(x^{-1} = -(x^{n-1} + a_1 x^{n-2} + \dotsb +
a_{n-1})/a_n\)</span>. Thus <span class="math inline">\(B\)</span> is a
field.</p>
<p>Conversely, suppose <span class="math inline">\(B\)</span> is a field
Let <span class="math inline">\(x \in A\)</span> be nonzero. Then <span
class="math inline">\(1/x \in B\)</span>. Write <span
class="math inline">\((1/x)^n + a_1 (1/x)^{n-1} + \dotsb + a_n =
0\)</span>. Then <span class="math display">\[1/x = - (a_1 + a_2 x +
\dotsb + a_n x^{n-1}) \in A.\]</span> ◻</p>
</span></div>
<div class="corollary">
<p><strong>Corollary 49</strong>. <em>Let <span
class="math inline">\((A,\mathfrak{p})\)</span> be a local ring and
<span class="math inline">\(A \subset B\)</span> an integral extension.
Then <span class="math display">\[\{\text{maximal ideals $\mathfrak{m}
\subset B$}\}
  =
  \{\text{primes $\mathfrak{q} \subset B$} : \mathfrak{q} \cap A =
\mathfrak{p} \}.\]</span></em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> We apply the lemma, taking into account that <span
class="math inline">\(\mathfrak{p}\)</span> is the only maximal ideal of
<span class="math inline">\(A\)</span>. ◻</p>
</span></div>
<div class="theorem">
<p><strong>Theorem 50</strong>. <em>Let <span class="math inline">\(A
\subseteq B\)</span> be integral. Then the natural map <span
class="math inline">\(\mathop{\mathrm{Spec}}(B) \rightarrow
\mathop{\mathrm{Spec}}(A)\)</span> is surjective, and its fibers have no
inclusion relations, i.e.:</em></p>
<ol>
<li><p><em>We say that a prime <span
class="math inline">\(\mathfrak{q}\)</span> of <span
class="math inline">\(B\)</span> <em>lies over</em> a prime <span
class="math inline">\(\mathfrak{p}\)</span> of <span
class="math inline">\(A\)</span> if <span
class="math inline">\(\mathfrak{q} \cap A =
    \mathfrak{p}\)</span>. Then each prime <span
class="math inline">\(\mathfrak{p}\)</span> of <span
class="math inline">\(A\)</span> has some prime <span
class="math inline">\(\mathfrak{q}\)</span> of <span
class="math inline">\(B\)</span> lying over it.</em></p></li>
<li><p><em>If <span class="math inline">\(\mathfrak{q}, \mathfrak{q}
&#39;\)</span> are primes of <span class="math inline">\(B\)</span> that
lie over the same prime of <span class="math inline">\(A\)</span>, then
<span class="math inline">\(\mathfrak{q} \subseteq \mathfrak{q} &#39;
\implies \mathfrak{q} = \mathfrak{q} &#39;\)</span>.</em></p></li>
</ol>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> The extension <span
class="math inline">\(A_\mathfrak{p} \subset B_\mathfrak{p}\)</span>
remains integral. The primes of <span class="math inline">\(B\)</span>
lying over <span class="math inline">\(\mathfrak{p}\)</span> correspond
(in inclusion-preserving manner) to the primes of <span
class="math inline">\(B_\mathfrak{p}\)</span> lying over <span
class="math inline">\(\mathfrak{m} :=
  \mathfrak{p} A_\mathfrak{p}\)</span> hence (by the previous lemma) to
the maximal ideals of <span
class="math inline">\(B_\mathfrak{p}\)</span>. We have <span
class="math inline">\(B_\mathfrak{p} \neq 0\)</span>, so maximal ideals
exist, and it is clear that no inclusion relations exist between maximal
ideals. ◻</p>
</span></div>
<h1 id="sec:orgf2a76c1">§14. Going up</h1>
<p>We say that an extension of rings <span class="math inline">\(A
\subseteq B\)</span> satisfies <em>going up</em> if whenever <span
class="math inline">\(\mathfrak{p} \subset \mathfrak{p} &#39; \subset
A\)</span> and <span class="math inline">\(\mathfrak{q} \subset
B\)</span> are primes with <span
class="math inline">\(\mathfrak{q}\)</span> lying over <span
class="math inline">\(\mathfrak{p}\)</span>, there exists a prime <span
class="math inline">\(\mathfrak{q}&#39; \supseteq \mathfrak{q}\)</span>
lying over <span class="math inline">\(\mathfrak{p} &#39;\)</span>.</p>
<p>Equivalently, given <span class="math inline">\(m &lt; n\)</span> and
chain of primes <span class="math inline">\(\mathfrak{p}_0 \supset
\dotsb \subset \mathfrak{p}_n \subset A\)</span> and <span
class="math inline">\(\mathfrak{q}_0 \supset \dotsb \subset
\mathfrak{q}_m \subset A\)</span> with <span
class="math inline">\(\mathfrak{q}_i\)</span> lying over <span
class="math inline">\(\mathfrak{p}_i\)</span> for <span
class="math inline">\(i \leq m\)</span>, we can extend the latter chain
to <span class="math inline">\(\mathfrak{q}_0 \supset \dotsb \subset
\mathfrak{q}_n \subset A\)</span> with <span
class="math inline">\(\mathfrak{q}_i\)</span> lying over <span
class="math inline">\(\mathfrak{p}_i\)</span> for <span
class="math inline">\(i \leq
  n\)</span>.</p>
<div class="theorem">
<p><strong>Theorem 51</strong>. <em>Any integral extension <span
class="math inline">\(A \subset B\)</span> satisfies “going
up”.</em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Apply “lying over” to the prime <span
class="math inline">\(\mathfrak{p} &#39; / \mathfrak{p}\)</span> of
<span class="math inline">\(A/\mathfrak{p}\)</span> inside <span
class="math inline">\(B/\mathfrak{q}\)</span>. ◻</p>
</span></div>
<p>As an application:</p>
<div class="proposition">
<p><strong>Proposition 52</strong>. <em>Let <span
class="math inline">\(A \subseteq B\)</span> be an integral ring
extension. Let <span class="math inline">\(\mathfrak{b} \subset
B\)</span> be an ideal, and <span class="math inline">\(\mathfrak{a} :=
\mathfrak{b} \cap A\)</span>. Then</em></p>
<ol type="i">
<li><p><em><span class="math inline">\(\dim(A) =
\dim(B)\)</span>.</em></p></li>
<li><p><em><span class="math inline">\(\dim(A/\mathfrak{a}) =
\dim(B/\mathfrak{b})\)</span>.</em></p></li>
<li><p><em><span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{b}) \leq
\mathop{\mathrm{height}}(\mathfrak{a})\)</span>.</em></p></li>
</ol>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> (i): A chain of primes in <span
class="math inline">\(B\)</span> lies over a chain of primes in <span
class="math inline">\(A\)</span>. The constituents of the latter are
distinct by the “non-inclusions” theorem. Thus <span
class="math inline">\(\dim(A) \geq \dim(B)\)</span>.</p>
<p>Conversely, a chain of primes in <span
class="math inline">\(A\)</span> lifts to a chain in <span
class="math inline">\(B\)</span>, by the “going up” theorem. Thus <span
class="math inline">\(\dim(A) \leq \dim(B)\)</span>.</p>
<p>(ii) is a consequence of (i).</p>
<p>(iii): Let <span class="math inline">\(\mathfrak{p}\)</span> be a
minimal prime of <span class="math inline">\(\mathfrak{a}\)</span>. By
applying “lying over” to <span class="math inline">\(A/\mathfrak{a}
\subseteq B/\mathfrak{b}\)</span>, there is a minimal <span
class="math inline">\(\mathfrak{q}\)</span> of <span
class="math inline">\(\mathfrak{b}\)</span> lying over <span
class="math inline">\(\mathfrak{p}\)</span>. A chain of primes ending at
<span class="math inline">\(\mathfrak{q}\)</span> lies over a chain of
primes ending at <span class="math inline">\(\mathfrak{p}\)</span>. Thus
<span class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{b}) \leq
\mathop{\mathrm{height}}(\mathfrak{q}) \leq
  \mathop{\mathrm{height}}(\mathfrak{p})\)</span>; since <span
class="math inline">\(\mathfrak{p}\)</span> was arbitrary, we conclude
upon taking infima that <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{b}) \leq
\mathop{\mathrm{height}}(\mathfrak{a})\)</span>. ◻</p>
</span></div>
<h1 id="sec:org5aca683">§15. Galois action on primes</h1>
<div class="lemma">
<p><strong>Lemma 53</strong>. Let <span class="math inline">\(A\)</span>
be a normal integral domain. Let <span class="math inline">\(K :=
\mathop{\mathrm{Frac}}(A)\)</span>, and let <span
class="math inline">\(L/K\)</span> be a normal extension. Let <span
class="math inline">\(B\)</span> denote the integral closure in <span
class="math inline">\(L\)</span> of <span
class="math inline">\(A\)</span>. Then</p>
<ol>
<li><p>each <span class="math inline">\(\sigma \in G :=
\mathop{\mathrm{Aut}}(L/K)\)</span> induces a ring automorphism of <span
class="math inline">\(B\)</span> that fixes <span
class="math inline">\(A\)</span>;</p></li>
<li><p><span class="math inline">\(G\)</span> acts on the set of primes
of <span class="math inline">\(B\)</span> lying above a given prime
<span class="math inline">\(\mathfrak{p}\)</span> of <span
class="math inline">\(A\)</span>, i.e.: if <span
class="math inline">\(\mathfrak{q} \subset B\)</span> is prime, then so
is <span class="math inline">\(\sigma(\mathfrak{q}) \subset B\)</span>,
and one has <span class="math inline">\(\mathfrak{q} \cap A =
\sigma(\mathfrak{q}) \cap A\)</span>.</p></li>
<li><p>This action is transitive: given primes <span
class="math inline">\(\mathfrak{q}, \mathfrak{q} &#39;\)</span> of <span
class="math inline">\(B\)</span> lying over the same prime <span
class="math inline">\(\mathfrak{p}\)</span> of <span
class="math inline">\(A\)</span>, one can find <span
class="math inline">\(\sigma \in G\)</span> for which <span
class="math inline">\(\sigma(\mathfrak{q}) = \mathfrak{q}
&#39;\)</span>.</p></li>
</ol>
</div>
<p>We treat first the case of a finite extension. We reduce in that
case, using prime avoidance and the absence of inclusions among fibers
of <span class="math inline">\(\mathop{\mathrm{Spec}}(B) \rightarrow
\mathop{\mathrm{Spec}}(A)\)</span>, to showing that <span
class="math display">\[\mathfrak{q} &#39; \subset \cup_{\sigma \in
      G} \sigma(\mathfrak{q}).\]</span> Recall that for <span
class="math inline">\(L/K\)</span> normal, one has <span
class="math inline">\(L/L^G\)</span> Galois with <span
class="math inline">\(\mathop{\mathrm{Gal}}(L/L^G) = G\)</span> and
<span class="math inline">\(L^G/K\)</span> purely inseparable: for each
<span class="math inline">\(x \in L^G\)</span> the exists <span
class="math inline">\(n \geq 1\)</span> (a prime power) with <span
class="math inline">\(x^n \in K\)</span>. Let <span
class="math inline">\(x \in \mathfrak{q} &#39;\)</span>. Since <span
class="math inline">\(L/K\)</span> is finite, we may set <span
class="math inline">\(y := \prod_{\sigma \in G}
  \sigma(x)\)</span>. Then <span class="math inline">\(y \in L^G \cap
B\)</span>, so some <span class="math inline">\(y^n \in K \cap
B\)</span>. Since <span class="math inline">\(A\)</span> is normal and
<span class="math inline">\(B\)</span> is integral over <span
class="math inline">\(A\)</span>, we have <span class="math inline">\(K
  \cap B = A\)</span>, thus <span class="math inline">\(y^n \in
\mathfrak{q} &#39; \cap A = \mathfrak{p} \subseteq
\mathfrak{q}\)</span>. Thus there exists <span
class="math inline">\(\sigma\)</span> with <span
class="math inline">\(\sigma(x) \in \mathfrak{q}\)</span>, so <span
class="math inline">\(\sigma^{-1}(y) \in \mathfrak{q}
&#39;\)</span>.</p>
<p>In general, let</p>
<p>Then it takes a bit of Zorn’s lemma to finish it all off. TODO: write
that down.</p>
<p>Give the example of a Galois extension of number fields.</p>
<h1 id="sec:org4bb7b6b">§16. Going down</h1>
<p>For “going down” theorem, you use a bit of Galois theory. Hard to
beat Eisenbud or Matsumura’s treatment; Bosch is also fine.</p>
<p>It says that if <span class="math inline">\(A \subseteq B\)</span> is
an integral extension of integral domains, with <span
class="math inline">\(A\)</span> normal, then the “going down” property
holds: for a prime <span class="math inline">\(\mathfrak{q} \subset
B\)</span> lying over <span class="math inline">\(\mathfrak{p} \subset
A\)</span> and another prime <span class="math inline">\(\mathfrak{p}
&#39; \subset \mathfrak{p}\)</span>, we can find a prime <span
class="math inline">\(\mathfrak{q} &#39; \subset \mathfrak{q}\)</span>
lying over <span class="math inline">\(\mathfrak{p}&#39;\)</span>.</p>
<p>This is somehow equivalent to: Let <span
class="math inline">\(\mathfrak{p} \subset A\)</span> be prime. Then any
minimal prime of <span class="math inline">\(\mathfrak{p} B\)</span>
lies over <span class="math inline">\(\mathfrak{p}\)</span>.</p>
<ul>
<li><p>Suppose <span class="math inline">\(\mathfrak{p}\)</span>
satisfies what we called “going down” above. Let <span
class="math inline">\(\mathfrak{q}&#39;\)</span> be a minimal prime of
<span class="math inline">\(\mathfrak{p} B\)</span>. Set <span
class="math inline">\(\mathfrak{p} &#39; := \mathfrak{q} \cap
A\)</span>. Then <span class="math inline">\(\mathfrak{p} \subset
\mathfrak{p}&#39;\)</span>, so by going down, we can find a prime <span
class="math inline">\(\mathfrak{q} \subset \mathfrak{q} &#39;\)</span>
lying over <span class="math inline">\(\mathfrak{p}\)</span>. But then
<span class="math inline">\(\mathfrak{q} \supset \mathfrak{p}
B\)</span>, so <span class="math inline">\(\mathfrak{q} = \mathfrak{q}
&#39;\)</span> by minimality. But this contradicts the fact that there
are no inclusion relations in the fibers of <span
class="math inline">\(\mathop{\mathrm{Spec}}(B) \rightarrow
\mathop{\mathrm{Spec}}(A)\)</span> for integral extensions <span
class="math inline">\(A \subset B\)</span>.</p></li>
<li><p>Suppose any minimal prime of <span
class="math inline">\(\mathfrak{p} B\)</span> lies over <span
class="math inline">\(\mathfrak{p}\)</span>, for all primes <span
class="math inline">\(\mathfrak{p}\)</span> of <span
class="math inline">\(A\)</span>, and let the inclusion <span
class="math inline">\(\mathfrak{p} \subset \mathfrak{p}&#39;\)</span> of
primes be given, together with a prime <span
class="math inline">\(\mathfrak{q}&#39;\)</span> over <span
class="math inline">\(\mathfrak{p}&#39;\)</span>. Then <span
class="math inline">\(\mathfrak{q}&#39; \supset \mathfrak{p} B\)</span>.
I think we can just use Zorn’s lemma to produce a minimal prime <span
class="math inline">\(\mathfrak{q} &#39; \supset \mathfrak{q} \supset
\mathfrak{p} B\)</span>.</p></li>
</ul>
<p>It’d be nice to give an example showing how this can fail.</p>
<p>The proof is fairly easy, using the Galois trick.</p>
<h1 id="sec:org04b0a0a">§17. Applications of theorems on integral ring
extensions to dimension</h1>
<p>If <span class="math inline">\(A \subseteq B\)</span> is integral,
<span class="math inline">\(\mathfrak{b} \subseteq B\)</span> is an
ideal, and <span class="math inline">\(A := \mathfrak{b} \cap
A\)</span>, then</p>
<ol>
<li><p><span class="math inline">\(\dim(A) = \dim(B)\)</span>,</p></li>
<li><p><span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{b}) \leq
\mathop{\mathrm{height}}(\mathfrak{a})\)</span>, with equality if <span
class="math inline">\(A,B\)</span> are integral domains with <span
class="math inline">\(A\)</span> normal (or more generally, if “going
down” holds), and</p></li>
<li><p><span
class="math inline">\(\mathop{\mathrm{coheight}}(\mathfrak{a}) =
\mathop{\mathrm{coheight}}(\mathfrak{b})\)</span>.</p></li>
</ol>
<h1 id="sec:orgae6adf2">§18. Noether normalization?</h1>
<p>Let <span class="math inline">\(k\)</span> be a field. The following
result is very useful:</p>
<div class="theorem">
<p><strong>Theorem 54</strong> (Noether normalization). <em>Let <span
class="math inline">\(A\)</span> be a finitely-generated <span
class="math inline">\(k\)</span>-algebra. There exist <span
class="math inline">\(x_1,\dotsc,x_n \in A\)</span> with the following
properties.</em></p>
<ol>
<li><p><em><span class="math inline">\(x_1,\dotsc,x_n\)</span> are
algebraically independent, i.e., the map <span
class="math display">\[k[X_1,\dotsc,X_n] \rightarrow A\]</span> <span
class="math display">\[X_j \mapsto x_j\]</span> is
injective.</em></p></li>
<li><p><em><span class="math inline">\(A\)</span> is integral, hence
finite, over the subring <span
class="math inline">\(k[x_1,\dotsc,x_n]\)</span>.</em></p></li>
</ol>
</div>
<p>Since integral extensions preserve dimension, the conclusion implies
in particular that <span class="math inline">\(\dim(A) = n\)</span>, and
also that if <span class="math inline">\(A\)</span> is a domain, then
<span class="math inline">\(\dim(A) = n =
{\mathop{\mathrm{trdeg}}}_k(\mathop{\mathrm{Frac}}(A))\)</span> (noting
that <span class="math inline">\(\mathop{\mathrm{Frac}}(A)\)</span> is
an algebraic extension of <span
class="math inline">\(k(x_1,\dotsc,x_n)\)</span>).</p>
<p>The key lemma for the proof is the following.</p>
<div class="lemma">
<p><strong>Lemma 55</strong>. Let <span class="math inline">\(A\)</span>
be a <span class="math inline">\(k\)</span>-algebra and <span
class="math inline">\(x_1,\dotsc,x_n \in A\)</span>. Let <span
class="math inline">\(f\)</span> be a nonzero element of the polynomial
ring <span class="math inline">\(k[X_1,\dotsc,X_n]\)</span>. Set <span
class="math inline">\(w := f(x_1,\dotsc,x_n) \in A\)</span>. Then there
exist <span class="math inline">\(z_1,\dotsc,z_{n-1} \in
k[x_1,\dotsc,x_n]\)</span> such that <span
class="math inline">\(k[x_1,\dotsc,x_n]\)</span> is integral over <span
class="math inline">\(k[w,z_1,\dotsc,z_{n-1}]\)</span>.</p>
</div>
<p>To deduce Noether normalization from this, suppose that the
finitely-generated <span class="math inline">\(k\)</span>-algebra <span
class="math inline">\(A\)</span> is generated by elements <span
class="math inline">\(x_1,\dotsc,x_n\)</span>. If these elements are
algebraically independent, then we are done. Otherwise we may find a
nonzero element <span class="math inline">\(f\)</span> of the polynomial
ring <span class="math inline">\(k[X_1,\dotsc,X_n]\)</span> for which
<span class="math inline">\(0 = f(x_1,\dotsc,x_n)\)</span>. The key
lemma (applied with <span class="math inline">\(w = 0\)</span>) produces
elements <span class="math inline">\(z_1,\dotsc,z_{n-1} \in A\)</span>
for which <span class="math inline">\(k[x_1,\dotsc,x_n]\)</span> is
integral over <span
class="math inline">\(k[z_1,\dotsc,z_{n-1}]\)</span>. By iterating this
procedure finitely many times, we conclude.</p>
<p>We note that “finite” and “integral” are the same in these contexts,
because everything is finitely-generated.</p>
<p>For the proof of the key lemma, we warm up by considering rings of
the form <span class="math inline">\(A := k[X,Y]/(f)\)</span> for some
nonzero <span class="math inline">\(f \in k[X,Y]\)</span>. We denote by
<span class="math inline">\(x,y \in A\)</span> the images of <span
class="math inline">\(X,Y\)</span>. Thus <span
class="math inline">\(A\)</span> has two generators <span
class="math inline">\(x,y\)</span> satisfying the relation <span
class="math inline">\(f(x,y) = 0\)</span>. We aim to produce an element
<span class="math inline">\(z \in A\)</span> so that <span
class="math inline">\(A\)</span> is integral over <span
class="math inline">\(k[z]\)</span>. This is a special case of the key
lemma that illustrates the basic idea.</p>
<p>Let’s start with the example <span class="math inline">\(f = X Y -
1\)</span>. Then we may think <span class="math inline">\(A \cong
k[x,1/x] \subseteq k(x) = \mathop{\mathrm{Frac}}(A)\)</span>. Observe in
this case that <span class="math inline">\(A\)</span> is <em>not</em>
integral over <span class="math inline">\(k[x]\)</span> or <span
class="math inline">\(k[y]\)</span>. For instance, <span
class="math inline">\(k[x]\)</span> is a UFD, hence normal (i.e.,
integrally closed in <span class="math inline">\(k(x)\)</span>), hence
<span class="math inline">\(1/x \in A \notin k[x]\)</span> is not
integral over <span class="math inline">\(k[x]\)</span>.</p>
<p>On the other hand, <span class="math inline">\(A\)</span> is integral
over <span class="math inline">\(k[z]\)</span> if <span
class="math inline">\(z = y - a x\)</span> with <span
class="math inline">\(a \neq 0\)</span>: We have <span
class="math inline">\(A = k[x,z]\)</span>, so it suffices to show that
<span class="math inline">\(x\)</span> is integral over <span
class="math inline">\(k[z]\)</span>. We have <span
class="math inline">\(z x = x y - a x^2 = 1 - a x^2\)</span>, so <span
class="math inline">\(a x^2 + z x - 1 = 0\)</span>; we may divide by
<span class="math inline">\(a\)</span> to get the required monic
equation for <span class="math inline">\(x\)</span> over <span
class="math inline">\(k[z]\)</span>.</p>
<p>This suggests a fairly general strategy. Write <span
class="math inline">\(f = f_n + \dotsb + f_0\)</span>, where <span
class="math inline">\(f_j\)</span> denotes the homogeneous component of
degree <span class="math inline">\(j\)</span> (thus <span
class="math inline">\(f_j\)</span> is a linear combination of terms
<span class="math inline">\(x^i y^{j-i}\)</span>). We may assume that
<span class="math inline">\(f_n \neq 0\)</span>.</p>
<div class="lemma">
<p><strong>Lemma 56</strong>. Suppose <span
class="math inline">\(Y\)</span> does not divide <span
class="math inline">\(f_n\)</span>. Then <span
class="math inline">\(A\)</span> is integral over <span
class="math inline">\(k[y]\)</span>.</p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Our hypothesis implies that <span
class="math inline">\(f = a X^n + \dotsb\)</span>, where <span
class="math inline">\(a \neq 0\)</span> and <span
class="math inline">\(\dotsb\)</span> consists of lower order terms in
<span class="math inline">\(X\)</span>, with coefficients in <span
class="math inline">\(k[Y]\)</span>. This relation taken in the quotient
ring <span class="math inline">\(A\)</span> shows that <span
class="math inline">\(x\)</span> is integral over <span
class="math inline">\(y\)</span>. ◻</p>
</span></div>
<div class="corollary">
<p><strong>Corollary 57</strong>. <em>Let <span class="math inline">\(a
\in k\)</span>. Suppose <span class="math inline">\(Y - a X\)</span>
does not divide <span class="math inline">\(f_n\)</span>. Then <span
class="math inline">\(A\)</span> is integral over <span
class="math inline">\(k[y - a x]\)</span>.</em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Apply the lemma with modified coordinates <span
class="math inline">\(X&#39; := X, Y &#39; := Y - a X\)</span>. ◻</p>
</span></div>
<div class="corollary">
<p><strong>Corollary 58</strong>. <em>Suppose the field <span
class="math inline">\(k\)</span> is infinite. Then there exists <span
class="math inline">\(a \in k\)</span> so that <span
class="math inline">\(A\)</span> is integral over <span
class="math inline">\(k[y-ax]\)</span>.</em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Over an algebraic closure <span
class="math inline">\(\overline{k}\)</span>, we may factor <span
class="math inline">\(f_n = \prod_{i=1..n} (a_i x - b_i y)\)</span> for
some <span class="math inline">\(a_i,b_i \in \overline{k}\)</span> with
<span class="math inline">\((a_i,b_i) \neq (0,0)\)</span>. We then
choose <span class="math inline">\(a \in k\)</span> not equal to any of
the ratios <span class="math inline">\(b_i/a_i\)</span> and apply the
previous corollary. ◻</p>
</span></div>
<p>This completes the proof of Noether normalization for <span
class="math inline">\(A = k[X,Y]/(f)\)</span> in the special case that
<span class="math inline">\(k\)</span> is infinite. What if <span
class="math inline">\(k\)</span> is finite? Consider for instance the
case that <span class="math inline">\(k = \mathbb{F}_2\)</span> and
<span class="math inline">\(f = Y(Y+ X)- 1\)</span>, so that <span
class="math inline">\(y (y+x) = 1\)</span>. Thus <span
class="math inline">\(A = k[y, y - y^{-1}] \subseteq k(y)\)</span>. The
above proof obviously doesn’t work, and in fact <span
class="math inline">\(A\)</span> is not integral over <span
class="math inline">\(k[y]\)</span> or <span
class="math inline">\(k[y-1]\)</span>. So we need another trick to
address this special case. We might try, instead of <span
class="math inline">\(y - a x\)</span>, something like <span
class="math inline">\(z := y - x^2\)</span>. Then <span
class="math inline">\(y = x^2 + z\)</span>. We expand out: <span
class="math display">\[0 =
    f(x,y)
    = f(x,x^2 + z)
    = (x^2 + z)(x^2 + z + x) - 1
    = x^4 + \dotsb,\]</span> where <span
class="math inline">\(\dotsb\)</span> denotes terms of lower order in
<span class="math inline">\(x\)</span> with coefficients in <span
class="math inline">\(k[z]\)</span>. Thus <span
class="math inline">\(x\)</span> is integral over <span
class="math inline">\(k[z]\)</span>; since <span class="math inline">\(A
= k[x,z]\)</span>, we conclude that <span
class="math inline">\(A\)</span> is integral over <span
class="math inline">\(k[z]\)</span>. There’s nothing special about the
number <span class="math inline">\(2\)</span>: we could have just as
well taken <span class="math inline">\(z := y - x^s\)</span> for any
<span class="math inline">\(s \geq 2\)</span> and then expanded out
<span class="math inline">\(0 = f(x, x^s + z)\)</span>. The same trick
obviously works for any polynomial <span
class="math inline">\(f\)</span>: if <span
class="math inline">\(s\)</span> is large enough, the same argument will
give a monic relation satisfied by <span
class="math inline">\(x\)</span> over <span
class="math inline">\(k[z]\)</span>.</p>
<div class="lemma">
<p><strong>Lemma 59</strong>. Let <span class="math inline">\(s \in
\mathbb{Z}_{\geq 1}\)</span> be sufficiently large in terms of <span
class="math inline">\(0 \neq f  \in k[X,Y]\)</span>, and take <span
class="math inline">\(A = k[X,Y]/(f)\ni x,y\)</span> as above. Then
<span class="math inline">\(A\)</span> is integral over <span
class="math inline">\(k[z]\)</span> with <span class="math inline">\(z
:= y - x^s\)</span>.</p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> (Not clear whether there’s any point in writing this
all out; might already be clear enough.) We expand out <span
class="math inline">\(0 = f(x,y) = f(x,x^s+z)\)</span> as above. Say
<span class="math inline">\(f(X,Y) = \sum_{\alpha \in I} c_\alpha
X^{\alpha_1}
  Y^{\alpha_2}\)</span>, where <span class="math inline">\(I \subseteq
\mathbb{Z}_{\geq 0}^2\)</span> is finite and <span
class="math inline">\(c_\alpha \in k^\times\)</span>. We have <span
class="math display">\[x^{\alpha_1} y^{\alpha_2} = x^{\alpha_1} (x^s +
    z)^{\alpha_2}
    = x^{\alpha_1 + s \alpha_2} + \dotsb,\]</span> where <span
class="math inline">\(\dotsb\)</span> denotes terms of lower order in
<span class="math inline">\(X\)</span> with coefficients in <span
class="math inline">\(k[z]\)</span>. We may choose <span
class="math inline">\(s\)</span> so that for all <span
class="math inline">\(\alpha, \beta \in I\)</span>, we have <span
class="math display">\[\alpha \neq \beta \implies \alpha_1 + s \alpha_2
\neq \beta_1 + s \beta _2.\]</span> (Just take <span
class="math inline">\(s\)</span> larger than the maximum of <span
class="math inline">\(\alpha_j\)</span> over all <span
class="math inline">\(\alpha \in I\)</span> and <span
class="math inline">\(j = 1,2\)</span>.) Take <span
class="math inline">\(\alpha \in I\)</span> with <span
class="math inline">\(\alpha_1 + s \alpha_2\)</span> maximal. Then <span
class="math display">\[0 = f(x,x^s + z)
    = c_\alpha x^{\alpha_1 + s \alpha_2} + \dotsb,\]</span> with <span
class="math inline">\(\dotsb\)</span> as above. Thus <span
class="math inline">\(x\)</span> is integral over <span
class="math inline">\(k[z]\)</span>. ◻</p>
</span></div>
<p>More generally, let’s suppose now that we have a ring <span
class="math inline">\(A\)</span> of dimension <span
class="math inline">\(d\)</span> with <span
class="math inline">\(n\)</span> generators <span
class="math inline">\(x_1,\dotsc,x_n\)</span>. As indicated above, we
may assume that <span class="math inline">\(n &gt; d\)</span> and that
there is some nontrivial polynomial relation <span
class="math inline">\(f\)</span> satisfied by the <span
class="math inline">\(x_i\)</span>, i.e., <span class="math inline">\(0
\notin f \in k[X_1,\dotsc,X_n]\)</span> with <span
class="math inline">\(f(x_1,\dotsc,x_n) = 0\)</span>. We choose integers
<span class="math inline">\(s_j\)</span> and introduce the variables
<span class="math inline">\(z_j := x_j - x_n^{s_j}\)</span> for <span
class="math inline">\(1 \leq j &lt; n\)</span>. Then <span
class="math display">\[0 = f(x_1,\dotsc,x_n)
    =
    f(x_n^{s_1} + z_1,
    \dotsc
    x_n^{s_{n-1}} + z_{n-1},
    x_n).\]</span> By choosing the <span
class="math inline">\(s_j\)</span> suitably as in the case <span
class="math inline">\(n = 2\)</span> (e.g., <span
class="math inline">\(s_j := s^j\)</span> for <span
class="math inline">\(s\)</span> large enough), we may arrange that this
proves that <span class="math inline">\(x_n\)</span> is integral over
<span class="math inline">\(A_0 := k[z_1,\dotsc,z_{n-1}]\)</span>. But
then clearly <span class="math inline">\(A\)</span> is integral over
<span class="math inline">\(A_0\)</span>. We can now apply our induction
hypothesis to <span class="math inline">\(A_0\)</span> to conclude.</p>
<p>Actually, you like Bosch’s treatment much better. He shows that if
<span class="math inline">\(A = k[x_1,\dotsc,x_n]\)</span> is a
finitely-generated <span class="math inline">\(k\)</span>-algebra and
<span class="math inline">\(f = \sum c_\alpha x^\alpha\)</span> with
some <span class="math inline">\(c_\alpha \neq 0\)</span>, then there
exist <span class="math inline">\(z_1,\dotsc,z_{n-1}\)</span> so that
<span class="math inline">\(k[x_1,\dotsc,x_n]\)</span> is finite over
<span class="math inline">\(k[f,z_1,\dotsc,z_{n-1}]\)</span>. We can
then deduce Noether normalization by recursively applying this step with
<span class="math inline">\(f = 0\)</span> until we arrive at the case
that the <span class="math inline">\(x_i\)</span> are algebraically
independent. That’s much less clunky than what you had done.</p>
<p>How about the refined version?</p>
<p>After this, you can re-prove Nullstellensatz. You can then give
applications to heights of primes in <span
class="math inline">\(k\)</span>-domains.</p>
<p>Here we follow Matsumura’s treatment (p89) of Nagata’s approach.</p>
<div class="theorem">
<p><strong>Theorem 60</strong>. <em>Let <span
class="math inline">\(k\)</span> be a field, let <span
class="math inline">\(A\)</span> be a finitely-generated <span
class="math inline">\(k\)</span>-algebra with <span
class="math inline">\(\dim(A) = n\)</span>, and let <span
class="math inline">\(\mathfrak{a} \subseteq A\)</span> be an ideal with
<span class="math inline">\(\dim(A/\mathfrak{a}) = n-r\)</span>. There
exist <span class="math inline">\(y_1,\dotsc,y_n \in k[x]\)</span> so
that</em></p>
<ol>
<li><p><em><span class="math inline">\(A\)</span> is finite over the
subring <span class="math inline">\(k[y] := k[y_1,\dotsc,y_n]\)</span>,
and</em></p></li>
<li><p><em><span class="math inline">\(\mathfrak{a} \cap k[y] =
(y_1,\dotsc,y_r)\)</span>.</em></p></li>
</ol>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> We induct on <span
class="math inline">\(r\)</span>.</p>
<p>If <span class="math inline">\(r = 0\)</span>, then <span
class="math inline">\(A/\mathfrak{a}\)</span> ◻</p>
</span></div>
<p>&lt;++&gt;</p>
<p>For Noether normalization, I think 13.1 in Eisenbud looks like a
pretty good treatment. It also leads readily to the dimension formulas
you’re after. 11.2.4 in Vakil is also a nice exposition of Nagata’s
proof. Maybe try to combine that w/ what Eisenbud does, and also read
Matsumura?</p>
<div class="theorem">
<p><strong>Theorem 61</strong> (Noether normalization). <em>Let <span
class="math inline">\(A\)</span> be an integral domain that is
finitely-generated over a subfield <span
class="math inline">\(k\)</span>. Set <span class="math inline">\(d =
\dim(A)\)</span>. Then there is a finite injective map <span
class="math inline">\(k[X_1,\dotsc,X_d] \hookrightarrow A\)</span>.
(Okay, need to know that finite implies integral for the application
below.)</em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> We write <span class="math inline">\(A =
k[Y_1,\dotsc,Y_n]/\mathfrak{p}\)</span>, and induct on <span
class="math inline">\(n\)</span>. Then <span class="math inline">\(d
\leq n\)</span>. If <span class="math inline">\(d = n\)</span>, then
<span class="math inline">\(\mathfrak{p} = (0)\)</span>, so we’re done.
We assume now that <span class="math inline">\(n &gt; d\)</span> and
induct on <span class="math inline">\(n\)</span>. We try to find
elements <span class="math inline">\(Z_1, \dotsc, Z_{n-1} \in
k[Y_1,\dotsc,Y_n]\)</span> so that <span
class="math inline">\(A\)</span> is finite over <span
class="math inline">\(k[Z_1,\dotsc,Z_{n-1}] / \mathfrak{q}\)</span>,
where <span class="math inline">\(\mathfrak{q} := k[Z_1,\dotsc,Z_{n-1}]
\cap \mathfrak{p}\)</span>. Then <span class="math inline">\(\dim
k[Z]/\mathfrak{q} = d\)</span>, so by our inductive hypothesis, <span
class="math inline">\(k[Z]/\mathfrak{q}\)</span> is finite over some
<span class="math inline">\(k[X_1,\dotsc,X_d]\)</span>.</p>
<p>To find the required elements, we choose <span
class="math inline">\(0 \neq f \in \mathfrak{p}\)</span>. We then choose
a large natural number <span class="math inline">\(e\)</span> and
introduce the variables <span class="math inline">\(Z_j := Y_j -
Y_n^{e^j}\)</span> for <span class="math inline">\(j=1..n-1\)</span>, so
that <span class="math inline">\(Y_j = Z_j + Y_n^{e^j}\)</span> and thus
if <span class="math inline">\(f = \sum c_\alpha Y^\alpha\)</span>, then
<span class="math display">\[f = \sum c_\alpha Y^\alpha
    = \sum c_\alpha (Z_1 + Y_n^{e})^{\alpha_1}
    \dotsb (Z_{n-1} + Y_n^{e^{n-1}})^{\alpha_{n-1}}
    Y_n^{\alpha_n}.\]</span> Define the weight of <span
class="math inline">\(\alpha\)</span> to be <span
class="math inline">\(\sum_{j=1..n} e^j \alpha_j\)</span>. We choose
<span class="math inline">\(e &gt; \sup \{\alpha_j : c_\alpha \neq 0, j
\in \{1..n\}\}\)</span>. Then each monomial occurring in the expansion
of <span class="math inline">\(f\)</span> has a different weight. Let
<span class="math inline">\(\beta\)</span> be the multi-index of highest
weight for which <span class="math inline">\(c_\beta \neq 0\)</span>,
and set <span class="math inline">\(\ell := \sum_{j=1..n} e^j
\beta_j\)</span>. Then we may write <span class="math display">\[f =
Y_n^{\ell} + a_1(Z_1,\dotsc,Z_{n-1}) Y_n^{\ell-1} + \dotsb
    + a_\ell(Z_1,\dotsc,Z_{n-1})\]</span> for some <span
class="math inline">\(a_j \in k[Z_1,\dotsc,Z_{n-1}]\)</span>. This shows
that <span class="math inline">\(Y_n\)</span> is integral over <span
class="math inline">\(k[f,Z_1,\dotsc,Z_{n-1}]\)</span>. Reducing this
equation modulo <span class="math inline">\(\mathfrak{p}\)</span>, we
deduce that the image <span class="math inline">\(y_n \in A\)</span> of
<span class="math inline">\(Y_n\)</span> is integral over <span
class="math inline">\(k[z_1,\dotsc,z_{n-1}]\)</span>.</p>
<p>Maybe it’s cleaner to start by saying that you’ll induct on the
number of generators of <span class="math inline">\(A\)</span>. If <span
class="math inline">\(A\)</span> admits <span
class="math inline">\(d\)</span> generators, then it’s a polynomial
ring, so you’re done. Then you can avoid some futzing. ◻</p>
</span></div>
<h1 id="sec:org12a4f19">§19. Dimension vs. transcendence degree</h1>
<div class="theorem">
<p><strong>Theorem 62</strong>. <em>Let <span
class="math inline">\(k\)</span> be a field, and let <span
class="math inline">\(A\)</span> be an integral domain that is a
finitely-generated <span class="math inline">\(k\)</span>-algebra. Then
<span class="math inline">\(\dim( A) = {\mathop{\mathrm{trdeg}}}_k
(\mathop{\mathrm{Frac}}(A))\)</span>.</em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Consider first the case that <span
class="math inline">\(A = k[X_1,\dotsc,X_n]\)</span> is a polynomial
ring in <span class="math inline">\(n\)</span> indeterminates. We’ve
seen then that <span class="math inline">\(\dim(A) = n\)</span>, while
it’s clear that <span class="math inline">\({\mathop{\mathrm{trdeg}}}_k
(\mathop{\mathrm{Frac}}(A)) = n\)</span>, so the required identity
holds.</p>
<p>We now reduce the general case to this one. By Noether normalization,
there is a finite map <span class="math inline">\(k[X_1,\dotsc,X_d]
\hookrightarrow A\)</span> for some <span
class="math inline">\(d\)</span>. Now Now we should have seen by now
that integral ring morphisms preserve dimensions/heights/coheights (this
is an application of lying over and going up/down theorems). Thus <span
class="math inline">\(\dim(A) = d\)</span>. Moreover, the field
extension <span class="math inline">\(\mathop{\mathrm{Frac}}(A) /
\mathop{\mathrm{Frac}}(k[X_1,\dotsc,X_d])\)</span> is algebraic, so the
two fields have the same transcendence degree. ◻</p>
</span></div>
<div class="theorem">
<p><strong>Theorem 63</strong>. <em>Let <span
class="math inline">\(A\)</span> be as above. Then <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{p}) +
\dim(A/\mathfrak{p}) = \dim(A)\)</span> for every prime <span
class="math inline">\(\mathfrak{p}\)</span>. In particular, <span
class="math inline">\(\mathop{\mathrm{height}}(\mathfrak{m}) =
\dim(A)\)</span> for every maximal ideal <span
class="math inline">\(\mathfrak{m}\)</span>.</em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> DFD ◻</p>
</span></div>
<h1 id="sec:orgd85e6aa">§20. Valuation rings</h1>
<p>Let <span class="math inline">\(K\)</span> be a field, and let <span
class="math inline">\((G, +, 0, \leq)\)</span> be a totally ordered
abelian group written additively (e.g., <span class="math inline">\(G =
\mathbb{Z}\)</span>); thus for <span class="math inline">\(x,y,z \in
G\)</span> with <span class="math inline">\(x \leq y\)</span>, we have
<span class="math inline">\(x + z \leq y +
  z\)</span>.</p>
<p>A <em>valuation</em> of <span class="math inline">\(K\)</span> with
values in <span class="math inline">\(G\)</span> is a map <span
class="math inline">\(v : K^\times \rightarrow G\)</span> such that for
all <span class="math inline">\(x,y \in K^\times\)</span>, we have</p>
<ol>
<li><p><span class="math inline">\(v(x y) = v(x) + v(y)\)</span>,
and</p></li>
<li><p><span class="math inline">\(v(x + y) \geq \min(v(x),
v(y))\)</span> (called the <em>ultrametric inequality</em>).</p></li>
</ol>
<p>In that case, the set <span class="math inline">\(A := \{x \in
K^\times : v(x) \geq 0\} \cup
  \{0\}\)</span> is a subring of <span class="math inline">\(K\)</span>,
called the <em>valuation ring</em> of <span
class="math inline">\(v\)</span>. We note that by replacing <span
class="math inline">\(G\)</span> with its image, we may assume that
<span class="math inline">\(v\)</span> is surjective; this will often be
convenient.</p>
<div class="lemma">
<p><strong>Lemma 64</strong>. The subset <span
class="math inline">\(\mathfrak{m} := \{x \in K^\times : v(x) &gt; 0\}
\cup
  \{0\}\)</span> is an ideal, and <span
class="math inline">\((A,\mathfrak{m})\)</span> is a local ring with
unit group <span class="math inline">\(A^\times = \{x \in K^\times :
v(x) = 0\}\)</span>.</p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content">  </p>
<ul>
<li><p><span class="math inline">\(\mathfrak{m}\)</span> is an abelian
group: if <span class="math inline">\(v(x) &gt; 0\)</span> and <span
class="math inline">\(v(y) &gt; 0\)</span>, then <span
class="math inline">\(v(x+y) \geq \min(v(x),v(y)) &gt;
0\)</span>.</p></li>
<li><p><span class="math inline">\(\mathfrak{m}\)</span> is closed under
multiplication by <span class="math inline">\(A\)</span>: if <span
class="math inline">\(v(x) \geq 0\)</span> and <span
class="math inline">\(v(y) &gt; 0\)</span>, then <span
class="math inline">\(v(x y) = v(x) + v(y) &gt; 0\)</span>.</p></li>
<li><p>If <span class="math inline">\(x \in A - \mathfrak{m}\)</span>,
then <span class="math inline">\(v(x) = 0\)</span>, hence <span
class="math inline">\(v(1/x) = -v(x) = 0\)</span>, hence <span
class="math inline">\(1/x \in A\)</span>, and so <span
class="math inline">\(x \in A^\times\)</span>. Conversely, if <span
class="math inline">\(x \in A^\times\)</span>, then <span
class="math inline">\(v(x), v(1/x) \geq 0\)</span>, so <span
class="math inline">\(v(x) = 0\)</span> and <span
class="math inline">\(x \in A - \mathfrak{m}\)</span>. Thus <span
class="math inline">\((A,\mathfrak{m})\)</span> is local and <span
class="math inline">\(A^\times\)</span> is as described.</p></li>
</ul>
<p> ◻</p>
</span></div>
<p>It is customary extend such a valuation to a map <span
class="math inline">\(v : K \rightarrow G \cup \{\infty \}\)</span>,
where <span class="math inline">\(n \leq \infty\)</span> for all <span
class="math inline">\(n \in G\)</span>, by setting <span
class="math inline">\(v(0) := 0\)</span>, so that these identities read
more concisely as <span class="math display">\[A = \{x \in K : v(x) \geq
0\},
    \quad
    \mathfrak{m} = \{x \in K : v(x) &gt; 0\},
    \quad
    A^\times  = \{x \in K : v(x) = 0\}.\]</span></p>
<div class="definition">
<p><strong>Definition 65</strong>. Let <span
class="math inline">\(A\)</span> be an integral domain with field of
fractions <span class="math inline">\(K :=
\mathop{\mathrm{Frac}}(A)\)</span>. We say that <span
class="math inline">\(A\)</span> is a <em>valuation ring</em> (or VR for
short) if it is the valuation ring of some valuation <span
class="math inline">\(v\)</span> of <span
class="math inline">\(K\)</span>.</p>
<p>A valuation <span class="math inline">\(v\)</span> is
<em>discrete</em> if its value group <span
class="math inline">\(G\)</span> is isomorphic to <span
class="math inline">\(\mathbb{Z}\)</span> and if <span
class="math inline">\(v\)</span> is nontrivial; the corresponding
valuation ring is then called a <em>discrete valuation ring</em> (or DVR
for short). Identifying <span class="math inline">\(G\)</span> with
<span class="math inline">\(\mathbb{Z}\)</span>, the image of <span
class="math inline">\(v\)</span> is then a nontrivial subgroup of <span
class="math inline">\(\mathbb{Z}\)</span>, hence of the form <span
class="math inline">\(n \mathbb{Z}\)</span>; replacing <span
class="math inline">\(v\)</span> with <span
class="math inline">\(v/n\)</span>, we may thus assume without loss of
generality that <span class="math inline">\(v : K^\times \rightarrow
\mathbb{Z}\)</span> is surjective. If <span
class="math inline">\(\mathfrak{a}\)</span> is a nonzero ideal in <span
class="math inline">\(A\)</span>, then there exists a smallest integer
<span class="math inline">\(n \geq 0\)</span> for which <span
class="math inline">\(v(x) = n\)</span> for some <span
class="math inline">\(x \in \mathfrak{a}\)</span>; then <span
class="math inline">\(\mathfrak{a}\)</span> contains and hence equals
<span class="math inline">\(\{x \in K : v(x) \geq n\}\)</span>, so all
ideals are of the latter form. It follows easily that <span
class="math inline">\(A\)</span> is regular Noetherian local PID in
which every ideal is a power of the maximal ideal.</p>
</div>
<div class="example">
<p><strong>Example 66</strong>. The ring <span
class="math inline">\(k[[X]]\)</span> of formal power series in a
variable <span class="math inline">\(X\)</span> is a DVR: take <span
class="math inline">\(v(\sum_{i} c_i X^i) := \inf \{i : c_i \neq 0\} \in
\mathbb{Z}
  \cup \{\infty\}\)</span>. For example, <span class="math inline">\(v(X
+ X^2) = 1\)</span>, <span class="math inline">\(v(X^{-3} + X^{10}) =
-3\)</span>, <span class="math inline">\(v(1) = 0\)</span>, <span
class="math inline">\(v(0) = \infty\)</span>.</p>
<p>The ring <span class="math inline">\(\cup_{n \geq 1}
k[[X^{1/n}]]\)</span> of formal power series with rational exponents is
a valuation ring with value group <span
class="math inline">\(\mathbb{Q}\)</span>. (We will see below that it is
<em>not</em> a DVR.)</p>
<p>If <span class="math inline">\(K = \mathbb{Q}\)</span> and <span
class="math inline">\(p\)</span> is a prime number, then we may write
any <span class="math inline">\(x \in \mathbb{Q}^\times\)</span> as
<span class="math inline">\(p^n u/v\)</span> with <span
class="math inline">\(u,v\)</span> coprime to <span
class="math inline">\(p\)</span>. We then set <span
class="math inline">\(v(x) := n\)</span>. This defines a discrete
valuation on <span class="math inline">\(\mathbb{Q}\)</span> with
valuation ring <span
class="math inline">\(\mathbb{Z}_{(p)}\)</span>.</p>
</div>
<div class="lemma">
<p><strong>Lemma 67</strong>. Let <span class="math inline">\(A\)</span>
be an integral domain, <span class="math inline">\(K :=
\mathop{\mathrm{Frac}}(A)\)</span>. The following are equivalent:</p>
<ol>
<li><p><span class="math inline">\(A\)</span> is a valuation
ring.</p></li>
<li><p>For each <span class="math inline">\(x \in K^\times\)</span>, one
has <span class="math inline">\(x \in A\)</span> or <span
class="math inline">\(x^{-1} \in A\)</span> (or both).</p></li>
</ol>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> (i) implies (ii): Suppose <span
class="math inline">\(v : K \rightarrow G \cup \{\infty\}\)</span> is a
valuation with valuation ring <span class="math inline">\(A\)</span>, so
that <span class="math inline">\(A = \{x \in K : v(x) \geq 0
\}\)</span>, and let <span class="math inline">\(x \in
K^\times\)</span>, so that <span class="math inline">\(v(x) \in
G\)</span>. If <span class="math inline">\(v(x) \geq 0\)</span>, then
<span class="math inline">\(x \in A\)</span>. If <span
class="math inline">\(v(x) \leq 0\)</span>, then <span
class="math inline">\(v(x^{-1}) \geq 0\)</span>, and so <span
class="math inline">\(x^{-1} \in A\)</span>.</p>
<p>(ii) implies (i): Let <span class="math inline">\(G := K^\times /
A^\times\)</span>; it is an abelian group. Let <span
class="math inline">\(v : K^\times \rightarrow G\)</span> denote the
natural quotient map. We denote the group law on <span
class="math inline">\(G\)</span> by <span
class="math inline">\(+\)</span>, and write <span
class="math inline">\(0 := v(1)\)</span> for its identity element.
Clearly <span class="math inline">\(v(x y) = v(x) + v(y)\)</span>.</p>
<p>We equip <span class="math inline">\(G\)</span> with a partial order
<span class="math inline">\(\leq\)</span> given by <span
class="math inline">\(A\)</span>-divisibility: <span
class="math inline">\(x A^\times  \leq y A^\times\)</span> iff <span
class="math inline">\(y \in A x\)</span>. We check that this defines a
total order: if <span class="math inline">\(x,y \in K^\times\)</span>,
then either <span class="math inline">\(x/y \in A\)</span> (in which
case <span class="math inline">\(y K^\times \leq x K^\times\)</span>) or
<span class="math inline">\(y/x \in A\)</span> (in which case <span
class="math inline">\(x K^\times \leq y K^\times\)</span>).</p>
<p>We check the ultrametric inequality, that <span
class="math inline">\(v(x+y) \geq \min(v(x), v(y))\)</span>. Suppose for
instance that <span class="math inline">\(v(x) \leq v(y)\)</span>, so
that <span class="math inline">\(y \in A x\)</span>. Then <span
class="math inline">\(x + y \in A x\)</span>, so <span
class="math inline">\(v(x) \leq v(x+y)\)</span>, as required.</p>
<p>Thus <span class="math inline">\(v\)</span> is a valuation. We have
<span class="math inline">\(v(x) \geq 0\)</span> iff <span
class="math inline">\(x \in A \cdot 1\)</span>, so <span
class="math inline">\(A\)</span> is the valuation ring of <span
class="math inline">\(v\)</span>. ◻</p>
</span></div>
<div class="example">
<p><strong>Example 68</strong>. <span class="math inline">\(A :=
k[x^2,x^3] \subseteq K = k(x)\)</span> is not a valuation ring: the
element <span class="math inline">\(x \in K^\times\)</span> satisfies
<span class="math inline">\(x \notin A, x^{-1} \notin A\)</span>.</p>
</div>
<p>The ultrametric inequality can be strengthened to an equality if
<span class="math inline">\(v(x) \neq v(y)\)</span>:</p>
<div class="lemma">
<p><strong>Lemma 69</strong>. If <span class="math inline">\(v(x) \neq
v(y)\)</span>, then <span class="math inline">\(v(x+ y) =
\min(v(x),v(y))\)</span>. More generally, if <span
class="math inline">\(v(x_1) &lt; v(x_2) \leq v(x_3) \leq \dotsb \leq
v(x_n)\)</span>, then <span class="math inline">\(v(x_1 + \dotsb + x_n)
= v(x_1)\)</span>.</p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Suppose for instance that <span
class="math inline">\(v(x) &lt; v(y)\)</span>. Then <span
class="math inline">\(y/x \in \mathfrak{m}\)</span>, hence <span
class="math inline">\(1 + y/x \in A^\times\)</span>, hence <span
class="math inline">\(v(1+y/x) = 0\)</span>, hence <span
class="math inline">\(v(x+y) = v(x) v(1+y/x) = v(x)\)</span>. The second
assertion follows by induction. ◻</p>
</span></div>
<div class="lemma">
<p><strong>Lemma 70</strong>. Valuation rings are normal.</p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Let <span class="math inline">\(v :
K^\times  \rightarrow G\)</span> be a valuation with valuation ring
<span class="math inline">\(A\)</span>. Let <span
class="math inline">\(x \in K\)</span> be integral over <span
class="math inline">\(A\)</span>, thus <span class="math display">\[x^n
+ a_1 x^{n-1} + \dotsb + a_n = 0\]</span> for some <span
class="math inline">\(a_i \in A\)</span>. Suppose that <span
class="math inline">\(v(x) &lt; 0\)</span>. Then for <span
class="math inline">\(i=1..n\)</span>, we have <span
class="math inline">\(v(a_i) \geq 0\)</span>, hence <span
class="math inline">\(v(x^n) &lt; v(x^{i}) \leq v(a_i x^i)\)</span>. By
the strengthened ultrametric inequality, it follows that <span
class="math display">\[\infty = v(0) = v(x^n + \dotsb + a_n) = v(x^n)
&lt; 0,\]</span> a contradiction. ◻</p>
</span></div>
<div class="theorem">
<p><strong>Theorem 71</strong>. <em>Let <span
class="math inline">\(A\)</span> be an integral domain with field of
fractions <span class="math inline">\(K\)</span> and integral closure
<span class="math inline">\(\overline{A} \subseteq K\)</span>. Then
<span class="math inline">\(\overline{A}\)</span> is the intersection of
all valuation rings <span class="math inline">\(B\)</span> of <span
class="math inline">\(K\)</span> containing <span
class="math inline">\(A\)</span>.</em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> If <span class="math inline">\(x \in K\)</span> is
integral over <span class="math inline">\(A\)</span>, then it is also
integral over each valuation ring <span class="math inline">\(B\)</span>
of <span class="math inline">\(K\)</span> containing <span
class="math inline">\(A\)</span>; by the previous lemma, it follows that
<span class="math inline">\(x\)</span> belongs to <span
class="math inline">\(B\)</span>. This gives the “easy” inclusion.
Conversely, we must verify that if <span class="math inline">\(x \in
K\)</span> is <em>not</em> integral over <span
class="math inline">\(A\)</span> (so that in particular, <span
class="math inline">\(x \neq 0\)</span>), then there <em>exists</em> a
valuation ring <span class="math inline">\(B\)</span> of <span
class="math inline">\(K\)</span> containing <span
class="math inline">\(A\)</span> for which <span class="math inline">\(x
\notin B\)</span>:</p>
<p>Observe first that <span class="math inline">\(x\)</span> is not
integral over <span class="math inline">\(A[1/x]\)</span>: if it were,
then we could clear denominators to get a monic equation for <span
class="math inline">\(x\)</span> over <span
class="math inline">\(A\)</span>, contrary to hypothesis. In particular,
<span class="math inline">\(x \notin A[1/x]\)</span>. Thus <span
class="math inline">\(1/x\)</span> does not belong to the unit group of
<span class="math inline">\(A[1/x]\)</span>, and there is a prime (or
even maximal) ideal <span class="math inline">\(\mathfrak{p}\)</span> of
<span class="math inline">\(A[1/x]\)</span> for which <span
class="math inline">\(1/x \in \mathfrak{p}\)</span>.</p>
<p>Observe that if <span class="math inline">\((B_i)_{i \in I}\)</span>
are subrings of <span class="math inline">\(K\)</span> containing <span
class="math inline">\(A[1/x]\)</span> for which</p>
<ol>
<li><p><span class="math inline">\(i \leq j \implies B_i \subseteq
B_j\)</span>, and</p></li>
<li><p><span class="math inline">\(\mathfrak{p} B_i \neq
B_i\)</span>,</p></li>
</ol>
<p>then the (increasing) union <span class="math inline">\(B := \cup_{i
\in I} B_i\)</span> also has the property that <span
class="math inline">\(\mathfrak{p} B \neq B\)</span>, for else we may
write <span class="math inline">\(1 = p_1 b_1 + \dotsb + p_n
b_n\)</span> with <span class="math inline">\(p_1,\dotsc,p_n \in
\mathfrak{p}\)</span> and <span class="math inline">\(b_1,\dotsc,b_n \in
B_i\)</span> for some <span class="math inline">\(i\)</span>, contrary
to hypothesis.</p>
<p>By Zorn’s lemma, there is thus a subring <span
class="math inline">\(B\)</span> of <span
class="math inline">\(K\)</span> containing <span
class="math inline">\(A[1/x]\)</span> and maximal with respect to the
property that <span class="math inline">\(\mathfrak{p} B \neq
B\)</span>. <em>We claim that <span class="math inline">\(B\)</span> is
a valuation ring.</em> Assume the claim for the moment. Let <span
class="math inline">\(v\)</span> be a defining valuation for <span
class="math inline">\(B\)</span>, and let <span
class="math inline">\(\mathfrak{m} = \{x \in B : v(x) &gt; 0\} \subseteq
B\)</span> denote the maximal ideal of <span
class="math inline">\(B\)</span>. Then <span class="math inline">\(1/x
\in \mathfrak{p} \subseteq \mathfrak{p} B \subseteq
  \mathfrak{m}\)</span>, so <span class="math inline">\(v(x) = - v(1/x)
&lt; 0\)</span>, so <span class="math inline">\(x \notin B\)</span>. We
have thus produced the required valuation ring of <span
class="math inline">\(K\)</span>, containing <span
class="math inline">\(A\)</span>, which does not contain <span
class="math inline">\(x\)</span>. It remains only to establish the
claim.</p>
<p>To that end, we verify first that <em><span
class="math inline">\(B\)</span> is local</em>. Choose any maximal ideal
<span class="math inline">\(\mathfrak{m}\)</span> of <span
class="math inline">\(B\)</span> containing <span
class="math inline">\(\mathfrak{p} B \neq B\)</span>. Then <span
class="math inline">\(B_\mathfrak{m} \neq 0\)</span>, so <span
class="math inline">\(\mathfrak{m} B_\mathfrak{m} \neq
B_\mathfrak{m}\)</span>. In particular, <span
class="math inline">\(\mathfrak{p} B_\mathfrak{m} \neq
B_\mathfrak{m}\)</span>. By the maximality of <span
class="math inline">\(B\)</span>, it follows that <span
class="math inline">\(B = B_\mathfrak{m}\)</span>. Thus <span
class="math inline">\((B,\mathfrak{m})\)</span> is local.</p>
<p>We verify next that <em><span class="math inline">\(B\)</span> is
normal</em>. Suppose otherwise <span class="math inline">\(y \in
K\)</span> is integral over <span class="math inline">\(B\)</span>, but
that <span class="math inline">\(y \notin B\)</span>. Then <span
class="math inline">\(B \subsetneq B[y]\)</span> is an integral
extension, so <span class="math inline">\(B[y]\)</span> contains a prime
<span class="math inline">\(\mathfrak{n}\)</span> lying over <span
class="math inline">\(\mathfrak{m}\)</span>. (Here we use lying over!)
In particular, <span class="math inline">\(\mathfrak{p} B[y] \subseteq
\mathfrak{n} \subsetneq B[y]\)</span>. But this contradicts the
maximality of <span class="math inline">\(B\)</span>.</p>
<p>We verify next that <span class="math inline">\(B \subseteq
A_\mathfrak{p}\)</span>. We must verify that if <span
class="math inline">\(y \in A - \mathfrak{p}\)</span>, then <span
class="math inline">\(y \in B^\times\)</span>, i.e., that <span
class="math inline">\(y \notin \mathfrak{m}\)</span>. In the
contrapositive, we must verify that <span
class="math inline">\(\mathfrak{m} \cap A \subseteq
\mathfrak{p}\)</span>. TODO. You forget how to finish this off; the
important thing is just that you need, at the very least, the lying over
property, and so this lecture will have to come a bit later.</p>
<p>Okay, but even then, why is <span class="math inline">\(B\)</span> a
valuation ring? If <span class="math inline">\(y \in K - B\)</span> then
you need to show that <span class="math inline">\(B[y] = B\)</span>, for
instance, by verifying that <span class="math inline">\(\mathfrak{p}
B[y] \neq B[y]\)</span>. Why should that be? ◻</p>
</span></div>
<p>The key step is that if <span
class="math inline">\(\mathfrak{p}\)</span> is a prime in <span
class="math inline">\(A\)</span> and <span
class="math inline">\(B\)</span> is a subring of <span
class="math inline">\(K\)</span> that is maximal with respect to the
property <span class="math inline">\(\mathfrak{p} B \neq B\)</span>,
then <span class="math inline">\(B\)</span> is local, normal, contains
<span class="math inline">\(A_\mathfrak{p}\)</span>, and satisfies <span
class="math inline">\(\mathfrak{m}_B \cap A = \mathfrak{p}\)</span>.</p>
<ol>
<li><p>Local: let <span class="math inline">\(\mathfrak{m} \supseteq
\mathfrak{p} B\)</span>. Then <span class="math inline">\(\mathfrak{p}
B_\mathfrak{m} \neq B_\mathfrak{m}\)</span>.</p></li>
<li><p>Normal: if <span class="math inline">\(x \in K\)</span> is
integral over <span class="math inline">\(B\)</span>, then <span
class="math inline">\(B[x]\)</span> contains a prime lying over the
maximal ideal of <span class="math inline">\(B\)</span>.</p></li>
<li><p><span class="math inline">\(B \supseteq A_\mathfrak{p}\)</span> :
invert</p></li>
<li><p><span class="math inline">\(\mathfrak{m}_B \cap A_\mathfrak{p} =
\mathfrak{p}
  A_\mathfrak{p}\)</span>, etc.</p></li>
</ol>
<p>I guess the point here is to give some insight regarding normal
rings, and also to introduce DVR’s and to prove that awesome theorem
characterizing them.</p>
<p>TODO: determine what facts from above are really needed for this
discussion. Do you need the “lying over” and “going down” theorems, for
instance? If not, it might be worth introducing this stuff a bit
earlier, so as to give more examples to play with.</p>
<h1 id="sec:org0694603">§21. Dedekind domains</h1>
<p>Let <span class="math inline">\((A,\mathfrak{p})\)</span> be a
one-dimensional Noetherian local domain. Let <span
class="math inline">\(K\)</span> denote the fraction field of <span
class="math inline">\(A\)</span>.</p>
<div class="lemma">
<p><strong>Lemma 72</strong>. For each <span class="math inline">\(x \in
K\)</span> there exists <span class="math inline">\(n \geq 0\)</span> so
that <span class="math inline">\(x \mathfrak{p}^n \subseteq
A\)</span>.</p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> It suffices to show for each <span
class="math inline">\(0 \neq y \in A\)</span> that one has <span
class="math inline">\(\mathfrak{p}^n \subseteq (y)\)</span> for some
<span class="math inline">\(n\)</span>. This follows from the fact that
<span class="math inline">\(A/(y)\)</span> is an Artin local ring with
maximal ideal <span class="math inline">\(\mathfrak{p}/(y)\)</span>,
which is thus its nilradical. ◻</p>
</span></div>
<div class="lemma">
<p><strong>Lemma 73</strong>. Suppose <span class="math inline">\(y \in
K\)</span> satisfies <span class="math inline">\(\mathfrak{p} y
\subseteq A\)</span>. Then either</p>
<ol>
<li><p><span class="math inline">\(1/y \in \mathfrak{p}\)</span>,
or</p></li>
<li><p><span class="math inline">\(y\)</span> is integral over <span
class="math inline">\(A\)</span>.</p></li>
</ol>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> If <span class="math inline">\(\mathfrak{p} y =
A\)</span>, then we can write <span class="math inline">\(t y =
1\)</span> for some <span class="math inline">\(t \in
\mathfrak{p}\)</span>. Otherwise <span
class="math inline">\(\mathfrak{p} y \subseteq \mathfrak{p}\)</span>;
since <span class="math inline">\(\mathfrak{p}\)</span> is a
finitely-generated <span class="math inline">\(A\)</span>-module, it
follows that <span class="math inline">\(y\)</span> is integral over
<span class="math inline">\(A\)</span>. ◻</p>
</span></div>
<p>In other words, every element of <span
class="math inline">\(\mathfrak{p}^{-1}\)</span> is either (..)</p>
<div class="theorem">
<p><strong>Theorem 74</strong>. <em>If <span
class="math inline">\(A\)</span> is normal, then <span
class="math inline">\(A\)</span> is a DVR.</em></p>
</div>
<div class="proof"><p>
<a href="#" class="toggle-proof"><em data-default-text="Proof." data-folded-text="Proof. (...)">Proof.</em></a>
<span class="proof-content"> Let <span
class="math inline">\((B,\mathfrak{m})\)</span> be a valuation ring in
<span class="math inline">\(K\)</span> that contains <span
class="math inline">\(A\)</span> and for which <span
class="math inline">\(\mathfrak{m}\)</span> lies over <span
class="math inline">\(\mathfrak{p}\)</span>. Let <span
class="math inline">\(v\)</span> be a defining valuation for <span
class="math inline">\(B\)</span>. Then <span class="math inline">\(v(A)
\geq 0\)</span> and <span class="math inline">\(v(\mathfrak{p}) &gt;
0\)</span>. We aim to show that <span class="math inline">\(A =
B\)</span>. (Then we’re done, since a Noetherian VR is a DVR.)</p>
<p>Let <span class="math inline">\(x \in B\)</span>. Thus <span
class="math inline">\(x \in K\)</span> and <span
class="math inline">\(v(x) \geq 0\)</span>. We have seen that <span
class="math inline">\(\mathfrak{p}^n x \subseteq A\)</span> for some
<span class="math inline">\(n\)</span>. (This used the
one-dimensionality of <span class="math inline">\(A\)</span>.) Choose
<span class="math inline">\(n\)</span> minimal with this property. If
<span class="math inline">\(n = 0\)</span>, then we’re done: <span
class="math inline">\(A x \subseteq A\)</span>, so <span
class="math inline">\(x \in A\)</span>. Suppose otherwise that <span
class="math inline">\(n \geq 1\)</span>, so that <span
class="math inline">\(\mathfrak{p}^{n-1} x \not\subseteq A\)</span>.
Choose <span class="math inline">\(y \in \mathfrak{p}^{n-1} x\)</span>
with <span class="math inline">\(y \notin A\)</span>. Then <span
class="math inline">\(v(y) \geq v(x) \geq 0\)</span> and <span
class="math inline">\(\mathfrak{p} y \subseteq \mathfrak{p}^n x
\subseteq A\)</span>. We have <span class="math inline">\(v(1/y) \leq
0\)</span>, so <span class="math inline">\(1/y \notin
\mathfrak{p}\)</span>. By the lemma, we deduce that <span
class="math inline">\(y\)</span> is integral over <span
class="math inline">\(A\)</span>, whence by the normality of <span
class="math inline">\(A\)</span> that <span class="math inline">\(y \in
A\)</span>, contradiction. ◻</p>
</span></div>
<h1 id="sec:org75bf553">§22. The future</h1>
<h2 id="sec:orge6fe150">§22.1. Some exercises</h2>
<h3 id="sec:org29f0766">§22.1.1. </h3>
<p>Let <span class="math inline">\(A\)</span> be a ring, not necessarily
Noetherian. We are asked to show that <span class="math display">\[\dim
A + 1 \leq \dim A[X] \leq 2 \dim A + 1.\]</span> We may establish the
first inequality as in the Noetherian case. For the second, it suffices
to verify that for any prime chain <span
class="math inline">\(\mathfrak{p}_1 \subsetneq \mathfrak{p}_2 \subseteq
A[X]\)</span> with <span class="math inline">\(\mathfrak{p}_1 \cap A =
\mathfrak{p}_2 \cap A =:
  \mathfrak{p}\)</span>, one has <span
class="math inline">\(\mathfrak{p}_1 = \mathfrak{p} A[X]\)</span>, I
think we just reduce to case in which <span
class="math inline">\((A,\mathfrak{p})\)</span> is local, and then use
that <span class="math inline">\(\dim (A/\mathfrak{p})[X] =
1\)</span>.</p>
<h3 id="sec:org0e0b82b">§22.1.2. </h3>
<p>Let <span class="math inline">\(A = k[X,Y]\)</span> for a field <span
class="math inline">\(k\)</span>. Let <span class="math inline">\(f \in
A\)</span> be non-constant. We want to show that <span
class="math inline">\(\dim A/(f) = 1\)</span>. Well, <span
class="math inline">\(A\)</span> is Noetherian, and <span
class="math inline">\(\dim(A) = 2\)</span>, and <span
class="math inline">\(f\)</span> is non-constant, hence a non-unit. It
suffices to show for each maximal ideal <span
class="math inline">\(\mathfrak{m}\)</span> containing <span
class="math inline">\((f)\)</span> that <span class="math inline">\(\dim
A_\mathfrak{m}/(f) = 1\)</span>. For this we can reduce to the local
case? We need to know that <span class="math inline">\(f\)</span> is not
a zero-divisor. Everything in sight is an integral domain, so there’s no
issue there.</p>
<h3 id="sec:org6c497dd">§22.1.3. </h3>
<p>Let <span class="math inline">\((A,\mathfrak{m})\)</span> be a
regular Noetherian local ring with residue field <span
class="math inline">\(k = A/\mathfrak{m}\)</span>.</p>
<p>Suppose first that <span class="math inline">\(\dim(A) = 0\)</span>.
We are asked then to verify that <span class="math inline">\(A\)</span>
is a field. We are given that <span class="math inline">\(\dim(A) = 0 =
\dim_k(\mathfrak{m}/\mathfrak{m}^2)\)</span>. Thus <span
class="math inline">\(\mathfrak{m} = \mathfrak{m}^2\)</span>. By
Nakayama, it follows that <span class="math inline">\(\mathfrak{m} =
(0)\)</span>. Thus <span class="math inline">\(A\)</span> is a
field.</p>
<p>Suppose next that <span class="math inline">\(\dim(A) = 1\)</span>.
We are asked to verify that <span class="math inline">\(A\)</span> is a
local principal ideal domain. Welp, let <span class="math inline">\(f
\in \mathfrak{m} - \mathfrak{m}^2\)</span>, so that the image of <span
class="math inline">\(f\)</span> spans <span
class="math inline">\(\mathfrak{m}/\mathfrak{m}^2\)</span>. By Nakayama,
<span class="math inline">\(f\)</span> generates <span
class="math inline">\(\mathfrak{m}\)</span>. So <span
class="math inline">\(\mathfrak{m} = (f)\)</span> is a principal ideal.
Now consider any ideal <span class="math inline">\(\mathfrak{a}
\subseteq A\)</span>. We must verify that <span
class="math inline">\(\mathfrak{a}\)</span> is principal. We may suppose
that <span class="math inline">\(\mathfrak{a}\)</span> is nonzero. We
have <span class="math inline">\(\mathfrak{m} \supseteq
\mathfrak{a}\)</span>. Since <span
class="math inline">\(\mathfrak{a}\)</span> is nonzero and <span
class="math inline">\(\cap \mathfrak{m}^n = 0\)</span>, there exists
<span class="math inline">\(n \geq 1\)</span> so that <span
class="math inline">\(\mathfrak{m}^n \supseteq
  \mathfrak{a}\)</span> but <span
class="math inline">\(\mathfrak{m}^{n+1} \not\supseteq
\mathfrak{a}\)</span>. Thus <span
class="math inline">\(\mathfrak{a}\)</span> is contained in <span
class="math inline">\((f^n)\)</span>, but <span
class="math inline">\(\mathfrak{a}\)</span> is not contained in <span
class="math inline">\((f^{n+1})\)</span>. Choose <span
class="math inline">\(x \in \mathfrak{a}\)</span> with <span
class="math inline">\(x \notin (f^{n+1})\)</span>. We may write <span
class="math inline">\(x = f^n y\)</span>. If <span
class="math inline">\(y \in \mathfrak{m}\)</span>, then <span
class="math inline">\(x \in (f^{n+1})\)</span>, contradiction. Thus
<span class="math inline">\(y\)</span> is a unit. Thus <span
class="math inline">\((x) = (f^n)\)</span>. Thus <span
class="math inline">\(\mathfrak{a}\)</span> contains <span
class="math inline">\(\mathfrak{m}^n\)</span>. Thus <span
class="math inline">\(\mathfrak{a} = \mathfrak{m}^n\)</span>, as
required.</p>
<h3 id="sec:org6abe4ac">§22.1.4. </h3>
<p>Let <span class="math inline">\((A,\mathfrak{m})\)</span> be a
regular Noetherian local ring of dimension <span
class="math inline">\(d\)</span> with residue field <span
class="math inline">\(k := A/\mathfrak{m}\)</span>. This means, we
recall, that <span
class="math inline">\(\dim_k(\mathfrak{m}/\mathfrak{m}^2) =
\dim(A)\)</span>, or equivalently, that <span
class="math inline">\(\mathfrak{m}\)</span> is generated by a system of
parameters.</p>
<p>Let <span class="math inline">\(f_1,\dotsc,f_r \in
\mathfrak{m}\)</span>. We are asked to verify that the following are
equivalent:</p>
<ol>
<li><p>The quotient <span class="math inline">\(\overline{A} := A /
(f_1,\dotsc,f_r)\)</span> is regular of dimension <span
class="math inline">\(d-r\)</span>.</p></li>
<li><p>The residue classes <span class="math inline">\(\overline{f_1},
\dotsc,
  \overline{f_r}
  \in \mathfrak{m} / \mathfrak{m}^2\)</span> are linearly independent
over <span class="math inline">\(k := A/\mathfrak{m}\)</span>.</p></li>
</ol>
<p>Well, assume (i), i.e., that the quotient is regular of dimension
<span class="math inline">\(d-r\)</span>. Then what? Well, the
dimensional equality implies (by an earlier result) that we may extend
<span class="math inline">\(f_1,\dotsc,f_r\)</span> to a system of
parameters <span class="math inline">\(f_1,\dotsc,f_d\)</span> of <span
class="math inline">\(\mathfrak{m}\)</span>. Now, we are given that
<span class="math inline">\(\dim_{k}(\overline{\mathfrak{m} } /
\overline{\mathfrak{m}
  }^2) = d - r\)</span>.</p>
<p>Now, hmm. It’s surely not the case that <em>any</em> system of
parameters generates <span
class="math inline">\(\mathfrak{m}/\mathfrak{m}^2\)</span>; after all,
we can take the squares of the elements of a given system to obtain a
new system that is contained in <span
class="math inline">\(\mathfrak{m}^2\)</span>.</p>
<p>A simple example by which to understand what’s going on might be when
<span class="math inline">\(A\)</span> is a DVR, <span
class="math inline">\(\mathfrak{m} = (f)\)</span>, and we take <span
class="math inline">\(f_1 := f^2\)</span>. Then (ii) fails, and indeed,
<span class="math inline">\(A/(f^2)\)</span> is not regular. But why
not, exactly? Okay, well, we can compute pretty easily the dimension of
<span class="math inline">\(\overline{\mathfrak{m} } /
  \overline{\mathfrak{m} }^2\)</span>, perhaps? I think it should be
<span class="math inline">\(d - \dim \operatorname{span}
  \{\overline{f_1},\dotsc,\overline{f_r}\}\)</span>.</p>
<h3 id="sec:orgdd66e74">§22.1.5. </h3>
<script>
document.querySelectorAll(".toggle-proof").forEach(function(toggle) {
  toggle.addEventListener("click", function(e) {
    e.preventDefault();
    const content = this.nextElementSibling;
    const em = this.querySelector('em');
    if (window.getComputedStyle(content).display === "none") {
      content.style.display = "inline";
      em.textContent = em.dataset.defaultText;
    } else {
      content.style.display = "none";
      em.textContent = em.dataset.foldedText;
    }
  });
});
</script>
<script>
document.querySelector("#toggle-all-proofs").addEventListener("click", function(e) {
  e.preventDefault();
  const proofs = document.querySelectorAll(".proof-content");
  proofs.forEach(function(proof) {
    const proofToggle = proof.previousElementSibling;
    if (window.getComputedStyle(proof).display === "none") {
      proof.style.display = "inline";
      proofToggle.innerHTML = `<em>${proofToggle.dataset.defaultText}</em>`;
    } else {
      proof.style.display = "none";
      proofToggle.innerHTML = `<em>${proofToggle.dataset.foldedText}</em>`;
    }
  });
});
</script>

<script src="https://giscus.app/client.js"
        data-repo="Ultronozm/math"
        data-repo-id="R_kgDOJlhjqQ"
        data-category="Announcements"
        data-category-id="DIC_kwDOJlhjqc4CWo21"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>
</body>
</html>
