\documentclass[reqno]{amsart} \input{common.tex}

\usepackage{tikz-cd}


\begin{document}

\title{Notes from 2024 Clay Research Workshop, \emph{New Advances in the Langlands Program: Geometry and Arithmetic}}

\begin{abstract}
  Unedited notes from the talks of Sweeting, Skinner Gleason, Manning, Mingjia Zhang, Scholze, Emerton, Wiles, van Hoften, Thorne.  These notes are incomplete, have not been proofread, and should be considered only a crude approximation to what happened in the lectures, filtered through my own misunderstandings and distractions.  Any errors should be assumed to be due to the note-taker.  Corrections welcome!
\end{abstract}

\maketitle

\tableofcontents


\part{Naomi Sweeting, \emph{A new bipartite Euler system and Selmer ranks for some four-dimensional symplectic Galois representations}}

\begin{itemize}
\item $\Pi$: automorphic representation of $\GSp_{4}$, cuspidal, not CAP or endoscopic, trivial, with 
\item $\Pi_\infty$: holomorphic discrete series of weight $(3,3)$
\item $\rho_{\pi, \lambda} : G_{\mathbb{Q}} \rightarrow \GSp_4(E_\lambda)$
\item $\rho_{\pi, \lambda}^\vee(1) = \rho_{\pi, \lambda}$
\end{itemize}
\begin{conjecture}[Bloch--Kato]
  $\dim H_f^1(\mathbb{Q}, \rho_{\pi, \lambda}) = \ord_{s = 1/2} L(\Pi, \mathrm{spin}, s)$.
\end{conjecture}
\begin{theorem}[S.,\ TBD]\label{theorem:cnpoolw6ih}
  Assume $\Pi$ has a local component of type IIa for almost every $\lambda$.  If $L(\Pi, \mathrm{spin}, \tfrac{1}{2}) \neq 0$, then $H_f^1(\mathbb{Q}, \rho_{\pi, \lambda}) = 0$.
\end{theorem}

\begin{remark}
  \begin{enumerate}
  \item Description of $\Pi_\infty$ under LLC.
  \item Loeffler--Zerbes 2020.
  \item For $\lambda$ good, existence of level-raising primes, $\bar{\rho}_{\pi, \lambda}$ absolutely irreducible and generic (Caraiani--Scholze, Lee--Hamann \cite{2023arXiv2309.08705}).
  \end{enumerate}
\end{remark}

We need to talk about a construction of Selmer classes coming from special cycles on a certain Shimura variety.
\begin{itemize}
\item $\operatorname{Sh}_K(\GSp_4)$: Siegel $3$-fold, given by $\mathcal{A}_2$ with certain level structure.
\item $B$: indefinite quaternion algebra, with maximal order $\mathcal{O}_B$
\item $X_B$: the Shimura curve given by the moduli space of principally polarized abelian varieties together with an action of $\mathcal{O}_B$, plus compatible level structure.
\item $X_B \rightarrow \operatorname{Sh}_K(\GSp_4)$.
\item
  \begin{equation*}
    \mathcal{H}_K^{\ast} \circlearrowright H^\ast_{et}(\operatorname{Sh}_K(\GSp_4)_{\bar{\mathbb{Q}}}, E_\lambda)[\Pi_f]
    =
    \begin{cases}
      0 & \text{ if } \ast \neq 3, \\
      \rho_{\pi, \lambda}(z) \otimes \pi_f^K         &  \text{ if } \ast = 3.
    \end{cases}
  \end{equation*}
\item $[X_B]_{\Pi_f} \in \operatorname{CH}^2(\operatorname{Sh}_K(\GSp_4))$ giving rise, for $\lambda$ good, to
  \begin{align*}
    \partial_{\mathrm{AJ}}[X_B]_{\Pi_f} &\in H^1(\mathbb{Q}, H_{et}^3(\operatorname{Sh}_K(\GSp_4)_{\bar{\mathbb{Q}}}, E_\lambda(2))[\Pi_f])
    \\
                                        &
                                          =
                                          H_f^1(\mathbb{Q}, \rho_{\pi , \lambda}) \otimes \Pi_f^K \rightarrow H_f^1(\mathbb{Q}, \rho_{\pi, \lambda}).
  \end{align*}
\end{itemize}

The other main result of this talk:
\begin{theorem}[S.,\ TBD]\label{theorem:cnpooluola}
  For $\Pi$ as above, for almost every $\lambda$, if $\partial_{\mathrm{AJ}}[X_B]_{\Pi_f} \neq 0$ for any $B$, then
  \begin{equation*}
    \dim H_f^1(\mathbb{Q}, \rho_{\pi, \lambda}) = 1.
  \end{equation*}  
\end{theorem}
More precisely, under the given hypothesis, we get a nontrivial Selmer class.  The conclusion is then that this Selmer class generates a nontrivial subgroup.

The expectation, coming from the Kudla program, is that
\begin{equation*}
  L '(\Pi, \mathrm{spin}, \tfrac{1}{2}) \neq 0 \implies
  \text{ there exists $B$ such that }
  [X_B]_{\Pi_f} \neq 0.
\end{equation*}
(Progress by Chao Li and Wei Zhang, and in the unitary case by Li and Yifeng Liu.)

Conjecturally, the Abel--Jacobi map is injective: as long as you have a nonzero class in the Chow group, you get a nonzero Abel--Jacobi image:
\begin{equation*}
  [X_B]_{\Pi_f} \neq 0 \implies \partial_{\mathrm{AJ}}[X_B]_{\Pi_f} \neq 0.
\end{equation*}

Before turning to the proof, let's discuss \emph{Kudla cycles}.  These are cycle classes
\begin{equation*}
  Z(T, \varphi) \in \operatorname{CH}^2(\operatorname{Sh}_K(\GSp_4))
\end{equation*}
indexed by
\begin{itemize}
\item $T \in \Sym_2(\mathbb{Q})_{> 0}$,
\item $\varphi$: a Schwartz function (telling you which Hecke shifts to take), and
\item $Z(T, \varphi)$: a linear combination of Hecke shifts of $[X_B]$, where $B$ is attached to $T$ (indeed, it is the Clifford algebra attached to $V_T$).
\end{itemize}
The value in these $Z(T, \varphi)$ is their representation-theoretic content.  For instance, if you form the generating series
\begin{equation*}
  \sum_{T \in \Sym_2(\mathbb{Q})_{0}}
  [Z(T, \varphi)] q^T \text{ is modular of weight }  \frac{5}{2},
\end{equation*}
taking values in the Chow group.  We can thus restate Theorem \ref{theorem:cnpooluola} as follows:
\begin{equation*}
  \partial_{\mathrm{AJ}}[X_B]_{\Pi_f} \neq 0 \text{ for some } B
  \iff
  \partial_{\mathrm{AJ}}[Z(T, \varphi)]_{\Pi_f} \neq 0.
\end{equation*}

Let's now discuss the proof of Theorem \ref{theorem:cnpoolw6ih}.  Fix $\lambda$ and
\begin{equation*}
  \rho_{\pi, N} : G_{\mathbb{Q}} \rightarrow \GSp_4(\mathcal{O}_E/\lambda^N).
\end{equation*}
The objective is then to produce $c(p) \in H^1(\mathbb{Q}, \rho_{\pi, N})$, for some auxiliary prime $p$, such that
\begin{enumerate}
\item $c(p)$ is Selmer outside $p$, and
\item $L(\Pi, \mathrm{spin}, \tfrac{1}{2}) \neq 0 \implies c(p)$ is ramified at $p$.
\end{enumerate}

We now give a geometric construction of the $c(p)$'s.  Let $q$ be a place where $\Pi$ is of type IIa.  Let $V_{p, q}$ be the quadratic space of signature $(3,2)$, ramified at $p$ and $q$.  Then $\GSpin(V_{p, q})$ is an inner form of $\GSp_4$, with a Shimura variety $\operatorname{Sh}_K(V_{p q})$.  Has $Z(T, \varphi)$, with $T \in \Sym_2(\mathbb{Q})_{> 0}$ and $\varphi \in \mathcal{S}(V_{p q}^{\oplus 2} \otimes \mathbb{A}_f)$.  You can think of the $Z(T, \varphi)$ as linear combinations of embedded Shimura curves in much the same way.

We do \emph{not} have a map
\begin{equation*}
  H_{et}^3(\operatorname{Sh}_K(V_{p q})_{\bar{\mathbb{Q}}}, E_\lambda(z)) \rightarrow \rho_{\pi, \lambda}.
\end{equation*}
Indeed, we only see the automorphic representations ramified at $p$ and $q$.  But suppose given some map from the integral {\'e}tale cohomology
\begin{equation*}
  f : H_{\acute{e}t}^3(\operatorname{Sh}_K(V_{p q})_{\bar{\mathbb{Q}}}, \mathcal{O}(2)) \rightarrow \rho_{\pi, N}.
\end{equation*}
Then
\begin{equation*}
  \partial_{\mathrm{AJ}}[Z(T, \varphi)]_{\mathfrak{m}} \in H^1(\mathbb{Q}, H_{\acute{e}t}^3(\operatorname{Sh}_K(V_{p q})_{\bar{\mathbb{Q}}}, \mathcal{O}(2))).
\end{equation*}
Taking images under $f$, we obtain
\begin{equation*}
  c(f, T, \varphi) \in H^1(\mathbb{Q}, \rho_{\pi, N}).
\end{equation*}
We define the subspace $c(p)$ to be the collection of all Galois cohomology classes obtained in this way:
\begin{equation*}
  c(p) := \left\{ c(f, T, \varphi) \right\} \subseteq H^1(\mathbb{Q}, \rho_{\pi, N}).
\end{equation*}

We now outline the steps to prove that $c(p)$ contains classes with nontrivial ramification.
\begin{enumerate}
\item\label{enumerate:cnpooo5mmc} Geometric input: study special fiber of $\operatorname{Sh}_K(V_{p q})$ at $p$, with the level structure at $p$ taken to be a certain maximal parahoric subgroup.  You'll get singularities in the special fiber, but they won't be too bad.
\item\label{enumerate:cnpooo5obe} ``Arithmetic level raising'': produce
  \begin{equation*}
    f : H_{\acute{e}t}^3(\operatorname{Sh}_K(V_{p q})_{\bar{\mathbb{Q}}}, \mathcal{O}(2)) \rightarrow \rho_{\pi, N}.
  \end{equation*}
\item\label{enumerate:cnpooo5pcd} Finally, relate $\res_{I_{\mathbb{Q}_p}} c(f, T, \varphi)$ to $L$-values.  This works through the theory of the theta correspondence, requiring analysis both globally and locally at $p$.
\end{enumerate}

Step \eqref{enumerate:cnpooo5mmc} (H.\ Wang): $2$-dimensional semisimple locus is indexed by (two copies of)
\begin{equation*}
  \GSpin(V_q)(\mathbb{Q}) \backslash \GSpin(V_q)(\mathbb{A}_f) / K.
\end{equation*}
Here $V_q$ has signature $(s, 0)$ and is ramified at $q$.  Integral combinations governed by $\mathcal{H}_{K_p}$.

We look at
\begin{equation*}
  \begin{tikzcd}
    F_{- 1} H^1(I_{\mathbb{Q}_p}, H_{\acute{e}t}^3(\operatorname{Sh}_K(V_{p q})_{\bar{\mathbb{Q}}}, \mathcal{O}(2)))_{\mathfrak{m}}
    \arrow[r, hookrightarrow] & H^1(I_{\mathbb{Q}_p}, H^3_{\acute{e}t}
    (\operatorname{Sh}_K(V_{p q})_{\bar{\mathbb{Q}}}, \mathcal{O}(2)))^{\operatorname{Fr}_p = 1}_{\mathfrak{m}} \\
    \mathcal{O}[\operatorname{Sh}(V_B)] / T_p^{l r} \arrow[u, twoheadleftarrow] &
  \end{tikzcd}
\end{equation*}
where $l r$ stands for ``level-raising''.

We have a one-dimensional cycle $Z$ such that $\partial_{\mathrm{A J}}[Z]_{\mathfrak{m}}$ lies in the domain above, and maps under the surjection in question to, inside an integral model, 

For \eqref{enumerate:cnpooo5obe}, we use the Jacquet--Langlands correspondence to produce
\begin{equation*}
  \phi_\pi : \operatorname{Sh}(V_q) \rightarrow 0,
\end{equation*}
(R{\"o}sner and Weissauer), with the same Hecke eigenvalues as $\pi$.  We want to use this to produce the desired map $f$.  Note that if we had such a map $f$, it would induce the map $f^\ast$ to the same thing, but for $\mathcal{O} / \lambda^N = H^1(I_{\mathbb{Q}_p}, \rho_{\pi, N})^{\operatorname{Fr}_p = 1}$.  This extends our diagram above as follows:
\begin{equation}\label{eq:cnpoop7atc}
  \begin{tikzcd}
    F_{- 1} H^1(I_{\mathbb{Q}_p}, H_{\acute{e}t}^3(\operatorname{Sh}_K(V_{p q})_{\bar{\mathbb{Q}}}, \mathcal{O}(2)))_{\mathfrak{m}}
    \arrow[r, hookrightarrow] & H^1(I_{\mathbb{Q}_p}, H^3_{\acute{e}t}
    (\operatorname{Sh}_K(V_{p q})_{\bar{\mathbb{Q}}}, \mathcal{O}(2)))^{\operatorname{Fr}_p = 1}_{\mathfrak{m}} \\
    \mathcal{O}[\operatorname{Sh}(V_B)] / T_p^{l r} \arrow[u, twoheadleftarrow] &
    H^1(I_{\mathbb{Q}_p}, \rho_{\pi, N})^{\operatorname{Fr}_p = 1} \arrow[u, leftarrow] \\
    \mathcal{O} / T_p^{_r}(\Pi_p) = \mathcal{O} / \lambda^N \arrow[u, leftarrow].
  \end{tikzcd}
\end{equation}
Turns out that $f$ and $f_\ast$ corresponds.  ``Typicness'' (Scholze):
\begin{equation*}
  H_{\acute{e} t}^3(\operatorname{Sh}_K(V_{p q})_{\bar{\mathbb{Q}}}, \mathcal{O}(2))_{\mathfrak{m}}
  = \rho_{\mathfrak{m}}^{\mathrm{univ}} \otimes_{R_{\mathfrak{m}}^{\mathrm{univ}}} \mathfrak{m}.
\end{equation*}
Idea: hit with
\begin{equation*}
  a \in \operatorname{Ann}(\ker(R_{\mathfrak{m}}^{\mathrm{univ}} \xrightarrow{\rho_{\pi, \lambda }} \mathcal{O})).
\end{equation*}
Fact (Newton--Thorne): there exists $a$ with $g(a) \neq 0$ such that
\begin{equation*}
  H_f^1(\mathbb{Q}, \ad^0 \rho_{\pi, \lambda }) = 0.
\end{equation*}

A few words on \eqref{enumerate:cnpooo5pcd}.  $\varphi = \varphi^p \otimes \varphi_p$, $\varphi^p \in \mathcal{S}(V_{p q}^2 \otimes \mathbb{A}_f^p)$.  Then we have the following elements along the left side of the diagram \eqref{eq:cnpoop7atc}:
\begin{itemize}
\item $\partial_{\mathrm{AJ}}[Z(T, \varphi)]_{\mathfrak{m}}$
\item $Z(T, \varphi^p \otimes \varphi_p)$
\item $\phi_\pi(Z(T, \varphi^p \otimes \varphi_{p}'))$, a linear combination of $\SO_3$-$\SO_5$ periods for $\phi_\pi$, where
  $\varphi_{p}' \in \mathcal{S}(V_q^2 \otimes \mathbb{Q}_p)$.
\end{itemize}
So we're putting together these $\SO_3$ and $\SO_5$ periods in some special way, and what you get is the classical theta lift
\begin{equation*}
  \sum \phi_\pi(Z(T, \varphi^p \otimes \phi_{p} ')) q^T =
  \Theta_{\varphi^p \otimes \varphi_p '}(\phi_\pi).
\end{equation*}
We have the equivalence
\begin{equation*}
  L(\Pi, \mathrm{spin}, \tfrac{1}{2}) \neq 0 \iff \Theta_{\varphi}(\phi_\pi) \neq 0 \text{ for \emph{some} } \varphi.
\end{equation*}
Subtlety: replace standard spherical test function with $\varphi_p '$ without changing the valuation of your Fourier coefficients.
\begin{equation*}
  \mathcal{S}(V_q^2 \otimes \mathbb{Q}_p) \circlearrowleft \Mp_4(\mathbb{Q}_p) \times \SO_5(\mathbb{Q}_p).
\end{equation*}


\part{Christopher Skinner, \emph{Classes in the Galois cohomology of automorphic Galois representations}}

Let $V$ be a geometric $p$-adic Galois representation of $G_F$, in the sense of Fontaine--Mazur for a number field $F$.  It has coefficients in some finite extension $L/ \mathbb{Q}_p$.

Let $T$ be a $G_F$-stable $\mathcal{O}$-lattice, where $\mathcal{O} \subseteq L$ is the ring of integers.

The theory of Euler systems and Kolyvagin systems is all about finding classes $c \in H^1(F, M)$ with nice properties, where $M$ is a Galois module such as $V$ or $T$, or perhaps $T_{\mathfrak{m}} = T / \varpi^{\mathfrak{m}} T$.  This has in practice been a bit of an art form.  We want to try to find approaches that apply fairly generally.  We'll take the ``low-tech'' approach (in contrast to some of the lectures from this morning).

Let $c$ denote the class of a $\mathcal{O}[G_F]$-module.  We want to find extensions of the trivial module
\begin{equation*}
  M \rightarrow \mathcal{E} \rightarrow \mathcal{O} / \varpi^m.
\end{equation*}
Back in the day, we constructed such extensions using Eisenstein series, etc.  Now we want to find some other ways.  Where to look for them?  Since $\mathcal{E}$ is geometric, well, suppose we can realize our $M$ as a quotient
\begin{equation*}
  H^r(X_{/ \bar{F}}, \Lambda) \twoheadrightarrow M,
\end{equation*}
where $\Lambda = \mathcal{O} / \varpi^m(d)$.  Then a natural place to look for such extensions is in some open subvariety $U \subseteq X$, maybe looking in $H^r(U, \Lambda)$, and under
\begin{equation*}
  H^r(X_{/ \bar{F}}, \Lambda) \twoheadrightarrow T_{\mathfrak{m}}.
\end{equation*}
(We'll start suppressing $\lambda$ from now on.)  More precisely, let $Z \subseteq X$ be of codimension $c$, assume that everything is smooth, consider
\begin{equation*}
  \begin{tikzcd}
    H^r(X_{/ \bar{F}}) \arrow[r] \arrow[d, two heads] & 
    H^r(U_{/ \bar{F}}) \arrow[r] \arrow[d, dashed] & 
    H_Z^{r + 1}(X_{/\bar{F}}) \arrow[r, equal] &
    H^{r + 1 - 2 c}(Z_{/\bar{F}}, \Lambda(- c)) \arrow[d, hook] \\
    T_{\mathfrak{m}} \arrow[r] & 
    \mathcal{E} \arrow[rr] & 
    \phantom{H^{r + 1 - 2 c}(Z_{/\bar{F}}, \Lambda(- c))}
    &
    \mathcal{O} / \varpi^m.
  \end{tikzcd}
\end{equation*}
\begin{equation*}
  H^r(X_{/ \bar{F}})
  \rightarrow H^r(U_{/ \bar{F}})
  \rightarrow H_Z^{r + 1}(X_{/\bar{F}})
  = H^{r + 1 - 2 c}
  (Z_{/\bar{F}}, \Lambda(- c))
\end{equation*}
\begin{equation*}
  T_{\mathfrak{m}} \rightarrow \mathcal{E} \rightarrow \mathcal{O} / \varpi^m
\end{equation*}

Example: idea of Venkatesh and myself


Let $X$ be of dimension $2 d$, containing $X_0$ of dimension $d$, together with a $\mathbb{Z} / p^m$-cover $X_1 \rightarrow X_0$.  This gives rise to
\begin{equation*}
  c_0 \in H^1(X_0, \mathbb{Z} / p^m).
\end{equation*}
This gives an extension in $H^1(F, H^{2 d}(X_{/\bar{F}}), \mathbb{Z} / p^m(d))$, which contains $\varpi^{m_X} c_0$.  We can thus exhibit classes like this very generally, and we want to know, what can we force on these classes?  Easy to see that we can force them to be unramified quite generally (by taking these varieties to have good reduction and extending them to nice models), so what we're really interested in is forcing them to have ramification.  That's in the spirit of talks from this morning, where we were actually interesting in constructing classes that ramify.

So here's the \emph{setup} that we're trying to generalize.  Take $X = X_B^2 \hookleftarrow X_0 = X_{B, 0}(\ell)$, covered by $X_1 = X_{B, 1}(\ell)$, maybe via a suitable quotient $(\mathbb{Z} / \ell \mathbb{Z})^\ast \rightarrow \mathbb{Z} /p^m$ to get the right cover.  More generally, we can take these to be Shimura curves over totally real number fields and let $\ell$ be a prime in the appropriate number field, or take a $\U(n,1)$-type Shimura variety, and generalize everything we'll say.

We assume that this extends to regular models $\mathfrak{X}$ over the localization $\mathcal{O} _\ell$.  For $\mathfrak{X}_0$, we want $X_0^s = X^m \cup X^{e}$ (smooth, intersecting transversally).  We want our covering map to extend to $\mathfrak{X}_1 \twoheadrightarrow \mathfrak{X}_0$ in such a way that the special fiber looks the same way: $X_1^s = X_1^m \cup X_1^{e}$.  Here $p \neq \ell$, and the special fibers are at $\ell$.  My cover is not an {\'e}tale cover for $\mathfrak{X}_1$ over $\mathfrak{X}_0$ extended over the ring of integers, but it \emph{is} if we excise the $X^m$ from the special fiber.  Our cycle class map we can think of as the same as pushing forward
\begin{equation*}
  c_0 \in H^1(\mathfrak{X}_0 \setminus X^m) \rightarrow
  H^{2 d + 1}(\mathfrak{X}_0 \setminus X^s).
\end{equation*}


We  also have
\begin{equation*}
  H^1(\mathfrak{X}_0) \rightarrow H^1(\mathfrak{X}_0 \setminus X^m)
  \rightarrow H^0(X^m, -1)
\end{equation*}


\begin{equation*}
  \begin{tikzcd}[column sep=huge, row sep=large]
    & H^1(\mathfrak{X}_0) \arrow[d] & \\
    & H^1(\mathfrak{X}_0 \setminus X^m) \arrow[r] \arrow[d] & H^{2d+1}(\mathfrak{X}_0 \setminus X^s) \\
    & H^0(X^m, -1) \arrow[r] \arrow[d, equal] & H^{2d}(X^s, -1)^{\mathrm{Fr}_{\ell} = 1} = H^1(I_{\ell}, H^{2d}(X))^{G_{F_{\ell}}} \arrow[d, twoheadrightarrow] \\
    & \Lambda(-1) & T_{\mathfrak{m}}(-1)^{\mathrm{Fr}_{\ell} = 1}
  \end{tikzcd}
\end{equation*}
The bottommost arrow from left to right is the graph of $\mathrm{Fr}_{\ell}$ (or maybe its transpose; the speaker claims that he can never remember).

Take $X = X_B^2$ and $d = 1$.  Then we're looking at
\begin{equation*}
  H^2(X_B^2) \rightarrow H^1(X) \otimes H^1(X)
  \twoheadrightarrow \Hom(H^1(X), H^1(X))
  \twoheadrightarrow \Ad^0(\dotsb)^{\mathrm{Fr}_{\ell} = 1},
\end{equation*}
the last of which contains the Frobenius $\phi_{\ell}$.  Write $\alpha$ and $\beta$ for the eigenvalues of Frobenius.  Get some kind of congruence module $c_f \cdot(\alpha \cdot \beta)$.

We've now produced an entire world of cohomology classes, which we can feed into the whole Chebotarev or Kolyvagin machine.  We easily get the qualitative result
\begin{equation*}
  H_f^1(F, \ad^0(T_f)_{(1)} \otimes \mathbb{Q}_p) = 0.
\end{equation*}
This recovers a kind of qualitative theorem of Newton and Thorne, but we've actually shown a little bit more, by actually constructing an annihilator.  It also recovers an old result of Flach, but removing hypotheses from that theorem.

Now, how do I know that what we said above is true at the prime $p$?  There, life becomes harder (because the classes are torsion, not arising from obvious restrictions of things that are torsion-free, for which everything is semistable).

This kind of bad reduction situation is easily arranged.  If we take a unitary group $U$ to have at archimedean places given by
\begin{equation*}
  U_\infty = \U(n - 1, 1)^d \times \U(n)^{d - 1}
\end{equation*}
and we form the Shimura variety $\mathrm{Sh}_U$, and if we take something that looks modulo $\lambda$ like
\begin{equation*}
  \begin{pmatrix}
    [n-1]    & \ast \\
    0             & \ast \\
  \end{pmatrix}
  \mod{\lambda}
\end{equation*}
(explained by Harris--Taylor, generalized in many settings), then this would give us torsion classes that are ramified, giving all the regular algebraic conjugate self dual Galois representations over CM fields.  We get some annihilation results from the $\ad^0$ of those, provided we can deal with the prime $p$, where we have to deal with torsion classes.  Now if $f$ were unramified at the primes above $p$, then you can blow up the subvariety.  Eventually need an explicit upper bound on the $H^1(\ad^0)$ (or perhaps even finiteness).

Cohomologically, there's a kind of dual picture to this picture, where instead of starting with a class on the smaller variety, perhaps we start with a class on the larger variety, and then pull it back.  Called ``relative cohomology''.  Thus, we might look at (with $U = X - Z$)
\begin{equation*}
  \begin{tikzcd}
    H^{r-1}(Z) \arrow[r] \arrow[d, two heads] & H^r(X,Z) = H_U^r(X) \arrow[r] & H^r(X) \arrow[r] & H^{r+1}(Z) \\
    V \arrow[r] & \mathcal{E} \arrow[r] & \mathcal{O}/\varpi^m \arrow[u, hook].
  \end{tikzcd}
\end{equation*}

Motivation: $X = \mathrm{Sh}_{\GSp_4} \supset Z = \mathrm{Sh}_{H}$, with $H := \GL_2 \times \mathbb{G}_m \GL_2$.  Look at, with $\varphi_i \in \pi_i$,
\begin{equation*}
  \int_{[Z] =[H]}
  \Eis_X^{\mathrm{Siegel}} \varphi_1 \varphi_2 \, d h
  =
  \begin{cases}
    0 &  \text{ if } \pi_1 = \pi_2^\vee , \\
    L(\ad^0(\pi) \otimes \chi, s) \mathcal{P}(\varphi_1, \varphi_2)     & \text{ otherwise.}
  \end{cases}
\end{equation*}
The $V$ here would then be the adjoint representation of a module form.  So we get a picture that mimics this zeta integral, and the question is, what can we say about these classes?  Now, we're unlikely in characteristic zero to produce classes with specific ramification -- we instead want to produce Euler classes, and vary the character.  All we've said so far is how to make a \emph{rational} class, not an \emph{integral} class.  Now you can ask questions like, this gives some candidate extensions, but what can you say about these extensions?  Are they nontrivial?  Maybe the first place to go looking is the extension in the category of mixed Hodge structures, really working real-analytically to start with, and if you express everything in terms of de Rham cohomology, what you're trying to do is take your differential, giving a class in $H_U^r(X)$ (given by the mapping cone in de Rham cohomology for $Z$ and $X$), then maybe we apply conjugation to it, and ask whether it maps to something nontrivial.  To understand that, we would take the primitive of that differential form (easily computed for the Eisenstein series) and in the automorphic world, you restrict back to $Z$ and integrate against some automorphic forms.  So starting with a weight $3$ Eisenstein series, you take a primitive that is weight $2$ and real-analytic, and then integrate the restriction of that.

That's the real world -- you could hope that you could do something similar using $p$-adic Hodge theory, which is a more complicated situation.  But before going down that road, we get some class of rational extensions, that may even be integral.  (Compare with modular forms with integral $q$-expansions.)  Call the resulting class $c_X \in H^1(\mathbb{Q}, V)$.  Consider
\begin{equation*}
  \frac{1}{\# \{\chi\}}
  \sum_{\chi : \Gal(\mathbb{Q}_{\mathfrak{m}} / \mathbb{Q}) \rightarrow \mathbb{C}^\times}
  c_\chi = c_{\mathfrak{m}} \in H^1(\mathbb{Q}_{\mathfrak{m}}, V).
\end{equation*}
These might come from integral classes, so we can even replace $V$ by $T$, and that should be our Euler system.  If you chase down the corestriction maps, that should just amount to dropping the characters.  There's a slight modification, depending upon $r$, related to the classes that actually give you the Euler systems relations when you project down to $V$.

So at least modulo the high tech machinery needed to get integrality, this is a low-tech construction of an Euler system with the norm relations.  Now the hard part is to prove whether it is a nontrivial Euler system.  Archimedean, no problem.  $p$-adic version, that's a hard question.  We'll see this in a different setting in Sarah's talk where they've made some impressive progress.

\begin{remark}
  The known Euler systems (e.g., Kato's framework) fit into this setting.  Indeed, every cyclotomic Euler system (over $\mathbb{Q}$) can be recast in this.  For example, with Kato's Euler system, we take
  \begin{equation*}
    X = \mathrm{Sh}_{\GL_2 \times_{\mathbb{G}_m} \GL_2 }
    \rightarrow Z = \mathrm{Sh}_{\GL_2},
  \end{equation*}
  \begin{equation*}
    H^2(X) \ni \omega_{\chi_1 \chi_2}^{\dotsb} \otimes \omega_{\chi_1, \chi_2}^{\dotsb}.
  \end{equation*}

  Another Euler system would be
  \begin{equation*}
    X = \mathrm{Sh}_{\U(n, 1)} \supset Z = \mathrm{Sh}_{\U(n - 1, 1)},
  \end{equation*}
  all happening over $\mathbb{Q}$.  Still sees lots of interesting Galois representations from this.  Here we can have an Eisenstein series induced from a Levi that's a definite $\U(n-1)$ times an imaginary quadratic field $K^\ast$.  Take an auxiliary cusp form $\sigma$ (which doesn't interfere except insofar as which classes in $Z$ the Eisenstein series creates issues) on the former and a Hecke character $\psi$ on the latter.  There's a relevant double zeta integral in the literature that the speaker can't immediately recall.  Keeps things in codimension one.

  It's possible that the cohomology of Shimura varieties can have interesting things in lower degrees.  Generally they're very degenerate kinds of representations, but that's exactly what we're looking for in terms of our Eisenstein series.  So it's possible that there are some situations where you can avoid the limitation of codimension one, but haven't successfully gotten it.
\end{remark}

\begin{remark}
  If you want to vary $\chi$ in a $p$-direction (which is what one probably wants to do to make things arithmetically interesting), then one has to take Shimura varieties highly ramified at $p$, and understand how that cohomology varies (cf.\ this morning's talks).  Certainly relating that to $L$-functions is going to be high-tech.
\end{remark}

\part{Ian Gleason, \emph{Stacks of p-adic Shtukas and the Categorical Local Langlands}}

Motivation.  Let $p \neq \ell$.

The idea of categorical local Langlands is that you can let the category of mod $p$ representations of your local group, say $\Rep G(\mathbb{Q}_p)$, and you embed it in the category
\begin{equation*}
  D_{\mathrm{LLC}}^{an} =
  \begin{cases}
    \Der(\mathrm{Bun} _G)    & \\
    D_{\mathrm{lis}}(\mathrm{Bun}_G)                     & 
  \end{cases}
\end{equation*}
and the idea is that we have
\begin{equation*}
  D_{\mathrm{LLC}}^{an} \cong D_{\mathrm{LLC}}^{Gal} = \operatorname{Qcoh}(\mathrm{Par}_{\hat{G}}),
\end{equation*}
where the latter is defined to be some category of quasi-coherent sheaves over the space of $L$-parameters on the dual group.

There's also the schematic categorical local Langlands conjecture (Xiao--Zhu, Hemo--Zhu)
\begin{equation*}
  D_{\mathrm{LLC}}^{\mathrm{sch}}
  =
  \begin{cases}
    \operatorname{Shv}(\mathcal{B}(G))    &  \\
    \operatorname{Shv}_{???}(\mathcal{B}(G))                                          & 
  \end{cases}  
\end{equation*}
This says that
\begin{equation*}
  \Rep G(\mathbb{Q}_p) \hookrightarrow D_{\mathrm{LLC}}^{\mathrm{sch}}
  \cong D_{\mathrm{LLC}}^{\mathrm{Gal}}.  
\end{equation*}

ThToday we'll try to explain the bottom connection of the natural triangle, namely,
\begin{equation*}
  D_{\mathrm{LLC}}^{\mathrm{coh}} \leftrightarrow D_{\mathrm{LLC}}^{\mathrm{sch}}.
\end{equation*}

This concludes the motivational part of the talk.  Let's state the theorem (work in progress):
\begin{theorem}[In progress]
  If $\Lambda$ is a $\mathbb{Z} / \ell^n$-algebra, then we construct an equivalence of categories
  \begin{equation*}
    \psi : \operatorname{Shv}(\mathcal{B}(G) , \Lambda) \xrightarrow{\cong}
    D_{\acute{e}t}(\mathrm{Bun}_G, \Lambda).
  \end{equation*}  
\end{theorem}
Note that the right hand side is constructed completely in the analytic category (at the level of perfectoid spaces), while the left hand side is constructed via schemes.  But they're similar in spirits.  For instance, the {\'e}tale theory is constructed to satisfy $B$-descent (after left completion), while the category on the left is designed to facillitate categorical constructions.  But it turns out that both constructions give rise to the same thing.

We access these categories via the geometry of the two objects.  Let's explain.

First, what is $\mathrm{Bun}_G$?  Its values on an affinoid perfectoid $(R, R^+)$ is given by the set of $G$-bundles on the relative Fargues--Fontaine curve $X_{F F, R}$.  We think of this as a functor
\begin{equation*}
  \mathrm{Bun}_G : \mathrm{Perf} \rightarrow \mathrm{Groupoids}.
\end{equation*}
On the other hand,
\begin{equation*}
  \mathcal{B}(G) : \mathrm{Psch} \rightarrow \mathrm{Groupoids}
\end{equation*}
is given by
\begin{equation*}
  \mathcal{G}(G) = \frac{L G}{\Ad_\varphi L G},
\end{equation*}
where
\begin{equation*}
  L G(R) = G \left( W(R)[\tfrac{1}{p}] \right).
\end{equation*}
Note that there's an action of the Frobenius $\varphi$ on $R$, hence on $W(R)$.  This gives a pre-spec.  You have to be careful at some point what you sheafify by.  Xinwen does this via the {\'e}tale topology.  You're looking at the category of $G$-isocrystals that {\'e}tale-locally admit a lattice.

So, those are the objects.  How do we access their geometry?  There's the so-called Kottwitz set, which by definition is
\begin{equation*}
  B(G) :=
  \frac{G(\check{\mathbb{Q}}_p)}{\Ad_{\varphi} G(\check{\mathbb{Q}}_p)}.
\end{equation*}
Here $\check{\mathbb{Q}}_p$ is the completion of the maximal unramified extension.  This admits a partial order.  Given $b \in B(G)$, we attach
\begin{equation*}
  N_b \in X_\ast(T)^+_{\mathbb{Q}},
  \qquad
  K(b) \in \pi_1(G).
\end{equation*}
We say that $b \leq b '$ if $K(b) = K(b')$ and $N_{b '} - N_b \in \mathbb{Q}_{\geq 0} \Phi^+$ (positive coroots).

Note that if you've worked with isocrystals but not $G$-isocrystals, then you should be thinking of the slope inequality $(1/2, 1/2) <(1, 0)$, where the Kottwitz point corresponds to the lower-left endpoint, and the positive coroot condition says that the polygon lies above this endpoint.

Because it is a partial order, you can make a topological space, and we have a homeomorphism.
\begin{equation*}
  \lvert \mathcal{B}(G) \rvert \cong B(G).
\end{equation*}
Also,
\begin{equation*}
  \lvert \mathrm{Bun}_G \rvert \cong B(G)^{\opp}.
\end{equation*}
(The identification of sets is due to Fargues, while the identification of the topological space is a result of Hansen for $\GL_n$, Hamann for some classical groups, and Viehmann in general.)

This is what happens with the topology.  One quick consequence is that the connected components of $\mathcal{B}(G)$ are in bijection with the fundamental group of
$G$, and also with the connected components of $\mathrm{Bun}_G$:
\begin{equation*}
  \pi_0(\mathcal{B}(G)) \cong \pi_1(G)
  \cong \pi_0(\mathrm{Bun}_G).
\end{equation*}
You can also look at the locally closed substatum attached to $b$, and you have closed  and open immersions
\begin{equation*}
  \mathrm{Bun}_G^{b} \xhookrightarrow{\text{closed}} \mathrm{Bun}_G^{\leq b} \xhookrightarrow{\text{open}}\mathrm{Bun}_G.
\end{equation*}
We also have open and closed immersions
\begin{equation*}
  \mathcal{B}(G)_b \xhookrightarrow{\text{open}} \mathcal{B}(G)_{\leq b} \xhookrightarrow{\text{closed}} \mathcal{B}(G).
\end{equation*}
Given $\alpha \in \pi_1(G)$, we get filtered unions
\begin{equation*}
  \mathcal{B}(G)_\alpha = \cup_{K(b) = \alpha}
  \mathcal{B}(G)_{\leq b},
\end{equation*}
\begin{equation*}
  \mathrm{Bun}_G^\alpha = \cup_{K(b) = \alpha} \mathrm{Bun}_G^{\leq b}.
\end{equation*}

We also have
\begin{equation*}
  \mathcal{B}(G)_b =[\ast / G_b(\mathbb{Q}_p)],
\end{equation*}
where $G_b$ is an inner form of the Levi of $G$.

The $b$-stratum of $\mathrm{Bun}_G$ is also a classifying stackwhere
\begin{equation*}
  \mathrm{Bun}_G^{b} =[\ast / \tilde{G}_b],
\end{equation*}
\begin{equation*}
  \tilde{G}_b = G_b \rtimes G_b(\mathbb{Q}_p).
\end{equation*}

We also know from analyzing this picture that
\begin{equation*}
  \operatorname{Shv}(\mathcal{B}(G)_b) \cong \Rep G_b(\mathbb{Q}_p)
  \cong D_{\acute{e}t}(\mathrm{Bun}_G^b)
  \cong
  D_{\acute{e}t}(\ast / G \mathbf{l}(\mathbb{Q}_p)).
\end{equation*}
One last piece of geometry that's crucial are the so-called Fargues--Scholze charts, which have the shape of a diagram of the form

\begin{equation*}
  \begin{CD}         
    M_b @>\sigma_b>> \mathrm{Bun}_G\\
    @V \gamma_bVV  @. \\
    [\ast / G_b(\mathbb{Q}_p)] @.\\
  \end{CD}
\end{equation*}
where both maps are smooth.  We have
\begin{equation*}
  \sigma_b(M_b) = \mathrm{Bun}_G^{\leq b}.
\end{equation*}

Now $\operatorname{Shv}(\mathcal{B}(G))$ is compactly-generated, and we can write
\begin{equation*}
  \operatorname{Shv}(\mathcal{B}(G))^w = \oplus_{\alpha \in \pi_1(G)}
  \cup_{K(G) = \alpha} \operatorname{Shv}(\mathcal{B}(G)_{\leq b})^w.
\end{equation*}
This is a filtered union of categories, but we have to say how to embed those on the RHS into the LHS.  Because we're working with a closed immersion, lower-shriek and lower-star give the same thing, and we get an embedding
\begin{equation*}
  i_{\leq b \ast} : \operatorname{Shv}(\mathcal{B}(G)_{\leq b})^{w}
  \hookrightarrow \operatorname{Shv}(\mathcal{B}(G)).
\end{equation*}
We can also take the pullback from this bounded piece
\begin{equation*}
  i_{b}^{\ast} : \operatorname{Shv}(\mathcal{B}(G)_{\leq b})^w \rightarrow
  \operatorname{Shv}(\mathcal{B}(G)_b)^w.
\end{equation*}

They proved similar things for $D_{\acute{e}t}(\mathrm{Bun}_G)$, using $D(\mathrm{Bun}_G)^{\leq b}$ in place of $\operatorname{Shv}(\mathcal{B}(G)_{\leq b})^w$.  For example,
\begin{equation*}
  j _!^{\leq b} : D_{\acute{e}t} \left( \mathrm{Bun}_G^{\leq b} \right)^w \rightarrow D_{\acute{e}t}(\mathrm{Bun}_G)^w.
\end{equation*}
There is also a restriction functor
\begin{equation*}
  j_b^{\ast} : D_{\acute{e}t}(\mathrm{Bun}_G^{\leq b})^w \rightarrow
  D_{\acute{e}t}(\mathrm{Bun}_G^b)^w.
\end{equation*}
We have
\begin{equation*}
  i_{b !} \perp i_{b}^{!} = i_{b}^{\ast} \perp i_{b \ast}
\end{equation*}
These preserve compacts.  Also
\begin{equation*}
  j_{b \sharp} \perp j_b^{\ast} \perp j_{b \ast} = j_{b !},
\end{equation*}

As $\beta \in B(G)_{b}$, we have that $i_{\beta !}$ and $i_{\beta \ast}$ define semi orthogonal graded pieces of $\Rep G_{\beta}(\mathbb{Q}_p)^w$.

``$j_{b \sharp} = \sigma_{b!} \gamma_b \ast$.''

Now, what is the strategy of the proof?
\begin{enumerate}[(a)]
\item\label{enumerate:cnppk3hce9} We're going to define
  \begin{equation*}
    \psi^w : \operatorname{Shv}(\mathcal{B}(G))^w \rightarrow D_{\acute{e}t}(\mathrm{Bun}_G)^w.
  \end{equation*}
\item\label{enumerate:cnppk3hc7k} The idea is to ensure that
  \begin{equation*}
    \psi^w \left( \operatorname{Shv}(\mathcal{B}(G)_{\leq b})^w \right)
    \subseteq D_{\acute{e}t}(\mathrm{Bun}_G^{\leq b})^w.
  \end{equation*}

  After formal calculations, everything boils down to two actual computations:
\item\label{enumerate:cnppk3heo2}
  \begin{equation*}
    \operatorname{Shv}(\mathcal{B}(G)_{\leq b})^w
    \xrightarrow{\psi_{\leq b}^w} D_{\acute{e}t}(\mathrm{Bun}_G^{\leq b})^w,    
  \end{equation*}
  and we also have fully faithful embeddings from $(\Rep G_b)^w$ into each side ($i_{b!}$ on the left, $j_{b \sharp}$ on the right), and another pair of fully faithful embeddings from $(\Rep G_b)^w$ ($i_{b \ast}$ and $j_{b !}$), and this diagram commutes.
\end{enumerate}

Now, how to construct $\psi$?  Something you have to do at some point is analytify (since $\mathrm{Bun}_G$ is analytic, while the other thing is scheme-theoretic).  Starting with an affine scheme $X = \Spec A$ in characteristic $p$, there are three natural functors you can consider:
\begin{itemize}
\item The ``small diamond'' given by
  \begin{equation*}
    X^{\diamond}(R, R^+) = \left\{ A \rightarrow R^+ \right\} =X(\Spec R^+).
  \end{equation*}
\item The ``small dagger''
  \begin{equation*}
    X^{\dagger}(R, R^+) = \left\{ A \rightarrow R^0 \right\} = X(\Spec R^0).
  \end{equation*}
\item The ``big diamond''
  \begin{equation*}
    X^{\Diamond}(R, R^+) = \left\{ A \rightarrow R \right\} = X(\Spec R).
  \end{equation*}
\end{itemize}
The image you have is that these correspond to some sort of
\begin{itemize}
\item unit ball, 
\item compactified unit ball, and
\item affine line.
\end{itemize}

You get maps of spaces
\begin{equation*}
  X^{\diamond} \xrightarrow{a_X} X^{\dagger} \xrightarrow{b_X} X^{\Diamond}.
\end{equation*}

There is a morphism of sites
\begin{equation*}
  \left( X_{\acute{e}t}^{\Diamond} \right) \xrightarrow{c_X} \left( X_{\acute{e}t} \right).
\end{equation*}
This analytification actually produces a fully faithful functor (a theorem of Scholze)
\begin{equation*}
  c_X^\ast : D_{\acute{e}t}(X, \Lambda) \hookrightarrow D_{\acute{e}t}(X^{\Diamond}, \Lambda).
\end{equation*}

What one has to do now is to restrict to constructible sheaves:
\begin{equation*}
  \operatorname{Shv}(X, \Lambda) \supseteq \operatorname{Shv}_c(X, \Lambda).
\end{equation*}

You do this for affine schemes, and with more patience, you can do it for any pre-stack.  We need to do this to access something like $B(G)$.  Before going into the construction of $\psi$, let's describe a failed attempt to construct $\psi$.
\begin{definition}
  Define
  \begin{equation*}
    \mathrm{Bun}_G^{\mathrm{mer}}
    :=
    \mathcal{B}(G)^{\dagger}.
  \end{equation*}
\end{definition}
One pleasant property is that this admits a map to $\mathrm{Bun}_G$:
\begin{equation*}
  \begin{CD}         
    \mathrm{Bun}_G^{\mathrm{mer}} @>\sigma>> \mathrm{Bun}_G\\
    @V \gamma VV  @. \\
    \mathcal{B}(G)^{\Diamond} @.\\
  \end{CD}
\end{equation*}
As a first attempt, one might try
\begin{equation*}
  \psi = \sigma_{!} \gamma^\ast c^\ast_{\mathcal{B}(G)}.
\end{equation*}
But $\sigma$ is ugly.  One consequence of this uglyness is that the question "does $\sigma_{!}$ make sense" is serious.

Now, a technical difficulty is that we have to restrict from the fully category of sheaves to a constructible category, but if we try to analytify the latter, then you get $c_{\mathcal{B}(G)}^\sharp$ on $\operatorname{Shv}_c(\mathcal{B}(G))$, which turns out to be too small.  If you fix one stratum and have a $p$-adic reductive group, then the constructible sheaves are those whose underlying vector spaces are finite-dimensional, so you don't quite get the whole category, and this is a problem.

Let's now talk about shtukas a bit.  You can consider a functor
\begin{equation*}
  \mathrm{Sht}_{G, \mathbb{Z}_p}^{an} : \mathrm{Perf} \rightarrow \mathrm{Groupoids}
\end{equation*}
\begin{equation*}
  (R, R^+) \mapsto
  \left\{ \left( R^\sharp , \mathcal{E}, \Phi \right) :
    \begin{aligned}
      & R^\sharp \text{ untilt}, \\
      & \mathcal{E} \text{ $G$-bundle}, \\
      & \mathcal{G}_{[0, \infty)}^{R^\sharp}
        = "\Spec \mathbb{Z}_p \times \Spec(R, R^+)", \\
      & \Phi : \varphi^\ast \mathcal{E} \rightarrow \mathcal{E}, \text{ meromorphic along } R^\sharp
    \end{aligned}
  \right\}.
\end{equation*}

Now you can define
\begin{equation*}
  \mathrm{Sht}_G^{\mathrm{sch}} :=
  \frac{L G}{\Ad_{\varphi} L^+ G},
\end{equation*}
where $L^+ G(R) := G(W(R))$.

\begin{theorem}[G-Iomar]
  We have
  \begin{equation*}
    \mathrm{Sht}_{G, \mathbb{F}_p}^{an}
    = \left( \mathrm{Sht}_{G}^{\mathrm{sch}} \right)^{\dagger}.
  \end{equation*}
\end{theorem}
\begin{theorem}[Zhu]
  The category of compact objects $\mathrm{Shv}(\mathcal{B}(G))^w$ is the colimit of $\mathrm{Shv}_c(H K^n(\mathrm{Sht}_G^{\mathrm{sch}}))$.
\end{theorem}
What we obtain is a functor that maps the compact to the compact:
\begin{equation*}
  \psi_{f. s.}(\operatorname{Shv}(\mathcal{B}(G)))^w
  \subseteq D_{\acute{e}t}
  \left( \mathrm{Bun}_G \right)^w.
\end{equation*}

We get
\begin{equation*}
  \mathrm{Sht}_{G, \mathbb{F}_p}^{an}
  = \left( \mathrm{Sht}_{G}^{\mathrm{sch}} \right)^{\dagger}
  \rightarrow \mathcal{B}(G)^{\dagger}
  \mathrm{Bun}_G^{mer}
  \mathrm{Bun}_G.
\end{equation*}
\begin{theorem}[G]
  For $\mu \in X_\ast(T)^+$, you can consider
  \begin{equation*}
    X_\mu = \mathrm{Sht}_{G, \mathbb{Z}_p}^{an, \leq \mu}.
  \end{equation*}
  \begin{enumerate}[(a)]
  \item\label{enumerate:cnppk4f159} $Y_\mu$ is an Artin $v$-stack.
  \item\label{enumerate:cnppk4f247} The map $\sigma_\mu : Y_\mu \rightarrow \mathrm{Bun}_G$ is representable in locally spatial diamonds.
  \item\label{enumerate:cnppk4hjug} We can take the Cartesian diagram
    \begin{equation*}
      \begin{CD}         
        Y_\mu(b) @>>> \operatorname{Spd} \overline{\mathbb{F}_p}\\
        @VVV  @VVbV \\
        Y_\mu @>> \sigma_\mu> \mathrm{Bun}_G.\\
      \end{CD}
    \end{equation*}
    Here $Y_\mu(b)$ is a locally spatial timberlite, which you should think of as follows: there are $B$-sheaves that have analytic and non-analytic parts, and they rather look like formal schemes, and and they might show up in the talk later.
  \end{enumerate}
\end{theorem}

\begin{corollary}
  The map
  \begin{equation*}
    D_{\acute{e}t} \left( \mathrm{Sht}^{\mathrm{sch}, \leq \mu, \dagger} \right)
    \xrightarrow{(N \psi^\dagger \circ \sigma )_!?}
    D_{\acute{e}t} \left( \mathrm{Bun}_G \right).
  \end{equation*}
\end{corollary}

Second attempt.  The idea is that
\begin{equation*}
  \psi_{f, g} = \operatorname{colim} \psi_{\leq \mu},
\end{equation*}
where
\begin{equation*}
  \rightarrow 
\end{equation*}

\begin{equation*}
  \begin{CD}         
    \mathrm{Shv}_c\left(\mathrm{Sht}^{\mathrm{sch}, \leq \mu}\right) @>>> D_{\acute{e}t}
    \left( \mathrm{Sht}^{\mathrm{sch}} \right)^\dagger\\
    @.  @VV N \psi \sigma_!?V \\
    @. D_{\acute{e}t}(\mathrm{Bun}_G).\\
  \end{CD}
\end{equation*}


Okay now we get a diagram with top row
\begin{equation*}
  M_b \rightarrow \mathrm{Bun}_G^{\mathrm{mer}} \xrightarrow{\sigma} \mathrm{Bun}_G
\end{equation*}
and bottom row
\begin{equation*}
  [\ast / G_b(\mathbb{Q}_p)] = \mathcal{B}(G)_b^{\Diamond} \hookrightarrow \mathcal{B}(G)^{\Diamond}. 
\end{equation*}
The two rows are related via $\gamma_b$ and $\gamma$.

To explain the other side of the triangle.
\begin{equation*}
  \psi^{???}(i_{b !}) \cong \sigma_{!} \gamma^\ast c^\ast i_{b !}
  \cong \sigma _! \gamma^\ast i_{b!}^{\Diamond}
  \cong j_{b^\sharp}.
\end{equation*}

For $G = \GL_2$, $B(G) = \mathbb{N}$, with
\begin{equation*}
  (0, 0) <(1, -1) <(2, -2) \dotsb.
\end{equation*}
We get a diagram.  What this statement says about the diagram alluded to above involving $\gamma_b$ and $\gamma$ being Cartesian is that we get certain projections in this diagram.  These $M_b$ have certain ``Henselian'' properties, which says vaguely that these behave well with respect to certain nearby cycles in ways that you can make precise; ask me later if you're interested.
\begin{equation*}
  M_b = \left( \mathrm{Bun}_G^{\mathrm{mer}} \right)_{\gamma = b},
\end{equation*}
\begin{equation*}
  \mathcal{T}_b = \left( \mathrm{Bun}_G^{\mathrm{mer}} \right)_{\sigma = b}.
\end{equation*}


Question about how Hecke operators on the $\mathrm{Bun}_G$ side interacts with the other side.  Answer: maybe something about smoothness on the shtuka side.

\part{Jeff Manning, \emph{Congruence modules in higher codimension}}

(Joint work with S.\ Iyengar and C.\ Khare)

\section{Classical congruence modules}
Notation: $N \geq 1$, $X_0(N)$, $\mathcal{O}$: ring of integers in $E / \mathbb{Q}_{\ell}$, $\ell$ prime.
\begin{equation*}
  \mathbb{T}_0(N) \subseteq \End_{\mathcal{O}}(H_1(X_0(N), \mathcal{O})).
\end{equation*}
$f_\lambda$: a modular eigenform corresponds to $\lambda : \mathbb{T}_0(N) \xrightarrow{\lambda} \mathcal{O}$.  WITHOUT LOSS OF GENERALITY: $\mathcal{O} ' = \mathcal{O}$.  This sort of thing is what we'll call an ``augmentation''.

$\mathfrak{m} = \lambda^{-1}((\varpi)) \subseteq \mathbb{T}_0(N)$.

$\mathbb{T} = \mathbb{T}_0(N)$.
\begin{equation*}
  \rho_\lambda : \mathbb{G}_{\mathbb{Q}} \rightarrow \GL_2(\mathcal{O}),
\end{equation*}
\begin{equation*}
  \overline{\rho_\lambda} : G_{\mathbb{Q}} \rightarrow \GL_2(\overline{\mathbb{F}_{\ell}}),
\end{equation*}
with $\overline{\rho_\lambda}$ aboslutely irreducible.

Okay, anyway, we have the global deformation ring $R$ and maps
\begin{equation*}
  R \xrightarrow{\pi} \mathbb{T} \xrightarrow{\lambda} \mathcal{O},
\end{equation*}
each surjective.
\begin{question}
  Is $\pi$ an isomorphism?
\end{question}

Let $\rho := \ker \lambda \subseteq \mathbb{T}$ denote the corresponding ideal.

\begin{definition}
  The \emph{congruence ideal} of $\mathbb{T}$ is defined to be
  \begin{equation*}
    \eta_{\mathbb{T}} = \lambda \left( \mathbb{T}[\rho] \right) \subseteq \mathcal{O}
  \end{equation*}
  and the \emph{congruence module} is
  \begin{equation*}
    \psi_\lambda = \psi_\lambda(\mathbb{T}) = \mathcal{O} / \eta_{\mathbb{T}}.
  \end{equation*}
  If $M$ is a $\mathbb{T}$-module ($M$ is finite free over $\mathcal{O}$), then
  \begin{equation*}
    \psi_\lambda(M) := \coker \left( M[\rho] \hookrightarrow M \twoheadrightarrow(M / \mathfrak{p} M)^{t f} \right)
  \end{equation*}
  where $t f$ means ``torsion-free''.
\end{definition}
We also set
\begin{equation*}
  \psi_\lambda^{\mathrm{coh}} = \psi_\lambda(H_1(X_0(N), \mathcal{O})_{\mathfrak{m}}).
\end{equation*}
We define the cotangent space
\begin{equation*}
  \phi_\lambda :=
  \frac{\ker(\lambda \circ \pi)}{\left( \ker(\lambda \circ \pi) \right)^2 }
  = \Omega_{R / \mathcal{O}} \otimes_\lambda \mathcal{O}.
\end{equation*}

\begin{example}
  \begin{equation*}
    R = \mathbb{T} = \left\{(a, b) \in \mathbb{Z}_{\ell}^2 : a \equiv b \pmod{\ell^n} \right\},
  \end{equation*}
  \begin{equation*}
    M = \left\{(a, b) \in \mathbb{Z}_{\ell}^2 : a \equiv b \pmod{\ell^r} \right\},
  \end{equation*}
  where if we want this to be a $\mathbb{T}$-module, then we'd better assume that $r \leq n$.  We also want an augmentation, which in this case will just be projection onto the first coordinate:
  \begin{equation*}
    \lambda(a, b) = a.
  \end{equation*}
  Now, what are all these quantities?  Well, you can just go through the definitions and compute all them:
  \begin{equation*}
    \phi_\lambda = \psi_\lambda = \mathbb{Z} / \ell^n \mathbb{Z}, \quad
    \psi_\lambda(M) = \mathbb{Z} / \ell^r \mathbb{Z}.
  \end{equation*}
\end{example}
\begin{example}\label{example:cnppk96xx5}
  How about same thing, but with \emph{three} different eigenforms?
  \begin{equation*}
    R = \mathbb{T} = \left\{(a, b, c) \in \mathbb{Z}_{\ell}^3 :
      a \equiv b \pmod{\ell^m }, a \equiv c \pmod{\ell^n}\right\},
  \end{equation*}
  \begin{equation*}
    M = \left\{(a, b, c) \in \mathbb{Z}_{\ell}^3 :
      a \equiv b \pmod{\ell^r }, a \equiv c \pmod{\ell^s}\right\},
  \end{equation*}
  \begin{equation*}
    \phi_\lambda =(\mathbb{Z} / \ell^m \mathbb{Z}) \times(\mathbb{Z} / \ell^n \mathbb{Z}), \quad
    \psi_\lambda = \mathbb{Z} / \ell^{\max(m, n)} \mathbb{Z}, \quad
    \psi_\lambda(M) = \mathbb{Z} / \ell^{\max(r, s)} \mathbb{Z}.
  \end{equation*}
\end{example}
Now, what's the motivation for actually considering this?  The cotangent space $\phi_\lambda$ is \emph{roughly} the same as a Bloch--Kato Selmer group.  For instance, they're both about how you can deform representations.

\begin{theorem}[Hida '81]
  \begin{equation*}
    \frac{1}{2} \mathrm{length}_{\mathcal{O}} \psi_\lambda^{\mathrm{coh}}
    = V_{\mathcal{O}}
    \left( \frac{L(\ad^0 f_\lambda, 1)}{i \pi \Omega}
      \cdot(\text{Euler factor})\right).
  \end{equation*}
\end{theorem}
Here $\psi_\lambda^{\mathrm{coh}} =(\mathcal{O} / \eta_\lambda^{\mathrm{coh}})^?$.

Bloch--Kato implies that $\lvert \phi_\lambda \rvert \approx \lvert \psi_\lambda^{\mathrm{coh}} \rvert^{1/2}$.

\begin{theorem}[Wiles '95, Lenstra '95, Diamond '97]
  $R \xrightarrow{\pi} \mathbb{T} \xrightarrow{\lambda} \mathcal{O}$, $M$ is a finite $\mathbb{T}$-module, finite free over $\mathcal{O}$.
  \begin{equation*}
    \mu := \rank_{\mathcal{O}} M[\ker \lambda] > 0.
  \end{equation*}
  Then
  \begin{equation}\label{eq:cnppk95rxr}
    \lvert \phi_\lambda \rvert \geq \lvert \psi_\lambda \rvert \geq \lvert \psi_\lambda(M) \rvert^{1/\mu}.
  \end{equation}
  Moreover, if $\lvert \phi_\lambda \rvert < \infty$ and $\rank_{\mathcal{O}} M \leq \mu \rank_{\mathcal{O}} \mathbb{T}$, then the following are equivalent:
  \begin{enumerate}
  \item\label{enumerate:cnppk94vvy} $\lvert \phi_\lambda \rvert = \lvert \psi_\lambda \rvert = \lvert \psi_\lambda(M) \rvert^{1/\mu}$
  \item\label{enumerate:cnppk94wke} $\pi$ is an isomorphism, $R$ and $\mathbb{T}$ are complete intersections, and $M = \mathbb{T}^{\mu}$.
  \end{enumerate}
\end{theorem}
Note that the first two quantities in \eqref{eq:cnppk95rxr} being equal is equivalent to the complete intersection property.

Also, if you look at Example \ref{example:cnppk96xx5}, then equality between the second two terms in \eqref{eq:cnppk95rxr} doesn't have any clear consequence: one can cook up examples showing this.

Anyway, we now have some way of checking that this map $\pi$ is an isomorphism by checking some numerical stuff.  How do we actually use this to, say, prove Fermat's last theorem?  Wiles's strategy.  The idea is that we'll prove $R = \mathbb{T}$ by induction on the level.  For that, we just want to consider the conductor of our residual representation $\overline{\rho_\lambda}$, call it $N_{\phi}$, and we'll consider levels of the form
\begin{equation*}
  N_{\Sigma} = N_{\phi} \prod_{q \in \Sigma} q,
\end{equation*}
where we'll assume for simplicity that all levels are squarefree.

At level $\Gamma_0(N_{\Sigma})$,
\begin{equation*}
  M_{\Sigma} = H_1(X_0(N_{\Sigma}))_{\mathfrak{m}},
\end{equation*}
\begin{equation*}
  R_{\Sigma} \xrightarrow{\pi_{\Sigma}} \mathbb{T}_{\Sigma}
  \xrightarrow{\lambda} \mathbb{T}_{\phi} \twoheadrightarrow \mathcal{O}.
\end{equation*}
\begin{enumerate}
\item Base case: patching $\pi_{\phi}$ is an isomorphism, $M_{\phi} = \mathbb{T}_{\phi}^2$
\item Induct on $\Sigma$.  Upper bound on
  \begin{equation*}
    \frac{\lvert \phi_{\lambda_\Sigma} \rvert}{\lvert \phi_{\lambda_\phi} \rvert}
  \end{equation*}
  from Galois cohomology, and on
  \begin{equation*}
    \frac{\lvert \psi_{\Lambda_{I}}^{\mathrm{coh}} \rvert}{\lvert \psi_{\lambda_\phi}^{\mathrm{coh}} \rvert}
  \end{equation*}
  by Ihara's lemma.
\end{enumerate}

That's all sort of the classical setting.  Now, what have things looked like in the thirty years or so since that proof?

\section{Modern situation}
Let's focus on the ``$\ell = 0$'' case: elliptic curves over a totally real field, or more generally, modular forms of weight $\geq 2$ (more generally, conjugate self-dual representations and stuff that we don't want to talk about).  A lot of work has been done on this.  We want to highlight work of Kisin (2009), which basically gives us a way to implement the above strategy, using patching to prove modularity, or more precisely
\begin{equation*}
  R_{\Sigma}[1 / \ell] = \mathbb{T}_{\Sigma}[1/\ell]
\end{equation*}
at all levels, but not quite prove that $R = \mathbb{T}$.

$\pi_{\Sigma}$ is torsion-free.

Now, how about the ``$\ell > 0$'' case, which includes that of elliptic curves over CM fields, or, say, modular forms of weight $1$, or maybe what happened in the abelian surfaces talk?  Then we're also in this situation.  We can also generalize patching (Calegari--Geraghty '18, \emph{not} via numerical criterion).  We get the exact same thing here:
\begin{equation*}
  R_{\Sigma}[1 / \ell]
  = \mathbb{T}_{\Sigma}[1 / \ell] \text{ for all }
  \Sigma
  \quad
  (R_{\Sigma}^{\mathrm{red}} = T_{\Sigma}^{\mathrm{red}}).
\end{equation*}
Here, $\pi_{\Sigma}$ and $R_{\Sigma}$ probably have torsion.  We're starting to see that in the Langlands program, there should be torsion analogues of all the classical results, so maybe we should have some torsion patch, maybe torsion representations should correspond to some torsion version of automorphic forms (if that even means anything), etc.

Anyway, basically, the idea is that we'd like to prove $R_{\Sigma} = \mathbb{T}_{\Sigma}$ on the nose, but what we really need is some sort of numerical criterion in this setting.  That's our goal.  Issues:
\begin{itemize}
\item $\mathbb{T}_{\Sigma}, R_{\Sigma}$ might not be CI
\item $\lambda : \mathbb{T}_{\Sigma} \rightarrow \mathcal{O}$ might not exist
\item nonvanishing homology in multiple degrees.
\end{itemize}

Idea: combine numerical criterion with patching.  We have
\begin{equation*}
  R_{\Sigma, \infty} \xrightarrow{\lambda} \mathcal{O}.
\end{equation*}
We can think about this in terms of $M_{\Sigma, \infty}$.

Now the idea is to apply a sort of numerical criterion directly to $M_{\infty, \Sigma}$.

Now we want to generalize this to more general rings, switching to commutative algebra for a bit.  Let $A$ be a complete Noetherian local ring.  We have the $A$-module $M$, and a map $\lambda : A \rightarrow \mathcal{O}$, and $\mathfrak{p} = \ker \lambda$, and $\height \mathfrak{p} = c > 0$, and we assume that:
\begin{itemize}
\item $A_{\mathfrak{p}}$ is regular of dimension $c$, 
\item $M$ is maximal Cohen--Macaulay.
\end{itemize}
We set
\begin{equation*}
  \phi_\lambda := \operatorname{tors}(\mathfrak{p} / \mathfrak{p}^2) = \mathcal{O}^{c} \oplus \mathrm{tors},
\end{equation*}
\begin{equation*}
  \psi_\lambda(A) = \coker \left( \Ext_A^{c}(\mathcal{O}, A)
    \rightarrow \Ext_{A}^{c}(\mathcal{O}, \mathcal{O})^{tf}\right),
\end{equation*}
\begin{equation*}
  \psi_\lambda(M) = \coker \left( \Ext_{A}^{c}(\mathcal{O}, M) \rightarrow \Ext_{A}^{c}(\mathcal{O},(M / \mathfrak{p} M))^{t f} \right) \cong \Ext^{c}_A(\mathcal{O}, \mathcal{O}^{t f})
  =^* \Lambda^{\text{top}} \Ext_A^1(\mathcal{O}, \mathcal{O}),
\end{equation*}
\begin{equation*}
  \mathfrak{m}[\mathfrak{p}] = \Hom_{A}(\mathcal{O}, M) = \Ext_A^0(\mathcal{O}, M).
\end{equation*}

Here $\ast$ was a sort of tricky theorem we had to prove.

\begin{theorem}[IKM]
  Let $A$ and $M$ be as above, $M = \rank_{A_p} M_p > 0$.  Then we have the same relation between the cotangent space and the congruence module:
  \begin{equation*}
    \lvert \phi_\lambda \rvert \geq \lvert \psi_\lambda(M) \rvert^{1 / \mu}.
  \end{equation*}
  We have equality iff $A$ is a complete intersection and $M \cong A^\mu \oplus W$, where $W_{\mathfrak{p}} = 0$.
\end{theorem}

\begin{theorem}
  Let $F$ be an imaginary quadratic field.  Let $Y_0(N_\Sigma)$ be a Bianchi $3$-fold.  Let $R_{\Sigma}$ and $\mathbb{T}_{\Sigma}$ be as before.  Assume that
  \begin{itemize}
  \item $\bar{\rho}|_{G_{F(\zeta_{\ell})}}$ is absolutely irreducible,
  \item for $q \in \Sigma$, $\norm(q) \not \equiv 1 \pmod{\ell}$.
  \end{itemize}
  (Assume local-global compatibility.)  Then $R_{\Sigma} = \mathbb{T}_{\Sigma}$.
\end{theorem}
We could do something similar for weight one modular forms on a Shimura curve, where we'd get an unconditional result, and we can also do some integral Jacquet--Langlands correspondence for torsion representations, which we don't really have time to talk about.

Let $f$ be an ordinary Hilbert modular form.  We can look at
\begin{equation*}
  R^{\mathrm{ord}} \rightarrow \mathbb{T}^{\mathrm{ord}} \xrightarrow{\lambda} \mathcal{O},
\end{equation*}
\begin{equation*}
  \psi_\lambda(\mathbb{T}^{\ord}), \quad
  \psi_\lambda(M^{\ord}).
\end{equation*}
\begin{equation*}
  \Ext^1_{\mathbb{T}^{\ord}} = H^1_{\ord}(F, \ad \rho_f).
\end{equation*}

\begin{theorem}[IKM--Urban]
  We have
  \begin{equation*}
    \operatorname{length}_{\mathcal{O}} \left( \psi_{\lambda_f}(M^{\ord, \eps}) \right)
    = v_{\mathcal{O}}
    \left(
      \frac{\Gamma(\ad \rho_f, 1) L^{s_f}(\ad \rho_f, 1)}{\Omega_f^{\eps} \Omega_f^{- \eps}}
    \right).
  \end{equation*}
\end{theorem}
Hopefully we can prove new cases of Bloch--Kato in higher weights and levels that are not accessible by classical methods.

Q: In this new numerical criterion, we have invariants of $R_\infty$, but can we formulate them in terms of $R$, cuz $R_\infty$ is kinda non-canonical?  A: Actually, $R_\infty$ is kinda canonical, since it's just a product of completions of local power series rings and whatever.

Q. Why is this the natural definition of congruence modulo?  A.  The big result that makes this all work is that if $A_p$ is regular of dimension $c$, then (as has been known for decades) if you look at $\Lambda^\ast \Ext^1_{A_p}(E, E) \cong \Ext^\ast(E, E)$, then we can get $\Lambda^\ast \Ext_A^1(\mathcal{O}, \mathcal{O})^{t f} = \Ext_{tf}^\ast(\mathcal{O}, \mathcal{O})^{t f}$.  But really we just played around until things worked out well.

All the global information is contained in how you mod out to get to the finite level,

Abstract: In his work on modularity lifting, Wiles developed a numerical criterion for a map R->T of finite
O-algebras, for O a DVR, to be an isomorphism of complete intersections. This criterion is in terms of a
congruence module associated to a map T->O, and the cotangent space of the composition R->O.

In this talk I will present joint work with Srikanth Iyengar and Chandrashekhar Khare which generalizes the
notion of congruence modules to maps A->O for O-algebras A of positive dimension over O, and proves a
corresponding numerical isomorphism criterion, generalizing the classical numerical criterion.

Applications include proving integral R=T theorems at non-minimal level for Bianchi forms or for weight one modular forms on Shimura curves.

Time permitting, I will also discuss further work relating our congruence modules to special values of L-function and Galois cohomology, and a potential connection with the Bloch-Kato conjecture.

\part{Mingjia Zhang, \emph{Igusa stacks and Shimura varieties}}

\section{Eichler--Shimura relation}

Let $X_K$ be the modular curve, and a prime $p$ for which $K_p = \GL_2(\mathbb{Z}_p)$.  We have an action
\begin{equation*}
  \mathcal{H}_K \times \Gal_{\mathbb{Q}} \circlearrowleft
  H_{\acute{e}t}^1(X_{K, \bar{\mathbb{Q}}}, \bar{\mathbb{Q}}_{\ell}).
\end{equation*}
We have
\begin{equation*}
  \Frob_p^2 - T_p \cdot \Frob_p + p \cdot S_p = 0,
\end{equation*}
where
\begin{equation*}
  T_p, S_p \in \mathcal{H}_{K_p} = 
\end{equation*}
correspond to the matrices
\begin{equation*}
  \begin{pmatrix}
    p    & 0 \\
    0 & 1 \\
  \end{pmatrix}, \qquad
  \begin{pmatrix}
    p    & 0 \\
    0 & p \\
  \end{pmatrix}.
\end{equation*}
For every $f$ a weight cuspidal eigenform, we obtain
\begin{equation*}
  \Gal_{\mathbb{Q}} \circlearrowright H^1(X_{K, \bar{\mathbb{Q}}}, \bar{\mathbb{Q}}_{\ell})[f]
  \cong \rho_f^{\oplus m}.
\end{equation*}

\begin{theorem}[Lee, Wu, Koshikawa, DvHKZ 24, vd Hove 24]
  Consider a Hodge type Shimura datum $(\mathbb{G}, X)$.  Suppose that it determines a Hodge cocharacter $\mu$ with reflex field $\mathbb{E}$.  Fix a finite $\mathbb{Z}_{\ell}$-algebra $\Lambda$.  (Impose a mild assumption.)  For $p \neq \ell$, assume that $K_p$ is Iwahoric.  One can again consider the cohomology of the Shimura variety, with fixed away-from-$p$ level, and with Iwahori level at $p$:
  \begin{equation*}
    H^\ast \left( \mathrm{Sh}_{K^p K_p, \bar{\mathbb{E}}}, \Lambda  \right) \circlearrowleft
    \Gal(\bar{\mathbb{E}}/\mathbb{E}).
  \end{equation*}
  Then for all $v \mid p$, the inertia subgroup $I_v$ acts unipotently and $\Frob_v$ is annihilated by a Hecke polynomial
  \begin{equation*}
    H_{\mu, v}(X) \in Z(\mathcal{H}_{K_p})[X].
  \end{equation*}
\end{theorem}
The idea is that we can look at the cohomology of the Shimura variety modulo this maximal ideal as a Hecke module and a Galois representation, which is a bit mysterious, but this result constrains the Frobenius eigenvalues.

\begin{remark}
  All the previous classical results concerning Eichler--Shimura relations assume that the base change $\mathbb{G}_{\mathbb{Q}_p}$ of the global group to $\mathbb{Q}_p$ to be unramified, and $K_p$ to be hyperspecial.  In our work DvHKZ24, we still make the assumption that $\mathbb{G}_{\mathbb{Q}_p}$ to be unramified, but we have improved the level from hyperspecial to Iwahoric.  In this improvement by vd Hove, there is no assumption on $\mathbb{G}_{\mathbb{Q}_p}$.
\end{remark}

\begin{proof}[Idea of the proof]
  Assume for simplicity that $G = \mathbb{G}_{\mathbb{Q}_p}$ is split, $K_p$ is hyperspecial, and $\Lambda$ is torsion.  The cohomology of the Shimura variety is a module under the local Hecke algebra $\mathcal{H}_{K_p}$, so in particular, we may a map of algebras
  \begin{equation*}
    \mathcal{H}_{K_p}
    \rightarrow \End_\Lambda \left( H^\ast \left( \mathrm{Sh}_{K, \bar{\mathbb{E}}}, \Lambda \right) \right).
  \end{equation*}
  We can lift this action to the ring of polynomials $\mathcal{H}_{K_p}[X]$, where we send $X$ to $\Frob_v$, and where the kernel of the resulting action is generated by the Hecke polynomial $H_\mu(X)$.  We also notice that this Hecke algebra, via the Satake isomorphism, satisfies

  \begin{equation*}
    \mathcal{H}_{K_p} \cong \mathcal{O} \left( \frac{\hat{G}}{\hat{G}} \right),
  \end{equation*}
  where $\hat{G}$ denotes the dual group over $\Lambda$.  We want to find in $\End_{\hat{G} / \hat{G}} \left( \mathcal{V}_\mu \right)$ an element $\gamma_{\mathrm{taut}}$ such that our action factors through
  \begin{equation*}
    \mathcal{H}_{K_p}[X] \hookrightarrow \End_{\hat{G} / \hat{G}}(\mathcal{V}_\mu)
  \end{equation*}
  \begin{equation*}
    X \mapsto \gamma_{\mathrm{taut}}.
  \end{equation*}
  We have the classifying stack
  \begin{equation*}
    \hat{G} / \hat{G} \xrightarrow{\pi} \underline{\ast / \hat{G}}.
  \end{equation*}
  We can look at
  \begin{equation*}
    r_\mu : \hat{G} \rightarrow \GL(V_\mu).
  \end{equation*}
  We obtain a vector bundle on the classifying stack which we pull back to the quotient stack and denote by
  \begin{equation*}
    \mathcal{V}_\mu := \pi^\ast(V_\mu).
  \end{equation*}
\end{proof}

\section{Fargues--Scholze local Langlands}
Let $G$ over $\mathbb{Q}_p$ be split.  Let $S$ be perfectoid, in characteristic $p$.  We can then define $X_{S}$, a ``Fargues--Fontaine curve''.  We have
\begin{equation*}
  \mathrm{Bun}_G : S \mapsto \text{$G$-torsors}(X_S),
\end{equation*}
\begin{equation*}
  \left[ \ast / \underline{G(\mathbb{Q}_p)} \right] \xrightarrow{i_1} \mathrm{Bun}_G,
\end{equation*}
\begin{equation*}
  D \left( \Rep _{\Lambda} \left( G(\mathbb{Q}_p)^{\mathrm{sm}} \right)  \right)
  \cong D \left( \left[ \ast / \underline{G(\mathbb{Q}_p)} \right], \Lambda \right)
  \xrightarrow{i_{1 !}} D \left( \mathrm{Bun}_G , \Lambda \right).
\end{equation*}
We also have a map $i_1^\ast$ in the reverse direction of this last one.  We have
\begin{equation*}
  Z^1(W_{\mathbb{Q}_p}, \hat{G}) : (\Lambda\text{-alg}) \ni R \mapsto \left\{ W_{\mathbb{Q}_p} \xrightarrow{\text{$1$-cocycle over $\Lambda$}} \hat{G}(R) \right\}.
\end{equation*}
\begin{equation*}
  \mathrm{Par}_{\hat{G}} = X_{\hat{G}} := Z^1 \left( W_{\mathbb{Q}_p}, \hat{G} \right) / \hat{G}.
\end{equation*}

\begin{theorem}[Fargues--Scholze]
  There is a $\Lambda$-linear action
  \begin{equation*}
    \operatorname{Perf}(X_{\hat{G}})
    \circlearrowright D \left( \mathrm{Bun}_G, \Lambda \right).
  \end{equation*}
\end{theorem}

We'll consider just one example relevant to us.
\begin{example}
  We consider the natural projection from the stack of $L$-parameters to the classifying stack for the dual group:
  \begin{equation*}
    X_{\hat{G}} \xrightarrow{\pi} \ast / \hat{G}.
  \end{equation*}
  As before, we consider the highest weight representation $r_\mu$, which defines a vector bundle $V_\mu$ on the classifying stack that we can pull back:
  \begin{equation*}
    \mathcal{V}_\mu := \pi^\ast V_\mu.
  \end{equation*}
  We can look at the spectral action of this vector bundle,
  \begin{equation*}
    \mathcal{V}_\mu \ast(.) : D \left( \mathrm{Bun}_G, \Lambda \right)
    \rightarrow D \left( [\ast / \underline{G(\mathbb{Q}_p)}], \Lambda \right).
  \end{equation*}
  If we compose this with action the restriction to this open stratum, then this functor has a very nice geometric description, namely over $\mathrm{Bun}_G$, there is a map from the flag variety $\operatorname{Flag}(G, \mu^{-1})$ to $\mathrm{Bun }_G$.  Passing to quotients, we obtain
  \begin{equation*}
    \begin{CD}         
      \left[ \operatorname{Flag}(G, \mu^{-1}) / G(\mathbb{Q}_p) \right] @>q>> \ast / \underline{G(\mathbb{Q}_p)}  @>i>> \mathrm{Bun}_{G}\\
      @V \mathrm{B L}VV  @. \\
      \mathrm{Bun}_G   @.\\
    \end{CD}
  \end{equation*}
  where
  \begin{equation*}
    \iota_1^\ast \mathcal{V}_\mu \ast(A) :   R q_\ast \mathrm{B L}^\ast \left( A[d] \right)
    \left( \tfrac{d}{2} \right),
  \end{equation*}
  where $d$ is the dimension of $\operatorname{Flag}(G, \mu^{-1})$.
\end{example}

We obtain
\begin{equation*}
  \hat{G} / \hat{G} = X_{\hat{G}}^{ur} \rightarrow X_{\hat{G}}.
\end{equation*}
This is injective because, by definition, unramified parameters factor through the quotient of the Weil  group by the same inertia.

When we restrict to the subset of unramified parameters, we get stuff that doesn't depend upon the choice of Frobenius, and we have
\begin{equation*}
  \gamma_{\mathrm{taut}} = r_\mu \circ \phi^{\mathrm{univ}}(\Frob_v),
\end{equation*}
\begin{equation*}
  H_{\mu, v}(X) := \operatorname{charpoly} \left( \gamma_{\mathrm{taut}} \right) \in \mathcal{O} \left( \hat{G} / \hat{G} \right)[X].
\end{equation*}
It suffices to find a suitable
\begin{equation*}
  F \in D(\mathrm{Bun}_G).
\end{equation*}
We then aim to relate $\gamma_{\mathrm{taut}} \circlearrowright \mathcal{V}_\mu \ast(F)$ and $H^\ast(\mathrm{Sh}_{K, \bar{E}, \Lambda})$.

\section{Igusa stacks}
\begin{conjecture}[Scholze]
  Let $(\mathbb{G}, X)$ be a Shimura datum, which determines a character $\mu$ and reflex field $\mathbb{E}$..  Let $v \mid b$, and write simply $E := \mathbb{E}_v$.  Consider the Shimura variety completion
  \begin{equation*}
    S_{K^p} := \varinjlim_{K^p}
    \mathrm{Sh}_{K^p K_p, E}.
  \end{equation*}
  Then there should exist constructions of an Igusa stack for each compact open subgroup $K^p \subset \mathbb{G}(\mathbb{A}_f^p)$:
  \begin{equation*}
    \left\{ \mathrm{Igs}_{K^p} \right\}_{K^p \subset \mathbb{G}(\mathbb{A}_f^p)}.
  \end{equation*}
  This comes with a $2$-Cartesian diagram
  \begin{equation*}
    \begin{CD}         
      \mathcal{S}_{K^p}^{\diamond} @> \pi_{\mathrm{H T}}>> \operatorname{Flag}(G, \mu^{-1}) \\
      @VVV  @VV \mathrm{B L} V \\
      \mathrm{Igs}_{K^p} @>> \tilde{\pi}_{\mathrm{H T}}> \mathrm{Bun}_G\\
    \end{CD}
  \end{equation*}
\end{conjecture}
This is equivariant with respect to $\mathbb{G}(\mathbb{A}_f)$ on the left column and $\mathbb{G}(\mathbb{Q}_p)$ on the upper-right.  We can thus quotient the top row by $G(\mathbb{Q}_p)$, giving
\begin{equation*}
  \mathcal{S}_{K^p / G(\mathbb{Q}_p)}^{\diamond} \rightarrow \operatorname{Flag}(G, \mu^{-1}) / G(\mathbb{Q}_p) \xrightarrow{q} \ast / G(\mathbb{Q}_p).
\end{equation*}
We get
\begin{equation*}
  R \Gamma \left( S_{K^p}, \Lambda \right)
  = R q_\ast R \pi_{\mathrm{H T}} \pi_\ast \Lambda
  = R q_\ast B L^\ast \underbrace
  {
    R \bar{\pi}_{\mathrm{H T} \ast} \Lambda 
  }_{
    \mathcal{F}
  }
  =
  \underbrace
  {
    i_1^\ast \mathcal{V}_{\mu \ast }
  }_{
    \gamma_{\mathrm{taut}}
  }
  \left( \mathcal{F}[- d] \right) \left( - \frac{d}{2} \right),
\end{equation*}
where $d = \dim \mathrm{Sh}_K$.  Problem solved!

\begin{theorem}[DvHKZ24]
  Let $(\mathbb{G}, K)$: Hodge type.  Then the conjecture is true on the good reduction locus.
\end{theorem}
\begin{remark}
  We can form $\mathrm{Bun}_G$ and $\mathrm{Igs}_{K^p}$ over $\mathbb{F}_p$.  All the $W_E$-action comes from the Hecke operator $i_1^\ast \mathcal{V}_\mu \ast(\bullet)$.  In particular, we obtain the Eichler--Shimura relation for general coefficients.
\end{remark}
\begin{remark}
  There is an integral version of this Cartesian diagram.  Let $K_p$ be parahoric, $\mathcal{G} / \mathbb{Z}_p$.  Here $\mathrm{Sht}_{G, \mu}$ is the moduli of Shtuka with $1$-leg, bounded by $\mu$.
  \begin{equation*}
    \begin{tikzcd}
      \mathcal{S}_{K^p K_p}^{\diamond} \arrow[r] \arrow[d] & \mathrm{Sht}_{G, \mu} \arrow[d] \\
      \mathrm{Igs}_{K^p} \arrow[r, "\bar{\pi}_{\mathrm{H T}}"] & \mathrm{Bun}_G
    \end{tikzcd}
  \end{equation*}
  
\end{remark}
\begin{remark}
  Construction: $\mathbb{G} = \GL_2$, $K_p = \GL_2(\mathbb{Z}_p)$,
  \begin{equation*}
    \begin{CD}         
      \mathrm{Sh}_K^{\diamond} @>>>[\mathbb{P}^1 / K_p]\\
      @VVV  @VVV \\
      \mathrm{Igs}_{K^p} @>>> \mathrm{Bun}_2 \\
    \end{CD}
  \end{equation*}
  We take a $\mathrm{Spa} C$ point for $C / \bar{\mathbb{Q}}_p$, and consider
  \begin{equation*}
    \begin{CD}         
      \left\{ E / \mathcal{O}_C , K^p \text{-level} \right\}/ \mathrm{isom} @>>>
      \left\{ \text{$p$-divisible } \mathcal{H} / \mathcal{O}_C  \right\}/ \mathrm{isom}
      \\
      @VVV  @VVV \\
      \left\{ E_o / \mathcal{O}_C / p, K^p\text{-level} \right\}/\mathrm{isog} @>>>
      \left\{ H_o / \mathcal{O}_C / p \right\} / \mathrm{isog}\\
    \end{CD}
  \end{equation*}
  Serre--Tate duality implies that this is Cartesian.
\end{remark}
\begin{remark}
  Minimal compactification: $\mathrm{Igs}_{K^p} \hookrightarrow \mathrm{Igs}_{K^p}^\ast$,
  \begin{equation*}
    \begin{CD}         
      \mathcal{S}_{K^p}^\ast @>>> \operatorname{Flag}(G, \mu^{-1})\\
      @VVV  @VVV \\
      \mathrm{Igs}_{K^p}^\ast @>>> \mathrm{Bun}_G\\
    \end{CD}
  \end{equation*}
  giving rise to intersection cohomology.
\end{remark}
\begin{remark}
  Another remark is that there are many different variants of this picture in various settings, although these variants are not really in the literature, so we'll just briefly mention them.  These include variants over function field, where instead of starting with a reductive group $G$ over $\mathbb{Q}$, you start with one over the fraction field of a smooth projective curve over some finite field.  There's also a version in the setup of real local Langlands.  This part is actually recorded in the notes of Scholze on real local Langlands.  In Scholze's talk at IAS, there's also a version for locally analytic things.
\end{remark}

\section{More applications and ideas}

\begin{enumerate}
\item\label{enumerate:cnpplsslhs} Because we have a geometric setup now, one can at least try to give a geometric formulation of the local and global compatibility of Langlands correspondences.  We mentioned this briefly in our talk at the IAS in March.  Very briefly, one can phrase as a local-global compatibility statement to say that, suppose we look at this global sheaf, together with its action by the global Hecke algebra, and suppose one has some eigensystem, meaning a maximal ideal of the Hecke algebra:
  \begin{equation*}
    F := R \bar{\pi}_\ast \Lambda \circlearrowleft \mathbb{T}^S \supset \mathfrak{m}.
  \end{equation*}
  Then we obtain a spectral decomposition in terms of Fargues--Scholze parameters:
  \begin{equation*}
    F_{\mathfrak{m}} \cong \bigoplus_{\phi^{\mathrm{F S}}} \mathcal{F}_{\mathfrak{m}, \phi}.
  \end{equation*}
  Suppose also that this maximal ideal has a globally attached residual Galois representation
  \begin{equation*}
    \mathfrak{m} \rightsquigarrow \bar{\rho}_{\mathfrak{m}} : \Gal_{\mathbb{Q}}
    \rightarrow {}^C G \left( \overline{k(\mathfrak{m})} \right).
  \end{equation*}
  Then
  \begin{equation*}
    \mathcal{F}_{\mathfrak{m}, \phi^{\mathrm{F S}}} =
    \begin{cases}
      0 &\text{ otherwise}  \\
      \mathcal{F}_{\mathfrak{m}}        &  \text{ if } \phi^{\mathrm{F S}}
                                          = (\overline{\rho_{\mathfrak{m}}} |_{G_{\mathbb{Q}_p}})^{\mathrm{ss}}
    \end{cases}
  \end{equation*}
\end{enumerate}

\part{Peter Scholze, \emph{The Habiro ring of a number field}}

Abstract: A question at the back of my mind has long been whether the $q$-deformation of de Rham cohomology is defined over the Habiro ring -- the completion of $\mathbb{Z}[q]$ at all roots of unity. In fact, this question was explicitly asked after my talk on $q$-de Rham cohomology at the Clay Research Conference several years ago. There is an easy definition for Artin motives, i.e. for number fields, but it did not seem to work in higher dimension. Completely unexpectedly, Garoufalidis and Zagier had found explicit elements of these Habiro rings $H_F$ of number fields $F$, coming from perturbative Chern-Simons theory! I will report on joint work with them and Wheeler proving this and some more general results. Most mysteriously, this involves a certain kind of "exponentiated regulator" map $K_3(F) \rightarrow \Pic(H_F)$.

(joint work with Garoufalidis, Wheeler, Zagier)

We want to talk about a paper that's basically written, and should be out any day now.  We want to talk about the Habiro ring of a number field.  My motivation for thinking about this circle of ideas was a talk I gave here seven years ago, where I conjectured that algebraic varieties should have a canonical $q$-deformation of their de Rham cohomology, with $q$-difference equations deforming the Picard--Fuchs relations.  I was hoping that there would be a way to connect to $p$-adic Hodge theoretic ideas I've been having, perhaps with some Ramanujan-style $q$-series.  So the motivating question for me can be phrased succinctly as follows:
\begin{question}
  Is the variable $q$ in Ramanujan-style $q$-series related to something that is also called $q$, arising in $p$-adic Hodge theory, namely the Teichmuller representative $q =[\eps] \in A_{\inf}$ of the $p$-power roots of unity?
\end{question}
My coauthors had completely different motivation that I don't understand.  Please be aware that I'm rather oblivious to a lot of things.

Let's fix a symmetric, positive-definite $N \times N$ matrix $A$, with $\mathbb{Z}$-coefficients.  We form the Nahm sum
\begin{equation}\label{eq:cnpplxmbxi}
  f_A(q) = \sum_{n_1, \dotsc, n_N \geq 0}
  \frac{  q^{\tfrac{1}{2} n^t A n}}{
    (q ; q)_{n_1} \dotsb(q ; q)_{n_N}
  } \in \mathbb{Z}[[q^{1/2} ]].
\end{equation}
Let's recall some standard notation in this field:
\begin{itemize}
\item $q$-Pochhammer symbol
  \begin{equation*}
    (t ; q)_{k} :=(1 - t)(1 - q t) \dotsb(1 - q^{k - 1} t).
  \end{equation*}
\item $(t; q)_\infty := \prod_{i \geq 0}(1 - q^i t)$.
\end{itemize}
The series \eqref{eq:cnpplxmbxi} converges on the open unit disc.

\begin{example}
  Take $A = 1$.  Then we get
  \begin{equation*}
    \sum_{n \geq 0}
    \frac{q^{\tfrac{1}{2} n^2}}{(q ; q)_n}
    =(- q^{1/2} , q)_\infty.
  \end{equation*}
  What's the best way ot prove this?  It's to introduce an extra variable $t$.  (Explaining this illustrates how to manipulate these sorts of expressions.)  That is, we consider
  \begin{equation*}
    f_A(t_1, \dotsc, t_N, q) = \sum_{n_1 , \dotsc, n_N \geq 0}
    \frac{q^{\tfrac{1}{2} n^t A n}}{(q ; q)_{n_1} \dotsb(q ; q)_{n_N}}
    t_1^{n_1} \dotsb t_N^{n_N}.
  \end{equation*}
  You can complete this as a rational function in $q$, and then as a power series in $t$, i.e.,
  \begin{equation*}
    f_A(t_1, \dotsc, t_N, q) \in \mathbb{Q}(q)[[t_1, \dotsc, t_n]].
  \end{equation*}
  Now, we get
  \begin{equation*}
    f_A(t, q) = \sum_{n \geq 0}  \frac{q^{\tfrac{1}{2} n^2}}{(q, q)_n} t^n,
  \end{equation*}
  so the difference
  \begin{align*}
    f_A(t, q) - f_A(q t, q) &= \sum_{n \geq 0}
                              \frac{q^{\tfrac{1}{2} n^2}}{(q, q)_{n-1}}
                              (1 - q^n) t^n \\
                            &=
                              q^{1/2} t f_A(q t, q),
  \end{align*}

  so forming this $q$-difference equation brings us back to basically the same equation again.  We deduce that
  \begin{equation*}
    f_A(t, q) =(1 + q^{1/2} t) f_A(q t, q).
  \end{equation*}
  If you continue in this way, you get that the above is
  \begin{equation*}
    (1 + q^{1/2} t)(1 + q^{3/2} t) \dotsb.
  \end{equation*}
  So you see in fact that
  \begin{equation*}
    f_A(t, q) =(- q^{1/2}, t ; q)_\infty.
  \end{equation*}
\end{example}
\begin{example}\label{example:cnpplyhw33}
  Now take $A = 2$.  In this case, we get the sum
  \begin{equation*}
    \sum_{n \geq 0}
    \frac{q^{n^2}}{(q, q)}.
  \end{equation*}
  Now there's a famous identity, called the Rogers--Ramanujan identity, which gives that the above is
  \begin{equation*}
    (q; q^5)^{-1}_\infty(q^4; q^5 )^{-1}_\infty,
  \end{equation*}
  which also turns out to be modular (up to some small factors, e.g., some small power of $q$, like the factors of $q^{1/24}$ that show up in the $\eta$ function).
\end{example}

Now you might think that these things are very generally modular forms, but it turns out that as soon as $A > 2$, these are never modular!  To understand this kind of phenomenon, there is actually a conjecture of Nahm characterizing when these things are modular functions.  To state that, observe that
\begin{equation}\label{eq:cnpplx8ztf}
  f_A(t_1, \dotsc, t_N) - f_A(t_1, \dotsc, q t_i, \dotsc, t_N )
  = q^{\tfrac{1}{2} A_{ii}} t^{A_{ii}}
  f_A(q^{A_{i 1}} t_1, \dotsc,   q^{A_{i N}} t_N).
\end{equation}

\begin{conjecture}[Nahm's conjecture]
  When is $f_A(q)$ modular?  Nahm's condition: look at (possibly $t$-deformed) \emph{Nahm equations}, which you get by looking at the $q$-difference equation \eqref{eq:cnpplx8ztf} and thinking about the operators that you're applying, which we're applying either in the $i$th variable on the LHS or in each variable on the RHS.  We represent these operators by variables $z_1, \dotsc, z_N$ that then satisfy
  \begin{equation*}
    1 - z_i = t^{A_{i i}} z_1^{A_{i 1}} \dotsb z_N^{A_{i N}}.
  \end{equation*}
\end{conjecture}
In particular, for $t =1$, which is really the important case, you just have
\begin{equation*}
  1 - z_i = z_1^{A_{i 1}} \dotsb z_N^{A_{i N}}.
\end{equation*}
There is a unique solution with $z_i \in(0, 1)$.  These are algebraic numbers.  They give rise to a number field, which is basically the number field from the title of my talk,
\begin{equation*}
  \mathbb{K} := \mathbb{Q}(z_1, \dotsc, z_N).
\end{equation*}
In fact, they also give rise to an element of the third $K$-group of $\mathbb{K}$:
\begin{equation*}
  \xi \in K_3(\mathbb{K}).
\end{equation*}
Roughly, the third $K$-group is isomorphic to the ``Bloch group'' $B(\mathbb{K})$, a bit like Milnor $K$-theory, which is described in terms of generators and relations, with the generators given by symbols.  Then the element in question is given by the sum of the symbols:
\begin{equation*}
  \xi = \sum_{i = 1}^N[z_i].
\end{equation*}
The conjecture, which is now (in some cases?) a theorem of Calegari, Garenfalindis and Zagier, is that if $f_A$ is modular, then $\xi$ is torsion.

Let's quickly look at what's happening in the Rogers--Ramanujan example, Example \ref{example:cnpplyhw33}.  Here, the Nahm equation is $1 - z = z^2$, which gives something like the Golden ratio
\begin{equation*}
  z = \frac{\sqrt{5} - 1}{2}.
\end{equation*}
In particular, $z$ is totally real, which implies that $\xi$ \emph{must} be torsion.  This is why in this special example, it ends up being modular, but it's really a special feature of this example.

Now one converse to what we said, that we expect, is that it's enough to know that one $[z_i]$ is torsion, not just that $\xi$ is torsion (I think?).

Before we go on, we want to say one word about some invariants (regulators) that you can extract from the data that we have.  The most classical one is the \emph{Borel regulator}
\begin{equation*}
  K_3(\mathbb{K}) \xrightarrow{\mathrm{Borel}} \mathbb{C} /(2 \pi i)^2 \mathbb{Z}
\end{equation*}
which, if we identify the LHS with the Bloch group $B(\mathbb{K})$, becomes essentially the dilogarithm function
\begin{equation*}
  \operatorname{Li}_2 (x) := \sum_{n \geq 0}
  \frac{x^n}{n^2}.
\end{equation*}

There's also a $p$-adic regulator
\begin{equation*}
  K_3(\mathbb{K}) \xrightarrow{D_p} \mathbb{K} \otimes_{\mathbb{Q}} \mathbb{Q}_p.
\end{equation*}
By work of Besser--de Jeu and Coleman, this can also be written as a $p$-adic dilogarithm $\mathrm{li}_2$.  Here we're using $p$-adic Hodge theory rather than mixed Hodge theory, but one can also use {\'e}tale cohomology.  We have the {\'e}tale mod $m$ regulator, for $m \geq 1$.
\begin{equation*}
  H^1(\mathbb{K}, \mathbb{Z} / m)
  = K_3(\mathbb{K}) \rightarrow H_{\acute{e} t}^1(\mathbb{K}, \mu_m^{\otimes 2})
  \rightarrow H_{\acute{e}t}^1(\mathbb{K}(\zeta_m), \mu_m^{\otimes 2}),
\end{equation*}
and via Kummer theory,
\begin{equation*}
  \mathbb{K}(\zeta_m)^\times /(\dotsb)^m = H_{\acute{e}t}^1(\mathbb{K}(\zeta_m), \mu_m).
\end{equation*}
The work of Calegari et al show that $\xi \in K_3(\mathbb{K})$ maps to a unit up to an $m$th power, $\eps_m(\xi) \in \mathbb{K}(\zeta_m)^\times /(\dotsb)^m$.

So, how can you study when $f_A$ is a modular function?  The idea is to study asymptotics of $f_A$ at roots of unity.  You can approach $\zeta_m$, an $m$th root of unity, in a regular way from the origin.  There is a theorem of Garoufalidis and Zagier which describes these asymptotics:
\begin{theorem}[Garoufalidis and Zagier]
  The asymptotics of $f_A(q)$, where $q = \zeta_m e^h$ for an $m$th root of unity $\zeta_m$, are given by an exponential blow-up term described by the dilogarithm
  \begin{equation*}
    \sim \exp \left(
      \frac{\widetilde{\operatorname{Li}_2(\xi)}}{m^2 h}
    \right)
    \sqrt{\dotsb}
    \eps_m^{1/m}(\xi)
    \left( a_{0, m} + a_{1, m} h + a_{2, m} h^2 + \dotsb \right).
  \end{equation*}
  (This is actually a divergent series, but the meaning of the asymptotic is that if you drop all but finitely many terms, then the remainder is as small as you'd guess.)  Surprisingly enough,
  \begin{equation*}
    a_{i, m} \in \mathbb{K}(\zeta_m).
  \end{equation*}
\end{theorem}
IF $\xi$ is not torsion, then these {\'e}tale regulators are not zero, so these $m$-th roots lie in bigger and bigger fields, but on the other hand, if it was modular, then there could be only finitely many possible asymptotics.  So that's the argument.

In principle, we'd like to say that the same argument happens for the dilogarithm.  You would think that the Borel regulator is injective, but you'd need it for all places and not just one.

The question of Garoufalidis and Zagier that got the problem started is:
\begin{question}
  What are the $p$\emph{-adic} properties of these coefficients?
\end{question}
I mean, these are just algebraic numbers in a fixed number field, so you can really study them $p$-adically, even though the above asymptotics were purely complex.  The denominators are rather huge.  A dream answer that you'd like to have is that $\xi$ would give, by some kind of $p$-adic recipe, some power series in $h$, such that the ratio has $p$-adic \emph{integral} coefficients.  You should actually expect $p$-adic integral coefficients in $\zeta_m$, not in $h$.

It actually turns out that you can give an answer of this form.  To formulate it, we need some $p$-adic Hodge theory.  There is this fundamental exact sequence of $p$-adic Hodge theory,
\begin{equation*}
  0 \rightarrow \mathbb{Q}_p(2)
  \rightarrow
  \underbrace
  {
    (B_{\mathrm{crys}}^+)^{\varphi = p^2}  
  }_{
    \widetilde{D_p(\xi)} \in 
  }
  \rightarrow
  \underbrace
  {
    B_{\mathrm{d R}}^+ / \mathrm{Fil}^2
  }_{
    D_p(\xi) \in 
  }
  \rightarrow 0.
\end{equation*}
We have
\begin{equation*}
  \mathbb{K}_p = \left( B_{\mathrm{d R}}^+ / \mathrm{Fil}^2 \right)^{G_{K_p}}
  \xrightarrow[\cong]{D_p^{-1}}
  H^1 \left( \underbrace
    {
      G_{\mathbb{K}_p}
    }_{
      \xi \in
    },   \mathbb{Q}_p(2) \right).
\end{equation*}
This gives rise to
\begin{equation*}
  \exp \left( \frac{\widetilde{D_p(\xi)}}{\log q} \right).
\end{equation*}
Get
\begin{equation*}
  \widetilde{D_p(\xi)} \in B_{\mathrm{crys}}^+ \rightarrow B_{\mathrm{d R}}^+
  \cong \mathbb{C}_p[[\log(q)]]
  \cong \mathbb{C}_p[[h]].
\end{equation*}
We have
\begin{equation*}
  \widetilde{D_p(\xi)} = D_p(\xi) + \O(h^2),
\end{equation*}
so it makes sense to divide these two things.  We would have to say it slightly more precisely, but basically, if we divide, we get an integral series, and we think it's a rather remarkable relation between these Ramanujan style $q$-series and $p$-adic periods.
\begin{theorem}[GSWZ]
  This is the correct correction factor.
\end{theorem}
Let's now come to the \emph{Habiro ring}, which somehow records just asymptotics at roots of unity.
\begin{definition}[Habiro, 2005]
  \begin{align*}
    \mathcal{H} &:= \text{completion of } \mathbb{Z}[q] \text{ at all roots of unity.} \\
                &= \varprojlim_{n, m} \mathbb{Z}[q] /(1 - q^n)^m.
  \end{align*}
\end{definition}
If you look at the radial asymptotics of the sums from before, they want to be elements of something like the Habiro ring.  Let's explain what this looks like first.  For all $m \geq 1$, you can take
\begin{equation*}
  \mathcal{H} \rightarrow \mathbb{Z}[\zeta_m][[q - \zeta_m]]
\end{equation*}
\begin{equation*}
  f \mapsto(f_m)_m.
\end{equation*}
Integrally, a $p$-th root of unity mod $p$ is somehow the same as a first root of unity, so these difference roots of unity somehow speak to each other $p$-adically.  If you keep track of this, then a different way to think about this Habiro ring is that it is a collection of such series at each root of unity
\begin{equation*}
  \mathcal{H} = \left\{
    (f_m)_m :
    \begin{array}{l}
      f_m \in \mathbb{Z}[\zeta_m][[q - \zeta_m]], \\
      f_m = f_{p^m} \in \mathbb{Z}_p[\zeta_{p^m}][[q - \zeta_m]]
    \end{array}
  \right\}.
\end{equation*}
These maps are all inejctive, which is \emph{a priori} a bit surprising.

So somehow by doing the right thing, you get something $p$-adically integral, and there's a $p$-adic congruence at $p^m$-th roots of unity.  This is something we've been able to make sense of which we'll now come to.

Observation: if you symmetrize, then the denominators go away.  (Note that Garoufalidis and Zagier discovered things experimentally by played with tons of these on a computer.)  That is to say, the asymptotic expansion of the symmetrizations of
\begin{equation*}
  g_A(q) :=  f_A(q) f_A(q^{-1})
\end{equation*}
is $\Delta$-integral, where $\Delta$ is basically the discriminant of $\mathbb{K}$.  One notable thing is that this symmetrization also kills off this dilogarithm term, so this exponential blow-up goes away and also this unit goes away and then you really get something nice and $\Delta$-integral.  From this, you get, for all $m \geq 1$, power series
\begin{equation*}
  g_{A, m} \in \mathcal{O}_{\mathbb{K}}[\zeta_m, \Delta^{-1}][[q - \zeta_m]].
\end{equation*}

\begin{remark}
  Question: what does the symmetrization actually mean?  $q$ is restricted to the unit disc.  Or maybe you could just take the even terms, or formally multiply the asymptotics.  But perhaps better to take general $t$, then specialize to $t = 1$.
\end{remark}

So you get for each $m$ such a power series which looks exactly like the datum you want for the Habiro ring (probably over a number field, because that's where the coefficients are).  So the starting point of the project was that Garoufalidis and Zagier were confused because they found that
\begin{equation*}
  g_{A, m} \neq g_{A, p m}
\end{equation*}
in the $p$-adic completion.  Instead, and this is something we now prove:
\begin{theorem}[GSWZ]
  They're off by a Frobenius endomorphism:
  \begin{equation*}
    g_{A, m} = \varphi_p(g_{A, p m}),
  \end{equation*}
  where $\varphi_p$ is a Frobenius endomorphism of $(\mathcal{O}_K)^\wedge_p$.
\end{theorem}
This is somehow what defines the Habiro ring of a number field.  Again, this is something we were able first to check numerically, and later to prove.
\begin{definition}
  The Habiro ring of $\mathbb{K}$ is
  \begin{equation*}
    \mathcal{H}_{\mathcal{O}_{\mathbb{K}}[1/\Delta]}
    = \left\{(f_m)_m :
      \begin{array}{l}
        f_m \in \mathcal{O}_{\mathbb{K}}[1/\Delta, \rho_m][[q - \zeta_m]], \\
        f_m = \varphi_p(f_{mp}) \text{ in $p$-adic completion}
      \end{array}
    \right\}.
  \end{equation*}
\end{definition}
We stumbled upon this after giving a talk, hearing a question by Okounkov, talking with Garoufalidis and Zagier, trying what works, and seeing eventually that the Frobenius works if you stick it in.

Another prediction of Garoufalidis and Zagier.  There's a strange regulator.  This one, I have no fucking idea where it comes from.  With $R := \mathcal{O}_K[1/ \Delta]$,
\begin{equation*}
  K_3(\mathbb{K} ) \rightarrow \Pic \left( \mathcal{H}_{R} \right)
\end{equation*}
\begin{equation*}
  \xi \mapsto \mathcal{H}_{R, \xi},
\end{equation*}
and the asymptotic expansion of $f_A$ itself defines an element of $\mathcal{H}_{R, \xi}$.  The symmetrization is somehow explained by the fact that $f_A$ is an element of $\mathcal{H}_{R, \xi}$, while $f_A(q^{-1})$ lies in $\mathcal{H}_{R, -\xi}$, etc.  So they always saw computationally that if you multiply a couple of them so that the $\xi$ becomes zero, then you get the correct property.  The theorem is that this is also true:
\begin{theorem}
  The regulator exists and $f_A$ is an element.
\end{theorem}
This means in particular that the asymptotic expansion at the first root of unity determines the asymptotic expansion at all the other roots of unity.  This actually proves something about knot invariants.  There should be power series attached to each knot, but to compute these requires choosing a triangulation, and you know that it's independent of the choice at the first root of unity, and you can scrap the independence together at other roots of unity from that.

Here's the construction of $\mathcal{H}_{R, \xi}$.  To describe this line bundle, we define it rationally, then via $p$-adic completion, then via glueing.
\begin{itemize}
\item Rationally, we want a line bundle over $\mathbb{K}(\zeta_m)[[q - \zeta_m]]$.  That's the same as a $\mathbb{G}_m$-torsor.  (There's a bit of notational conflict here, with $m$ meaning both ``multiplciative'' and being our integer; sorry.)  If you have a $\mathbb{G}_m$-torsor, then you in particular have a $\mu_m$-torsor.  But $\mu_m$-torsors are defined uniquely over $\mathbb{K}(\zeta_m)$.  Concretely these are power series in
  \begin{equation*}
    \eps_m^{1/m}(\xi) \mathbb{K}(\zeta_m)[[q - \zeta_m]].
  \end{equation*}
\item $p$-adically, the critical thing to do there is near $q = 1$; we focus on that case for simplicity.  The task is then the following: find a canonical line bundle $L(\xi)$ over $(\mathcal{O}_{\mathbb{K} })_p^\wedge[[q - 1]]$, whose specializations near $q = \zeta_{p^m}$ are the rational ones that we already constructed.  This looks a lot like your typical $p$-adic Hodge theory problem, but then you realize that the standard approach somehow doesn't work, but there's still a way to do it.
\end{itemize}



\begin{remark}
  Speaker expects that basically everything could be extended to work with general $t$ (as a formal variable), not just at $t = 1$.
\end{remark}

There are some questions being asked and answered.   Confusion about $\mathbb{G}_a$-torsors vs.\ $\mathbb{G}_m$-torsors.

\part{Matthew Emerton, \emph{Aspects of $p$-adic categorical local Langlands for $\GL_2(\mathbb{Q}_p)$}}

\begin{abstract}
  The categorical p-adic local Langlands correspondence has been established for the group $\GL_2(\mathbb{Q}_p)$ in joint work of the speaker with Andrea Dotto and Toby Gee. In this talk I will describe some aspects of the categorical correspondence, including its relationship to Taylor--Wiles--Kisin patching, to the work of Colmez and Paskunas, and to recent work of Johansson--Newton--Wang-Erickson. I also hope to illustrate what aspects of the $\GL_2(\mathbb{Q}_p)$ situation are expected to carry over to the case of $\GL_2(\mathbb{Q}_{p^f})$, and what aspects are not.
\end{abstract}

Fix $p \geq 5$ and $G := \GL_2(\mathbb{Q}_p)$.  Let $E / \mathbb{Q}_p$ be a finite extension, with ring of integers $\mathcal{O}$ and residue field $\mathbb{F}$.  Let $\zeta : G_{\mathbb{Q}_p} \rightarrow \mathcal{O}^\times$ be trivial (or $\eps$, the cyclotomic character, if you want).  It will play the role of a central character.

Let $\mathcal{A}$ denote the category of smooth representations of $G$, with central character $\zeta$, on locally torsion $\mathcal{O}$-modules, i.e., any element of the module is killed by some $p^n$.

We denote by $\mathfrak{X}$ the ``$E G$ stack'' parametrizing families of projective rank $2$ {\'e}tale $(\varphi, \Gamma)$-modules over Fontaine's ring
\begin{equation*}
  \mathbf{A}_{\mathbb{Q}_p} = \widehat{\mathbb{Z}_p((\tau))},
\end{equation*}
where $\varphi(1 + \tau) =(1 + \tau)^p$ and $\gamma_a(1 + \tau) =(1 + \tau)^a$.  Here ``family'' means family over a $p$-adically complete $\mathcal{O}$-algebra.  To match the central character condition, we'll have a determinant condition.  The determinant of our rank two $(\varphi, \Gamma)$-modules will be a rank one $(\varphi, \Gamma)$-module, and we want this determine to be to be $\zeta \eps^{-1}$.  Those are the objects in play.

\begin{theorem}[Dotto--Emerton--Gee]
  There exists a fully faithful functor
  \begin{equation*}
    \mathfrak{a} : D_{f .g.}^{\mathrm{b}}(\mathcal{A}) \hookrightarrow D_{\mathrm{coh}}^{\mathrm{b}}(\mathfrak{X}).
  \end{equation*}
\end{theorem}
\begin{remark}
  It might be that what we've written doesn't characterize the functor.  We don't claim that there is a unique functor.  It is going to satisfy certain properties.  We don't know that they characterize it, but it is in some sense reasonable.  Maybe at first it's a bit hard to see what we mean at all, but a very rough idea is that an object in $\mathcal{A}$, which is a smooth representation, well, one could at least think of a smooth representation that is not irreducible (or at least admissible) as some family, or integral, of representations that are irreducible (or admissible).  There is a classical mod $p$ Langlands that relates irreducible mod $p$ representations (the building blocks in $\mathcal{A}$) to semisimple mod $p$ $2$-dimensional Galois representations of $G_{\mathbb{Q}_p}$, which are somehow closed points in $\mathfrak{X}$.  So the building block of the functor will be that the building blocks in $\mathcal{A}$ go to some sort of skyscrapers in $\mathfrak{X}$, and a typical element of $\mathcal{A}$ will be some direct integral of building blocks, while a typical element of $\mathfrak{X}$ will be a direct integral of its fibers.  That's how you're supposed to imagine this functor going.
\end{remark}

When you have a derived category and put a subscript at the bottom (indicating cohomologies in a subcategory), this condition should be a reasonably behaved one for this notion to give you a reasonable subcategory.  One would want to know that ``finitely generated'' is a reasonable condition to put on $\mathcal{A}$-modules.  There's kind of a fact which is that in $\mathcal{A}$, ``finitely generated'' is equivalent to ``finitely presented''.  So $\mathcal{A}$ has a kind of ``Noetherian'' nature.  We want to say a bit more about this, partly to introduce more notation and concepts, but also, it's clear what it means for a representation to be finitely generated, but less so for finitely presented in this setting, since $\mathcal{A}$ is not a category of modules over a ring.  So let's say a bit more about what ``finitely presented'' means here.  The building blocks of the finitely generated modules are the \emph{free} finite rank modules.  The corresponding building blocks in $\mathcal{A}$

If you have a finitely generated element of $\mathcal{A}$, so it's some $G$-representation with a finite number of generators, then what you can do is you can act using $K = \GL_2(\mathbb{Z}_p)$ and the center $Z \leq G$ (which just acts by the scalar $\zeta$) and act on your finitely many generators with $K Z$.  This will give you a finitely-generated $K Z$ module, but since the representation is smooth, you'll actually get a finite $\mathcal{O}$-module.  A typical finitely generated $G$ module will be generated over $G$ by some finite $\mathcal{O}$-module $V$, which is a representation of $K Z$.  So what you can do is, your representation that you're thinking about will be a quotient of a compact induction
\begin{equation}\label{eq:cnpp1dqjrk}
  \ind_{K Z}^{G} V \twoheadrightarrow \pi.
\end{equation}
Thus such compact inductions are the building blocks of the finitely generated representations.  Now $\pi$ being ``finitely presented'' is equivalent, by definition if you'd like, to the kernel of the map \eqref{eq:cnpp1dqjrk} being finitely generated.  (We note that if it is true for one such $V$, it will be true for all $V$.)  It's true for $\GL_2(\mathbb{Q}_p)$ that finitely generated implies finitely presented (by Berthel--Livre (?) and Breuil), but that's not an obvious fact, nor a general one (e.g., it fails for $\GL_2$ over a quadratic extension of $\mathbb{Q}_p$).

We want to come back to these representations in a little bit, but first, let's say what we mean by coherent. $\mathfrak{X}$ is a formal algebraic stack, and is in fact Noetherian, so you can write it as an increasing union, or colimit, of algebraic stacks $\mathfrak{X}_n$:
\begin{equation*}
  \mathfrak{X} = \operatorname{colim}_n \mathfrak{X}_n.
\end{equation*}
Here $\mathfrak{X}_n \hookrightarrow \mathfrak{X}_{n + 1}$ are closed immersions, which we can think of as a ``thickening''.  You can push forward a coherent sheaf on $\mathfrak{X}_n$ to think of it as a coherent sheaf on $\mathfrak{X}_{n + 1}$, so you can take the colimit of those maps at the level of derived categories:
\begin{equation*}
  D_{\mathrm{coh}}^{\mathrm{b}}(\mathfrak{X}) :=
  \operatorname{colim}_n D_{\mathrm{coh}}^{\mathrm{b}}(\mathfrak{X}_n).
\end{equation*}
You have to be a bit careful thinking about such things, however.  For instance, the structure sheaf $\mathcal{O}_{\mathfrak{X}}$ is \emph{not} coherent (by this definition).  The structure sheaf $\mathcal{O}_{\mathfrak{X}_n}$ \emph{is} a coherent sheaf on $\mathfrak{X}$, and so $\mathcal{O}_{\mathfrak{X}}$ is kind of an inverse limit $\varinjlim_n \mathcal{O}_{\mathfrak{X}_n}$, so in our framework, it will be a \emph{pro-}coherent sheaf, but not itself a coherent sheaf:
\begin{equation*}
  \mathcal{O}_{\mathfrak{X}} =  \varinjlim_n \mathcal{O}_{\mathfrak{X}_n} \in \operatorname{Pro}
  D_{\mathrm{coh}}^{\mathrm{b}}(\mathfrak{X}).
\end{equation*}

So that's at least some slight orientation about what the categories are.  Now what we'd like to say is, how would you produce such a functor?  

We should have said earlier that one key property of this functor $\mathfrak{a}$ is that it is \emph{exact}, i.e., preserves distinguished triangles.  We actually use the language of stable $\infty$ categories rather than derived categories, which offers some technical advantages, but in the language of derived categories, we certainly want the property of exactness.  This functor will not be $t$ exact

There are abelian categories $A$ and $X$ underlying $\mathcal{A}$ and $\mathfrak{X}$, but these will not be preserved by our functor, so working with derived categories is out of necessity.  But if we were working with such abelian categories, say thinking of them as categories of modules over a ring, we could try to understand functors between them by understanding where the ring goes.  What you discover is that any such functor is given by some sort of tensor, which you might call the \emph{kernel} of such a functor (in the sense of an integral kernel).  So if you're given a functor and want to find the kernel, you just apply the functor to the ring, and this gives you the kernel to describe the functor in general.  This gives a clue as to how you should think  of this functor, but like we said, it's not the category of modules over a ring.  Why not?  Well, roughly for two reasons.  What would the ring be?  Well, you're looking at the category of representations of a group $G$, so it'd be the category of modules over the group ring of $G$, but why isn't it that?  Well, roughly, we're looking at $p$-power torsion modules, but not with any bounded amount of torsion necessarily, so the only coefficient ring that would make sense is $\mathcal{O}$, but we're not allowed to take $\mathcal{O}[G]$ itself or even the trivial representation of $G$ on $\mathcal{O}$ as a module of $A$, because $\mathcal{O} [G]$ acts on modules that are too $p$-adically big to be in our category, but also there's no continuity condition built into that group ring, so that group ring acts on representations that are not continuous or smooth, so it doesn't take into account the topology.

So again, any finitely generated module is killed by some $\mathcal{O} / p^n$, and then you might have your group $K$ and in fact $K Z$ acting (with $Z$ acting via $\zeta$), and then some $H$ that is open and normal in $K$ might be acting trivially because the action is smooth, so the group algebra
\begin{equation*}
  \mathcal{O} / p^n[K Z / H]_\zeta 
\end{equation*}
would be acting, but then the group ring of $G$ would act compatibly with the group ring of $K Z$, leading to
\begin{equation*}
  \mathcal{O}[G]_\zeta  \otimes_{  \mathcal{O}[K Z]_\zeta }  \mathcal{O} / p^n[K Z / H]_\zeta
  = \ind_{K Z}^G \mathcal{O} / p^n[K Z / H]_\zeta,
\end{equation*}
and then we might take an inverse limit, giving
\begin{equation}\label{eq:cnpp1gy22u}
  \mathcal{O}[[G]]_\zeta
  =
  \varprojlim 
  \widehat{\mathcal{O}[G]_\zeta  \otimes_{  \mathcal{O}[K Z]_\zeta }  \mathcal{O} / p^n[K Z / H]_\zeta }
  = \widehat{\ind_{K Z}^G \mathcal{O}[[K Z]]_\zeta}.
\end{equation}
So it's this inverse limit of the gadgets that were used for checking ``finitely presented''.  You can either think of this as literally the inverse limit of a topological ring, or as a formal inverse limit -- not an object of $\mathcal{A}$, but an object of $\operatorname{Pro} \mathcal{A}$.

So again, if we actually were looking at the category of modules over a ring, this would be projective over that, but instead it's a projective pro-generator.  In fact, it is the case that this category fully faithfully embeds in the category of finitely presented modules over this last ring \eqref{eq:cnpp1gy22u}.  The key thing is that, to the extent that our category $\mathcal{A}$ is a category of modules over anything, it is a category of modules over this ring \eqref{eq:cnpp1gy22u}, and so to find a kernel, we should apply our functor to this ring, leading us to consider
\begin{equation*}
  L_\infty := \mathfrak{a} \left( \mathcal{O}[[G]]_\zeta \right).
\end{equation*}
Applying our functor to this pro-object should lead to another pro-object.  One of the first properties (not obvious) is that what this will give will be a pro-coherent sheaf (rather than a pro-complex).  The name $L_\infty$ goes back to a paper (with Caraiani, Gee, Shin, others) studying patching, where we posited a hypothetical true $p$-adic local Langlands object; ``$L$'' was chosen because it came next to ``$M$'' in the alphabet.

The Morita-theoretic yoga we were just recalling is that $\mathfrak{a}$ is given by
\begin{equation*}
  \pi \mapsto L_\infty \otimes_{\mathcal{O}[[G]]_\zeta} \pi.
\end{equation*}
Here $\pi$ is an object of $\mathcal{A}$, or more generally $D_{\mathrm{fg}}^{\mathrm{b}}(\mathcal{A})$.  You can resolve $\pi$ by considering free modules over this ring or via compact inductions at finite levels.  If you just resolve $\pi$ by finitely presented modules over this ring (which you can do), then you just get copies of $L_\infty$, which is a pro-object.  So something you have to prove is that you actually land in coherent sheaves when you put in a $\pi$, rather than just pro-coherent sheaves.  Note that $L_\infty$ is pro-coherent (rather than coherent), so this is something special about $\pi$.

Okay, but first, we have to know what $L_\infty$ actually is.  For this, you have to guess.  It's given by the ideas of Colmez, who explained how to convert $2$-dimensional Galois representations into representations of $G_{\mathbb{Q}_p}$ (a rather small object of $\mathcal{A}$).  He did it by a formula: take your Galois rep, turn it into a $(\varphi, \Gamma)$-module $V$, then take
\begin{equation*}
  D^{\natural} \otimes _{\zeta \eps^2} \mathbb{P}^1.
\end{equation*}
(This is notation Colmez introduced.)  Here $\mathbb{P} ^1$ has an action of $\GL_2(\mathbb{Q}_p)$.  We do this for the universal $(\varphi, \Gamma)$-module over $\mathfrak{X}$.  That is to say, our stack has a universal $(\varphi, \Gamma)$-module, and we check that we can implement Colmez's construction naturally, producing this object.

What this object will look like is sort of, if this formal stack $\mathfrak{X}$ were some formal spectrum $\operatorname{Spf} A$ of some ring $A$ (say locally in the fppf topology), then the $(\varphi, \Gamma)$-module is some finite rank module over something like $\mathbb{A}_{\mathbb{Q}_p}$, but with $\mathbb{Z}_p$ replaced by this other algebra $A$.  Then, roughly, $\mathbb{P}^1$ looks like a power series ring.  So if you're on a chart on $\mathfrak{X}$ of the form $\operatorname{Spf} A$, then $L_\infty$ is roughly $A[[T]]$.  So we're already seeing the coefficients $A$ (which is a bit like the structure sheaf of $\mathfrak{X}$, pro just along the formal directions in $\mathfrak{X}$) but also this $[[T]]$, which is another pro direction.  That's the pro nature of this $L_\infty$.

Having produced this $L_\infty$, it's not clear that the resulting functor does anything that you want, e.g., that it lands in $D_{\mathrm{coh}}^{\mathrm{b}}(\mathfrak{X})$ rather than some more pro version, and it's not clear that it's fully faithful.  So to study this functor, we need some tools.  We want to conclude the talking by saying what those tools are.  For that, we need to come back to $\mathfrak{X}$, which we recall is this stack of $(\varphi, \Gamma)$-module.  Fontaine tells us that if we take a point of $\mathfrak{X}$ over some (literally) finite $\mathcal{O}$-algebra, that's a rank two $(\varphi, \Gamma)$-module, then this gives a Galois representation.  So if you probe $\mathfrak{X}$ with small rings, you get Galois representations.  But if you probe $\mathfrak{X}$ with \emph{big} rings, you get stuff that's too big.  But somehow
\begin{equation*}
  \mathfrak{X}[\overline{\mathbb{F}_p}]
  \leftrightarrow
  \bar{\rho} : G_{\mathbb{Q}_p} \rightarrow \GL_2(\overline{\mathbb{F}_p}).
\end{equation*}
Now $\mathfrak{X}$ is an algebraic stack, so it has these $\overline{\mathbb{F}_p}$-points (what you might call ``finite type'' points), which, if it were a variety, would be the closed points, but here we have an Artin rather than Deligne--Mumford stack, so such points are not in general closed, but instead specialize to semisimplifications.  Thus the semisimple $\bar{\rho}$'s correspond to the closed $\overline{\mathbb{F}_p}$-points:
\begin{equation*}
  \mathfrak{X}(\overline{\mathbb{F}_p})_{\mathrm{closed}}
  \leftrightarrow \bar{\rho}^{\mathrm{ss}}.
\end{equation*}

There's another thing, a scheme $X$ (that will in the minute be a formal scheme over $\operatorname{Spf} \mathcal{O}$), such that $X(\overline{\mathbb{F}_p})$ is in bijection with $\mathfrak{X}(\overline{\mathbb{F}_p})_{\mathrm{closed}}$.  The underlying reduce scheme $X_{\red}$ will be a chain of copies of the projective line, where the number of them is $\tfrac{p \mp 1}{2}$, where the sign is given by $\zeta(- 1) = \pm 1$.  What we claim is that semisimple Galois representations naturally arrange themselves in this way.  It's an observation that in some sense goes back to computations in the beginning of this century that were later brought out in conversations of Berget and Breuil, and partly pointed out by Kisin, but kind of carefully noted and promoted to thinking you could really think about by Emerton and Gee, as part of this $E G$ stack, and so we'll maybe tell you how this goes, at least briefly.

We'll be looking at the reduction $\overline{\eps}$ of our cyclotomic character mod $p$.  Maybe we're looking at a direct sum of two characters, say
\begin{equation}\label{eq:cnpp1hxgb1}
  \begin{pmatrix}
    w_\alpha \cdot \bar{\eps}^i    &  \\
                                   & w_{\alpha^{-1}} \cdot \bar{\eps}^{-(i + 1)} \\
  \end{pmatrix}.
\end{equation}
Here $i$ is a discrete variable, while $\alpha$ lives in some $\mathbb{G}_m$.  This kind of a thing is a common thing you'll see in number theory talks on Galois representations.  A general principle in mathematics, going back at least to Arabic algebraists (pre-Renaissance), is that a piece of notation can refer either to a number or a variable, and this leads to the idea of the $E G$ stack, which is that \eqref{eq:cnpp1hxgb1} should really be a family of things.  Now, what happens if you let $\alpha$ go to $\infty$?  There's a natural way to think about it coming from the theory of reduction of crystalline theorems (or Serre's conjectures, etc).  If you send $\alpha$ to $0$, then the above will go to an irreducible induction, then take the inverse to get what happens near $\infty$.

So what we said is tha tthe closed points of $\mathfrak{X}$ are in bijection with these semisimple guys, and once you know that, there's a unique way to produce a morphism of underlying topological spaces,
\begin{equation*}
  \lvert \mathfrak{X} \rvert \rightarrow \lvert X \rvert,
\end{equation*}
once you've matched the closed points.  Then you can essentially push forward the structure sheaf on $\mathfrak{X}$ to get a structure sheaf $\mathcal{O}_X = f_\ast \mathcal{O}_{\mathfrak{X}}$ under $f : \mathfrak{X} \rightarrow X$.  By Paskunas, semisimple $\bar{\rho}$ correspond to \emph{blocks} of $A$ that are locally admissible (colimits of admissible).  One can make the following:
\begin{definition}
  Given a closed subset $Y \hookrightarrow \lvert X \rvert$, we define
  \begin{equation*}
    \mathcal{A}_Y := \left\{
      \begin{array}{@{}l@{}}
        \pi \in \mathcal{A} : \text{all nonzero subquotients} \\
        \text{of $\pi$ lie in blocks} \\
        \text{induced by $Y \in \mathcal{Y}$}
      \end{array}
    \right\} \subseteq \mathcal{A}.
  \end{equation*}
  We then define, for $U := \lvert X \rvert - Y$, the quotient
  \begin{equation*}
    \mathcal{A}_U := \mathcal{A} / \mathcal{A}_Y.
  \end{equation*}
\end{definition}
We then have the following result \cite[Theorem 1.1.1]{2022arXiv2207.04671}:
\begin{theorem}[DEG]
  $\tilde{\mathcal{A}} : U \mapsto A_U$ is a stack of abelian categories over $\lvert X \rvert$, with $\Gamma(X, \tilde{\mathcal{A}}) = \mathcal{A}$.
\end{theorem}

Now for $x \in X(\overline{\mathbb{F}_p})$, we have a formal substack $D_{\mathrm{fg}}^{\mathrm{b}}(\mathcal{A}_x) \xrightarrow{\mathfrak{a}} D_{\mathrm{fg}}^{\mathrm{b}}(\mathfrak{X}_x )$.  In characteristic $p$, you can thicken up pseudorepresentations, but not deform them nontrivially.  These sort of stacks were first studied by Carl(?)--Wang--Erickson.  Using Colmez--Paskunas's work, and then the work of Johansson--Newton--Wang--Erickson, we can rewrite
\begin{equation*}
  \mathfrak{a} |_{D_{\mathrm{fg}}^{\mathrm{b}}(\mathcal{A}_x)}
\end{equation*}
in terms of Colmez's functors, and then using the mentioned work in this rewritten form, we deduce that this functor is fully faithful.  This version of the functor was thus already studied in somewhat disguised form by those authors.  We thus have some ``fully faithfulness'' available.  With that in hand, our arguments need to combine with this localization theory and diagrams like
\begin{equation*}
  \begin{CD}         
    D^{\mathrm{b}}_{\mathrm{fg}}(\mathcal{A})    @> \mathfrak{a}>> D_{\mathrm{coh}}^{\mathrm{b}}(\mathfrak{X})\\
    @VVV  @VVV \\
    D_{\mathrm{fg}}^{\mathrm{b}} @>> \mathfrak{a}_U> D_{\mathrm{coh}}^{\mathrm{b}}(f^{-1}(U)).\\
  \end{CD}
\end{equation*}
to get to the whole setting.  That's roughly how we prove the theorem.

We note that nearly everything in the proof is specific to $\GL_2(\mathbb{Q}_p)$, in a very fundamental way.

\begin{remark}
  $\mathfrak{X}$ makes sense in great generality, but $X$ does not.
\end{remark}

[next talk at 11:00!!!!]

\part{Andrew Wiles (University of Oxford), \emph{Non-abelian descent and modularity}}

\begin{abstract}
  I will present a new approach to modularity based on the trace formula and using some ergodic
  and analytic arguments.
\end{abstract}

So I've been thinking for a long time now about how to prove modularity more generally.  Modularity lifting is in very good shape, whereas proving residual modularity is much more hard, and besides the theorem of Khare and Wintenberger, there isn't something very general.  Seems extremely difficult to generalize Khare--Wintenberger directly, so I've been trying to take the approach using potential modularity, which is known quite generally.  Suppose you have a representation ($\ell$-adic, or a compatible system) $\rho$, over some totally real field $F_0$.  You know that if you take some not-necessarily-solvable totally real field $F$ of $F_0$, passing from $\rho$ to $\tilde{\rho}$, then you can find an automorphic form $f$ that corresponds to $\tilde{\rho}$.  This $f$ will be invariant (since $\tilde{\rho}$ comes from $F_0$), and the question then arises: does $f$ equal to the lift $\tilde{f}_0$ of some $f_0$?  Namely, can we find the $f_0$ over $F_0$ such that the natural diagram commutes?  That will be a way of finding modularity.  Thus, potential modularity reduces the problem to descent, but unfortunately, it's nonsolvable descent.

One example where we can do this is cyclic base change, where we do get descent, but cyclic base changes depends upon the trace formula, and this works in contexts where you have (inner) forms or a group, or when you have a subgroup given by invariance under one element, as is the case for cyclic base change.  For non-solvable base change, invariance is much more subtle, so we trade one problem for a much harder one.

What we're going to do is cyclic base change in a slightly different context from normal and see how to replace the arguments in that.

Let's take $F$ and $F_0$ totally real number fields.  We're going  to assume that $F / F_0$ is a cyclic extension, with Galois group generated by some element $\sigma$.  (This generality is sufficient for what we want to use it for.)  We assume moreover that $F / F_0$ is unramified.  Let $D_0$ be a quaternion algebra over $F_0$ that is ramified at all the infinite places and unramified at the finite ones.  To do this, we need to assume that $[F_0 : \mathbb{Q}] \equiv 0 \pmod{2}$.  This restriction on the finite places is not really essential, but as we'll explain later, there's a reason why we wanted to include it.

We then form a Shimura variety (really a set)
\begin{equation*}
  X_0 := X_0(U_0) =
  D_0^\times \backslash D_{0, f}^\times  / U_0,
\end{equation*}
where
\begin{itemize}
\item $D_0^\times$ is the multiplicative group of our quaternion algebra,
\item $D_{0, f}^\ast$ is its group of finite adelic points, and
\item $U_0$ is some level structure, say $U_0 = U_0(\mathfrak{n}_0)$ (``$\Gamma_0(\bullet)$'' structure) with $\mathfrak{n}_0$ square-free.
\end{itemize}
We then have a space
\begin{equation*}
  S(U_0) = \left\{ f : X_0(U_0) \rightarrow \mathbb{C}  \right\}. 
\end{equation*}
It might seem like this is a very simple structure, but it carries the action of the Hecke operators in the usual way, and moreover, by the theorem of Jacquet--Langlands and Shimizu, this $S(U_0)$ is isomorphic as a Hecke module to the space of weight two Hilbert modular forms of level $U_0$.  I'm going to work with these spaces instead of with $\GL_2$ and Hilbert modular forms.  From the point of view of the trace formula, basically we're focusing on the elliptic elements in the trace formula.  I think one could do this for $\GL_2$ instead, but it's simpler and easier to handle if we do it in this context.

Let's turn to the trace formula.  Trace of what?  Let $(\pi_0) \subseteq \mathcal{O}_{F_0}$ be a prime that splits completely in $F$, thus $\pi_0 = \prod_i \pi^{\sigma^i}$, with $(\pi) \subseteq \mathcal{O}_F$.  What we want to compute is the trace on the space of forms here.  We're going to consider the vector space $\mathbb{C}[X_0]$, which has two important bases:
\begin{enumerate}
\item\label{enumerate:cnpp1no6c8} $X_0$ itself, given characteristic functions of points $t_{0, i}$, and
\item\label{enumerate:cnpp1npes7} a basis of eigenforms $\mathcal{F}_0$ for the Hecke operators.
\end{enumerate}
What we want to compute is the trace of $T_{\pi_0}$.  We can express this analytically in terms of $\mathcal{F}_0$, and geometrically in terms of the points.  We write this as
\begin{equation*}
  \trace T_{\pi_0} |_{\mathcal{F}_0}
  = \lvert T_{\pi_0} \cdot \Delta_{X_0} \rvert,
  \qquad
  \Delta_{X_0} = \Delta \subset X_0 \times X_0.
\end{equation*}

What we need to do is to relate the trace of $T_{\pi_0}$ on $\mathcal{F}_0$ to $T_{\pi}$ acting on the space of invariant forms over $F$.  But the way of getting from $X_0$ to $X$ is going to be via the geometric side.  So we want to understand what this set $T_{\pi_0} \cdot \Delta_{X_0}$ is.

So, what is an element $Q \in T_{\pi}$?  We pick some $t_{0, i}$, some coset representative $\varpi_{\pi_0}$, and we write 
\begin{equation*}
  t_{0, i} \varpi_{\pi_0 } = \gamma_0 t_{0, i} u_0,
\end{equation*}
where $\gamma_0 \in D_0^\times$ and $u_0 \in U_0$.  So we get some expression like that, and reading off from this, we can see for instance that $\gamma_0$ has determinant (or norm) of the same ideal as $\pi_0$.

So associated to this $Q$, we have some $t_{0, i}$ (some representative of $X_0$) and an element $\gamma_0$ of $D_0^\times$.  It moreover satisfies a quadratic equation over $F_0$, so it actually lies in some quadratic extension
\begin{equation*}
  L_0 = F_0(\gamma_0).
\end{equation*}
That quadratic extension is necessarily CM (coming from the fact that $D_0$ is ramified at all infinite places).

Now, what we want to do is associate a similar kind of thing over $F$.  So, to get over $F$ from the element $\gamma_0$, we choose
\begin{equation*}
  \gamma \in L = F(\gamma_0)
\end{equation*}
so that
\begin{equation}\label{eq:cnpp1n6c66}
  \mathcal{N}_{L / L_0}(\gamma) = \gamma_0.
\end{equation}
(Because it's a cyclic extension, class field theory tells you that you only need to check this locally.  It's easy to see from our construction and Hasse's theorem that such a $\gamma$ exists.)  In view of \eqref{eq:cnpp1n6c66}, it's easy to see that
\begin{equation*}
  (\gamma) = \mathfrak{b}^{\sigma - 1} \mathfrak{p},
\end{equation*}
where $n(\mathfrak{p}) =(\pi)$ is a prime divisor of $\pi$, lying above the corresponding factorization of $\gamma_0$.  So we have a prime factorization like this and can turn it back into adelic language.  If we pick adelic representatives for the ideals, then we can write this as
\begin{equation*}
  \beta^\sigma \omega_{\pi} = \gamma \beta u.
\end{equation*}
Now, what does this say?  Thinking about it, it gives us an element of $T_\pi \sigma \cdot \Delta_X$, where $X = X(U_0)$ is defined like $X_0$, but now over $F$, in terms of $D = D_0 \otimes_{F_0} F$.

So what we've ended up with is a map
\begin{equation}\label{eq:cnpp1oiwza}
  T_{\pi_0} \cdot \Delta_{X_0} \hookrightarrow T_{\pi^\sigma} \cdot \Delta_X.
\end{equation}
Now we want to analyze surjectivity.  In the trace formula (for cyclic base change, anyway), enormous use is made of the norm operator, which is defined like the usual norm operator, but defined on the non-abelian group $D^\times$ rather than just on the multiplicative group of some field such as $F^\times$.  This requires making a choice, such as
\begin{equation*}
  \mathcal{N}_\sigma : D \ni y \mapsto y y^{\sigma} y^{\sigma^2} \dotsb.
\end{equation*}
Obviously the norm of $\gamma$ is $\gamma_0$.  What you find is that
\begin{equation*}
  \mathcal{N}_\sigma(\gamma_1) \sim \mathcal{N}_\sigma(\gamma_2) \implies \gamma_1 \sim^\sigma \gamma_2.
\end{equation*}
Here
\begin{itemize}
\item $\sim$ denotes conjugacy,
\item $\sim^\sigma$ denotes $\sigma$-conjugacy.
\end{itemize}
You can show in this way that there's actually a converse map to \eqref{eq:cnpp1oiwza}.  That's the mechanism that the proof of cyclic base change will use.  Actually, this refines \eqref{eq:cnpp1oiwza} to an isomorphism.

Now in the usual development of cyclic base change, it's important to note that the norm map only gives you a norm map on conjugacy classes, i.e. it's not well-defined on elements.  You can thus compare orbits and, more generally, orbital integrals, using this.  But we're not going to get into it, because this method doesn't work in the non-solvable case at all.

We get that far, and with what we have, we can now complete the proof of base change in this case.  We have
\begin{equation*}
  \trace T_{\pi_0} |_{\mathcal{F}_0} =
  \lvert T_{\pi_0} \cdot \Delta_{X_0} \rvert
  =
  \lvert T_{\pi^\sigma} \cdot \Delta_X \rvert
  =
  \trace T_{\pi^\sigma} |_{\mathcal{F}}
  = \trace T_\pi |_{\mathcal{F}^{\mathrm{inv}}}.
\end{equation*}
Here
\begin{itemize}
\item the second equality comes from the geometric argument that we just gave,
\item the third equality comes from the trace formula for $X$, 
\item the fourth equality uses that $\sigma$ permutes the non-invariant forms, but is trivial on the invariant ones.
\end{itemize}
Okay, we've only done this for certain $\pi$ (splitting completely into principal ideals), but now Cebotarev, using the associated Galois representations, tells us that we get this for all places.

So that's what we want to model this argument about generalizing the trace formula on.

The first key problem in doing so is that, as I said, we don't have one $\sigma$, so we can't apply this argument.  But also, the cohomological method simply doesn't work more generally.

We replace this now, as in class field theory, we find an analytic argument to replace this cohomological argument.  Let me explain that first, since this is much simpler.  Let's focus on the case of a non-solvable extension, with no abelian subquotient.  We'll continue to use $F$ and $F_0$ for the two fields, and we write $d =[F : F_0]$ for their degree.  We again choose primes $\pi_0$ in $F_0$ that split completely into principal primes in $F$, and consider the following sum
\begin{equation}\label{eq:cnpp1o4jp4}
  \sum_{\pi_0} \frac{1}{d}
  \sum_{\pi \mid \pi_0}
  \sum_{f \in \mathcal{F}^{\mathrm{inv}}}
  a_\pi(f) \cdot \operatorname{Norm}(\pi)^{- s}.
\end{equation}
Here, again, $\mathcal{F} ^{\mathrm{inv}}$ is (a basis for) the space of forms invariant under the action of the Galois group.

\begin{remark}
  ``Invariant'' is in a suitably defined sense -- there is a choice here regarding whether to take things up to twist.  The thing that's confusing is that invariant cyclic Galois representations do not descend, but that's the only obstruction.  For instance, projective representations always descend.
\end{remark}

We're going to compare that, on the one hand, to
\begin{equation}\label{eq:cnpp1pcyts}
  \sum_{\pi_0} \sum_{f \in \mathcal{F}_0}
  a_{\pi_0}(f_0)
  \operatorname{Norm}(\pi_0)^{- s}.
\end{equation}
Here, as before, $\mathcal{F}_0$ is a basis for eigenforms on $F_0$.

In the above, we further restrict $\pi_0$ to primes of degree $1$ that split completely in $M$, a totally real field that contains the Hilbert class field $H_F$ of $F$.  The first sum \eqref{eq:cnpp1o4jp4} would then be the main part contributing to these $L$-functions for the supposed base changes to $M$ of these forms.  That is to say, if we actually had base changes to $M$, then this would be the main part, at least as far as convergence goes; the rest over $M$ (if they existed) would have Dirichlet series that converge at $\Re(s) = 3/2$.

By potential automorphy, we can choose $M$ such that $\mathcal{F}_0$ and $\mathcal{F}$ are simultaneously automorphic over $M$.

If we make a similar construction as in the discussion of cyclic base change, then the coefficients here in the non-solvable case would be
\begin{equation*}
  \frac{1}{d} \sum_{\pi_0} \sum_{\pi \mid \pi_0} \sum_{f \in \mathcal{F}^{\mathrm{inv}}}
  a_{\pi}(f)  
\end{equation*}
will be greater than or equal to
\begin{equation*}
  \sum_{\pi_0}  \sum_{f_0 \in \mathcal{F}_0 }
  a_{\pi_0}(f),
\end{equation*}
so the difference is nonnegative.  Now they're not cuspidal these two, but we can match up the Eisenstein parts of \eqref{eq:cnpp1pcyts} and \eqref{eq:cnpp1pcyts} easily.  We thus obtain an $L$-function that is cuspidal (i.e., no pole) and has positive coefficients.  It's not difficult to deduce that for almost all $\pi_0$, we get equality.

That side of the argument, also as in class field theory, can be done relatively simply.  The problem is the construction.  How do we get this map between the two?  If we go back to the same kind of argument here (try and construct a $\gamma$ in the same way), we can find that the norm of $\gamma$ is $\gamma_0$, but what happens is that you get the identity, of ideals in $L = F(\gamma_0) = F(\gamma)$,
\begin{equation*}
  (\gamma) = \prod_t \mathfrak{b}_t^{\sigma_t - 1} \cdot \mathfrak{p}.
\end{equation*}
(This uses some class field theory.  You have to set it up right.  It's not trivial, but you can put yourself in this situation.  It's not just Hasse's theorem, as in the cyclic case.)  We don't have a $\sigma$ that is picking out the invariant forms.  What I want to do now is, instead of what I did before, let's view this as one entry of 
\begin{equation}\label{eq:cnpp1ptgfj}
  (\prod T_{b_t} \sigma_t) T_\pi t_{0, i}
  = \prod T_{b_t} \cdot t_{0, i},
\end{equation}
where $b_t = n_{L / F}(\mathfrak{b}_t)$.

\textbf{Step 1}. Replace $T_\pi$ by $T_\pi T_\alpha$, where $T_\alpha$ projects to the invariant part.  Once you've done that, because $T_\alpha$ projects, the identity \eqref{eq:cnpp1ptgfj} becomes
\begin{equation}\label{eq:cnpp1pvo6p}
  T_\pi T_\alpha 
  \prod_t T_{b_t}   t_{0, i}
  = \prod_t T_{b_t}  t_{0, i}.
\end{equation}
Now what we do is choose our $T_{b_t}$ so that they're invertible.  We have to make sure we can do that in the original thing.  Then we view the products over $t$ in \eqref{eq:cnpp1pvo6p} as new basis elements.  Now we're getting something that looks more like the trace of of $T_\pi T_\alpha$.  For this, we need that $\prod T_{b_t}$ is invertible in $\mathbb{C}[X]$.

Okay, so that looks nice, but the issue is that in doing \eqref{eq:cnpp1ptgfj}, I only gave you one coset representative for the Hecke operator, but we need the whole Hecke operator, not just one entry.  This is where it becomes more complicated.  I'm not going to go into it in detail, but the idea is that you make the $b_t$'s complicated ideals (products of many ideals) and you consider different factorizations of $b_t$ and you get different representatives, and you have to do it in such a way that you can make sure you get all the representatives on both sides of \eqref{eq:cnpp1pvo6p}.  So you choose your $b_t$'s so that there are many prime factors, then you can always change each prime factor to its complex conjugate, which gives you a huge number of choices.  Making sure this works is a little like the ergodic method that people have used.  I don't want to go into the argument because it is rather involved, but for this argument to work, we need a version of Cebotarev in this context.  What it says is that
\begin{enumerate}
\item\label{enumerate:cnpp1p8snz} If you pick one of these CM fields $L_f^\times \rightarrow D_f^\times \rightarrow X(U_0)$, then this factors through some class group
  \begin{equation*}
    C_0 = L^\times \backslash L_f^\times / U_{\mathcal{O}}^\times \rightarrow X(U_0).
  \end{equation*}
  (Here $U_{\mathcal{O}}^\times$ is some level structure in $L_f^\times$, corresponding to the class group of an order.)  We need this to be surjective and equidistributed.  This can be proven using Waldspurger formula (Zhang, Tian, ...).  This kind of argument has been used in this context by Zhang in simpler settings, with some of the new refinements of Waldspurger.
\item\label{enumerate:cnpp1p8trm} If you have a map from $L_f^\times$ to \emph{two } copies of $X(U_0)$ that is twisted, say
  \begin{equation*}
    L_f^\times \rightarrow
    D_f^\times \times D_f^\times
    \rightarrow 
    X(U_0) \times X(U_0)
  \end{equation*}
  \begin{equation*}
    \ell_f \mapsto(\ell_f, \ell_f a_f)
  \end{equation*}
  where $a_f$ is some element of $L_f^\times$ corresponding to some ideal $\mathfrak{a}_f$ of sufficiently large norm, then you want this map to be surjective and equidistributed as the discriminant $D_{\mathcal{O}}$ tends to $\infty$.  This is the mixing conjecture (in this context) of Michel--Venkatesh \cite{MichelVenkateshICM}.
\end{enumerate}

Assertion \eqref{enumerate:cnpp1p8trm} is not yet proved.  Over $\mathbb{Q}$, Khayutin  has proved this.  Robinson, in his thesis, and generalized some of this to totally real fields.  Unfortunately, we actually need something a bit stronger: for the subgroup of squares $L_f^{\times 2} $, and even the subgroup of fourth powers $L_f^{\times 4}$.

How does Khayutin do this?  This proof depends initially upon a classification of measures of Einsiedler--Lindenstrauss.  Basically, the idea is quite $p$-adic.  Rather than doing it with level $U_0$, they allow the level at two primes to go to $\infty$ (as the discriminant goes to $\infty$) and get some invariance.  If you assume that the projections are surjective and equidistributed (which we know from the first method \eqref{enumerate:cnpp1p8snz}), then the joinings theorem of Einsiedler--Lindenstrauss says that the support must be on some joining.  Khayutin finds some nice system of neighborhoods to calculate whether there could be any.  Want to know that the measure comes from the full space rather than some Hecke operator.  Want to know that no Hecke operator captures too much of the image.  In other words, you're trying to bound the intersection of the Hecke operator with the image of this CM orbit.  Khayutin does this by reducing it to a counting argument involving counting numbers of points in a certain Diophantine geometric setup.  He manages to bound it using sieve theory, a relative trace formula, and arguments from Diophantine geometry.  It's got a strong $p$-adic sense to it, by taking level structures of this kind.  It does seem a bit reminiscent of the arguments of Cornut--Vatsal proving Mazur's conjecture.  But the part that needs proving is not in measure theory, but instead in number theory and Diophantine geometry.

Assuming this, you get modularity of all compatible systems as in Serre's conjecture.

\begin{remark}
  There is another approach to the mixing conjecture by Blomer--Brumley assuming GRH.
\end{remark}

\begin{remark}
  The reason we used ``split at all finite primes'' is that we think this should work for the Artin conjecture in simpler cases, because Artin representations are potentially automorphic -- go up to somewhere it's dihedral.  You might think I'm using potential automorphy in this analytic argument, and we are, because it's simpler, but you can always make that analytic argument over a solvable extension of the base field, using Brauer's theorem.  So we think it may be possible to understand the Artin conjecture from this point of view.
\end{remark}

\part{Pol van Hoften (VU Amsterdam), \emph{Igusa stacks and exotic Hecke correspondences}}

\begin{abstract}
  Xiao and Zhu have conjectured the existence of exotic Hecke correspondences between the mod $p$ fibers of different Shimura varieties. In this talk I will present a conjectural relationship between the Igusa stacks for different Shimura varieties, which implies the conjecture of Xiao—Zhu. I will then discuss a proof of this conjecture for a large class of Shimura varieties, and give applications to the global Jacquet—Langlands correspondence. This is joint work in progress with Jack Sempliner.
\end{abstract}

Let's say something about exotic Hecke correspondences.  This phrase was perhaps coined by Zhu, but it's a kind of theme in the geometry of Shimura varieties, which is that mod $p$ Shimura varieties for ``related groups'' have ``related geometry''.  Certainly in work of Ribet this already plays a role -- his proof of the $\eps$-conjecture involves passing because modular curves (such as in the ``$p$-$q$ switch'').  This was taken up by Helm, who considered unitary Shimura varieties.  There's then the work of Tian--Xiao; in the work of these two people, it was all a bit of an art.  The work of Xiao--Zhu turned it into more of a science by giving a rigorous formulation of when these sorts of things should exist, explaining where they should come from.

We would like to start by giving some examples so that we have a feeling for what these things are.  As a kind of bonus, the result that we'll state will apply to these examples.
\begin{example}\label{example:cnpp15n4tc}
  Let $F$ be a real quadratic field, with $p$ split.  To be precise, maybe we should fix an ordering $\{\infty_1, \infty_2 \}$ of the real place, and $\{ \mathfrak{p}_1, \mathfrak{p}_2\}$ for the $p$-adic places.  Let $S$ be the mod $p$ Hilbert modular surface, choosing the level in such a way that it has good reduction.  This is some nice smooth surface over $\mathbb{F}_p$.  We also need our Shimura curves.  For $i = 1, 2$, consider $B_i := B_{\infty_i \mathfrak{p}_i}$.  This is the quaternion algebra over $F$ ramified precisely at $\infty_i$ and $\mathfrak{p}_i$.  We denote the corresponding Shimura curve by $X_{B_i}$, over $\mathbb{F}_p$.

  What we're being vague about is that these Shimura curves are defined over $F$, the reflex field, and I'm not telling you what $p$-adic places I'm taking.  Secretly, we're fixing an isomorphism
  \begin{equation*}
    (B_i \otimes \mathbb{A}_f^p )^\times \cong \GL_2(\mathbb{A}_f^p),
  \end{equation*}
  and everything is canonical relative to this choice.

  Tian--Xiao tells us that
  \begin{equation*}
    X_{B_i, \overline{\mathbb{F}_p}} \hookrightarrow S_{\overline{\mathbb{F}_p}}
  \end{equation*}
  as a closed \emph{Goren--Oort stratum}.  (This surface has two Goren--Oort strata.)  These curves moreover sit inside here Hecke equivariantly.
\end{example}
\begin{example}\label{example:cnpp15w7ik}
  Let $E$ be imaginary quadratic.  Let $W$ be a Hermitian $E$-module of rank $2 n$.  Choose some Hermitian $E$-module $W'$ of rank $2 n$, with $W \otimes \mathbb{A}_f \cong W ' \otimes \mathbb{A}_f$.  So somehow, as Hermitian $E$-modules, they're isomorphic to each other.  Then at an inert prime $p > 2$ in $E$, we can consider the Shimura variety for $X$ over $\overline{\mathbb{F}_p}$, as well as the Shimura variety for $W'$, and there exists a correspondence (rather than just a map)
  \begin{equation*}
    \begin{tikzcd}
      & \operatorname{Sh}(W | W') \arrow[ld, "t"'] \arrow[rd, "s"] & \\
      \operatorname{Sh}(W')_{\overline{\mathbb{F}_p}} & & \operatorname{Sh}(W)_{\overline{\mathbb{F}_p}}
    \end{tikzcd}
  \end{equation*}
  and $s, t$ have image a closed nonempty union of Newton strata.  

  Note that if we were in the definite case for $W'$, then the corresponding Shimura variety would be a set; the picture thus depends upon the archimedean situation.

  There's thus some sort of art .
\end{example}

\begin{remark}
  If $\operatorname{Sh}(W)_{\overline{\mathbb{F}_p}}$ is a moduli of certain abelian varieties $A$ with $E$-action, and $\operatorname{Sh}(W')_{\overline{\mathbb{F}_p}}$ is a moduli of certain abelian varieties $B$, then
  \begin{equation*}
    \operatorname{Sh}(W | W')_{\overline{\mathbb{F}_p}} = \left\{ \text{$p$-power $E$-linear isogenies } A \rightarrow B \right\}.
  \end{equation*}
  Note that these things don't lift to characteristic zero, i.e., to $\overline{\mathbb{Q}}$, due to issues involving the signature when $W \not \cong W'$.
\end{remark}
This remark doesn't apply to the first example, Example \ref{example:cnpp15n4tc} but you have to be a bit careful because these Shimura varieties are \emph{not} of PEL type.  To construct these, you have to put yourself in a situation where, by passing to auxiliary Shimura varieties, you can do something related to abelian varieties.  This theme will also appear in the rest of the talk.

Given that we've identified $W$ and $W'$ over the adeles, given $\alpha$, we get in particular that
\begin{equation*}
  \operatorname{GU}(W)_{\mathbb{Q}_p}
  \cong 
  \operatorname{GU}(W')_{\mathbb{Q}_p} =: G.
\end{equation*}
Newton strata are indexed by the subsets $B(G, - \mu)$ and $B(G, - \mu ')$ of $B(G)$.  Here $\mu$ and $\mu '$ are cocharacters coming from the Shimura datum, recordeing the signature.  The Newton strata hit by the correspondence $(s,t)$ are precisely the intersection $B(G, - \mu ) \cap B(G, - \mu ')$.

Let $(\mathbf{G}, \mathbf{X})$ be a Shimura datum.  Fix a prime $p$, together with an isomorphism $\mathbb{C} \cong \overline{\mathbb{Q}_p}$.  Let $\mathbf{P}$ be a $\mathbf{G}$-torsor over $\Spec \mathbb{Q}$, and let $\mathbf{G} ' := \Aut_{\mathbf{G}}(\mathbf{P})$.

Note that in the setting of Example \ref{example:cnpp15w7ik}, the torsors in the unitary setting classify unitary spaces, and the $\mathbf{P}$ that we're taking corresponds to $W'$.  Fix an isomorphism
\begin{equation*}
  \mathbf{P} \otimes \mathbb{A}_f^p \cong \mathbf{G} \otimes \mathbb{A}_f^p.
\end{equation*}
This corresponds to fixing a $W'$ and fixing this isomorphism, although we're happy to fix it at the adeles away from $p$.

Let $\mathbf{X} '$ be a Shimura datum for $\mathbf{G}'$.  We're assuming it exists.  In the case of unitary Shimura varieties, there's not much choice, because it's pinned down by what happens at $\infty$.  But we can certainly write down an orthogonal group with some signature condition for which there are no Shimura data.  We thus need to put some condition here.
We can consider
\begin{equation*}
  \operatorname{Sh}(\mathbf{G}, \mathbf{X})_{\mathbf{E}}, \qquad
  \operatorname{Sh}(\mathbf{G} ', \mathbf{X} )_{\mathbf{E} '},
\end{equation*}
where maybe we're secretly taking an inverse limit over levels away from $p$.
\begin{conjecture}[Scholze]
  There are Igusa stacks $\operatorname{IGS}(\mathbf{G}, \mathbf{X}) \rightarrow \mathrm{Bun}_{G}$ and $\operatorname{IGS}(\mathbf{G} ', \mathbf{X}) \rightarrow \mathrm{Bun}_{G'}$.
\end{conjecture}

You might argue that there are two or three possible Igusa stacks, but that cannot be the case -- these are actually unique if they exist (work in progress of Kim).  So we can really work with these objects as if they're unique.  They also exist in the Hodge type case.

In order to compare these two Igusa stacks, well, one lives over $\mathrm{Bun}_G$, the other over $\mathrm{Bun}_{G'}$.  Set $G := \mathbf{G}_{\mathbb{Q}_p}$ and $G' := \mathbf{G} '_{\mathbb{Q}_p}$.  Then $P := \mathbf{P}_{\mathbb{Q}_p}$ is a $G$-torsor over $\mathbb{Q}_p$, and you can think of this as a basic element of the Kottwitz set, giving an element of $\mathrm{Bun}_G(\mathbb{F}_p)_{\mathrm{basic}}$, and Fargues--Scholze will tell you that there is an isomorphism that somehow sends the class of $P$ to the class of $1$:
\begin{equation*}
  \mathrm{Bun}_G \rightarrow \mathrm{Bun}_{G '}
\end{equation*}
\begin{equation*}
  [P] \mapsto [1].
\end{equation*}
One Igusa stack lives over $\mathrm{Bun}_G$, the other over $\mathrm{Bun}_{G'}$, so we can relate them.  In fact, Igusa stacks live over $\mathrm{Bun}_{G, \mu} \subset \mathrm{Bun}_G$ and $\mathrm{Bun}_{G', \mu '} \subset \mathrm{Bun}_{G'}$, so we let $\mathrm{Bun}_{G, \mu, \mu '}$ and $\mathrm{Bun}_{G', \mu, \mu '}$ be their intersections.  We'll then have our Igusa stacks
\begin{equation*}
  \operatorname{IGS}(\mathbf{G}, \mathbf{X}) \mu '
  \rightarrow
  \mathrm{Bun}_{G, \mu, \mu '},
\end{equation*}
\begin{equation*}
  \operatorname{IGS}(\mathbf{G}', \mathbf{X}') \mu
  \rightarrow
  \mathrm{Bun}_{G', \mu, \mu '}.
\end{equation*}

\begin{conjecture}[Sempliner + E]\label{conjecture:cnpp17dreg}
  There is a $\mathbf{G}(\mathbb{A}_f^p)$-equivariant isomorphism
  \begin{equation*}
    \begin{tikzcd}
      & \operatorname{IGS}(\mathbf{G}, \mathbf{X}) \mu ' \arrow[ld, "t"'] \arrow[rd, "s"] \arrow[r] 
      & \operatorname{IGS}(\mathbf{G} ', \mathbf{X} '){\mu} \arrow[d] 
      \\
      \mathrm{Bun}_{G, \mu, \mu '} & & \mathrm{Bun}_{G', \mu, \mu '}
    \end{tikzcd}
  \end{equation*}

\end{conjecture}

[speaker in the way of his conjecture]

\begin{remark}
  For $b \in B(G, \mu, \mu ')$, we get $G(\mathbb{A}_f^p) \times \tilde{G_b}$-equivariant isomorphisms
  \begin{equation*}
    \operatorname{IG}^b(\mathbf{G}, \mathbf{X}) \times \operatorname{IG}^b(\mathbf{G} ', \mathbf{X} '),
  \end{equation*}
  geometrizing work of G?--T?.
\end{remark}

\begin{remark}
  There should be a version with $\mathbb{P}$ allowed to be a Kottwitz cocycle (Sempliner--Taylor).
\end{remark}

\begin{remark}
  Note that $H^1(\Res_{F / \mathbb{Q}} \GL_2) = 0$.  From our point of view, this explains why you have to go to an auxiliary unitary Shimura variety in this work of Tian--Xiao.
\end{remark}

\begin{remark}
  If the Igusa stacks moreover satisfy the integral diagram
  \begin{equation*}
    \begin{CD}         
      S_{K_p}(\mathbf{G}, \mathbf{X})^{\mathrm{an}} @>>> \operatorname{Sht}_{g, \mu}^{\mathrm{an}}\\
      @VVV  @VVV \\
      \operatorname{IGS}(\mathbf{G}, \mathbf{X}) @>>> \mathrm{Bun}_G\\
    \end{CD}
  \end{equation*}
  then this implies and generalizes a conjecture (or hypothesis) of Xiao--Zhu.  There's just a small diagram chase to relate this conjecture to theirs.  Gives
  \begin{equation}\label{eq:cnpp17s7i9}
    \mathbf{P}_{\mathbb{Q}_p} \xrightarrow{\cong} \mathbf{G}_{\mathbb{Q}_p}.
  \end{equation}
\end{remark}

\begin{remark}
  Often, there aren't so many of these $\mathbb{P}$'s.  The situation is most interesting for adjoint groups.  Most adjoint groups will just have these cohomology classes lying around.  
\end{remark}

Let's give one more example.

\begin{example}[New]
  Let $F$ be real quadratic.  Let $V$ over $F$ be a quadratic space (something with a quadratic form).  We want the signatures to be $(2, n - 2)$ and $(2, n - 2)$, with $n$ \emph{odd} (odd orthogonal groups are nicer than even orthogonal groups for many reasons).  We take $\mathbf{G} = R_{F / \mathbb{Q}} \SO(V)$, and $p$ split in $F$ such that $\mathbf{G}_{\mathbb{Q}_p}$ is split.  We take $\mathbf{G} ' = R_{F/ Q} \SO(V')$, where $V \otimes \mathbb{A}_f^p \cong V' \otimes \mathbb{A}_f^p$, and $V_{\mathbb{R}}'$ has signature $(2, n - 2)$, $(0, n)$ and $V_{\mathfrak{p}_2}'$ is non-split, $V_{\mathfrak{p}_1}'$ is split.

  There's a similar story in type C, where you take symplectic groups, change them at one infinite place and one corresponding $p$-adic place if $p$ is split.
\end{example}

We need two assumptions.
\begin{theorem}[vH--Sempliner]
  Suppose $\mathbf{G}_{\mathbb{Q}_p}$ is split over an unramified extension (not necessarily quasi-split), $p > 2$, and some technical condition is satisfied, and $(\mathbf{G}, \mathbf{X})$ is of Hodge type, then Conjecture \ref{conjecture:cnpp17dreg} holds.

  This result is conditional on the conjecture of Xiao--Zhu concerning Hecke correspondences, although they have announced the proof as of last year.  (For $\mathbf{G}_{\mathbb{Q}_p}$ quasi-split and $\mathbf{P}_{\mathbb{Q}_p} \cong \mathbf{G}_{\mathbb{Q}_p}$ trivial.)
\end{theorem}

Now, what we can do is go back to this comment that the conjecture is most interesting for adjoint groups.  Given adjoint abelian type $\mathbf{G}, \mathbf{X}, \mathbf{P}$, you can ask if there is a Hodge type
\begin{equation*}
  (\mathbf{G}_2, \mathbf{X}_2, \mathbf{P}_2) \rightarrow(\mathbf{G} , \mathbf{X} , \mathbf{P}).
\end{equation*}
It's hard to answer this question in the negative, because then you need to classify Hodge type Shimura varieties or something.  This is always true in type B and type C.  It's sometimes true in type $\mathbb{D}^{\mathbb{R}}$, $\mathbb{D}^{\mathbb{H}}$, and $A$.  (If your group is locally $\GL_n$ at $p$, then we don't know how to show that.)  This is work in progress.  In the function field case there are no conditions and you can write anything down, more-or-less.

In my remaining time, I don't want to say too much about the proof.  If you really want to know it, there's a YouTube video from Bonn last year.  The point is to go in the Xiao--Zhu case ($G_{\mathbb{Q}_p}$ is quasi-split and the torsor is trivial) and look at what their theorem on exotic correspondences tell you, then with some effort, you realize that you can reverse the arrow in \eqref{eq:cnpp17s7i9}.

Leads to a fixed point theorem for Igusa stacks.

Let's conclude by discussing \emph{applications to cohomology}.  We give the theorem first.
\begin{theorem}[vH--Sempliner]
  If the conjecture holds for $(\mathbf{G}, \mathbf{X}, \mathbf{P})$, then we can compare the cohomology of the two different Shimura varieties: for $\phi$ a supercuspidal Fargues--Scholze $L$-parameter
  \begin{equation*}
    W_{\mathbb{Q}_p} \rightarrow {}^L G = {}^L G'
  \end{equation*}
  from the Weil group of $\mathbb{Q}_p$ to the dual group of $G$ (or equivalently, of $G'$), we can prove that
  \begin{equation*}
    R \Gamma_{\acute{e}t}(\operatorname{Sh}(\mathbf{G}, \mathbf{X}), \overline{\mathbb{Q}_p})_{\phi}
    \neq 0 \iff
    R f_{\acute{e}t}(\operatorname{Sh}(\mathbf{G} ', \mathbf{X} '))_{\phi} \neq 0.
  \end{equation*}
  More precisely, if $\phi$ satisfies
  \begin{equation*}
    \Stab_\phi = Z(\hat{G})^{\Gamma_p}
  \end{equation*}
  and if $\mathbf{P}_{\mathbb{Q}_p}$ is trivial, then what happens is that
  \begin{equation*}
    R f_{\acute{e}t}(\operatorname{Sh}(\mathbf{G}, \mathbf{X}), \mathbb{Q}_{\ell})
  \end{equation*}
  is a direct summand over $G(\mathbb{A}_f^p)$ of
  \begin{equation*}
    R \Gamma_{\acute{e}t}(\operatorname{Sh}(\mathbf{G}, \mathbf{X}), \overline{\mathbb{Q}_p})_{\phi},
  \end{equation*}
  or vice-versa.  But this inclusion is not Galois-equivariant.  

  If you like, you can put $\overline{\mathbb{F}_{\ell}}$-coefficients there.  
\end{theorem}
\begin{proof}
  Glue together Igusa stacks to build
  \begin{equation*}
    \tilde{\mathcal{F}}
    \in D_{\acute{e}t}(\mathrm{Bun}_G)
  \end{equation*}
  such that
  \begin{equation*}
    R \Gamma_{\acute{e}t}(\mathbf{G}) = i_1^\ast
    \mathcal{V}_\mu  \tilde{\mathcal{F}}
  \end{equation*}
  and
  \begin{equation*}
    i_1^\ast \mathcal{V}_{\mu '} \tilde{\mathcal{F}} =
    R \Gamma_{\acute{e}t}(\mathbf{G} ')
  \end{equation*}
  and

  \begin{equation*}
    \begin{tikzcd}
      \Hom_{X_{\hat{G}}}(V_\mu, V_{\mu'}) \arrow[dd, "f"] \arrow[rr] & & \Hom(R \Gamma_{\acute{e}t}(\mathbf{G}), R \Gamma_{\acute{e}t}(\mathbf{G}'))_{\phi} \\
      & & \\
      \Hom_{X_{\hat{G}, \phi}}(V_{\mu}, V_{\mu '}) \arrow[uurr, "g"] & & 
    \end{tikzcd}
  \end{equation*}
  Something about $X_{\hat{G}, \phi} = \ast / Z(\hat{G})^\Gamma$.
\end{proof}

\part{Jack Thorne, \emph{The Ramanujan Conjecture for Bianchi Modular Forms}}

\begin{abstract}
  The Ramanujan Conjecture for a Bianchi modular form over an imaginary quadratic field was proved in the lowest weight (“weight 2”) case in the 10-author paper, by proving the potential automorphy of the symmetric powers of associated 2-dimensional compatible systems of Galois representations. Treating the higher weight situation presents difficulties due to the paucity of congruences between Bianchi modular forms of different weights. I will explain these difficulties and how they can be avoided to indeed prove the Ramanujan Conjecture in the general case. This is joint work with Boxer, Calegari, Gee, and Newton.
\end{abstract}

Let's begin by saying a bit about the classical story.  Let's think first about the Ramanujan $\Delta$ function
\begin{equation*}
  \Delta(z) = q \prod_{n = 1}^\infty(1 - q^n)^{2 4} \in S_{12}(\SL_2(\mathbb{Z})).
\end{equation*}
Ramanujan (1916): if $p$ is prime, then $\lvert \tau(p) \rvert \leq 2 p^{11/2}$.  An equivalent formulation is that the Hecke polynomial $X^2 - \tau(p) X + p^{11}$, when written as a product of linear factors $(X - \alpha_p)( X - \beta_p)$, has the property that the matrix
\begin{equation*}
  \gamma_p := p^{- 11/2}
  \begin{pmatrix}
    \alpha_p    & 0 \\
    0 & \beta_p  \\
  \end{pmatrix}
\end{equation*}
lies in $\SU_2(\mathbb{R})$.

The Sato--Tate conjecture (maybe first observed in some cases by Serre in 1966) says that the elements $[\gamma_p] \in \SU_2(\mathbb{R}) / \mathrm{conjugacy}$ are equidistributed with respect to the natural measure on the space of conjugacy classes, namely, the pushforward of the probability Haar measure.

Deligne (1969) associates to $\Delta$ the compatible system $(\rho_{\Delta, \ell} : G_{\mathbb{Q}} \rightarrow \GL_2(\mathbb{Q}_{\ell}))_{\ell}$, occurring in the {\'e}tale cohomology
\begin{equation*}
  H^\ast_{\acute{e}t}(\mathrm{K S}, \mathbb{Q}_{\ell}),
\end{equation*}
where $\mathrm{K S}$ stands for Kuga--Sato.  Using this, he showed that the Weil conjectures imply the Ramanujan conjecture.

A bit earlier, Serre observed that to prove Sato--Tate (assuming Ramanujan), it is enough to show that for each $m \geq 1$, the symmetric power $L$-functions $L(\sym^m \rho_{\Delta,_{\ell}}, s)$ have a meromorphic continuation to the complex numbers that is holomorphic and nonvanishing on the boundary of the region of absolute convergence, namely when $\Re(s) = 1 + \tfrac{11m}{2}$.

The proof was completed by Barnet--Lamb, Geraghty, Harris and Taylor in 2011, following earier work of Clozel and Shepherd--Barron.  They proved Sato--Tate for $\Delta$ by showing that for each $m \geq 1$, $\sym^m \rho_{\Delta,_{\ell}}$ is potentially automorphic, i.e., there exists an extension $F_m | \mathbb{Q}$ and cuspidal automorphic $\Pi_m \circlearrowleft \GL_{m + 1}(\mathbb{A}_{F_m})$ with the property that the $L$-function of the restricted representation is equal to the standard $L$-function of that automorphic representation:
\begin{equation*}
  L(\sym^m \rho_{\Delta,_{\ell}} | _{G_{F_m}}, s)
  =
  L(\Pi_m, s).
\end{equation*}
That was a very exciting result when it was proved.  It also gave a ``new'' proof of the Ramanujan conjecture for $\Delta$.  Why is that?  Well, there's a standard argument that if you know the potential automorphy for infintiely many symmetric powers, then combining the trivial bound for the symmetric powers yields the Ramanujan bound for the form you start with.  (When the speaker and Newton first did symmetric power functoriality over $\mathbb{Q}$ for $\Delta$, people asked if it gave a new proof of Ramanujan, but the answer was probably no, because we used purity.  But I think it should be possible to prove potential modularity without using purity, so it deserves to be called a ``new'' proof.)

What's the generalized Ramanujan conjecture (GRC) for $\GL_2$?  Fix a number field $F$, and a cuspidal automorphic representation $\pi \circlearrowleft \GL_2(\mathbb{A}_F)$.  Just for normalization, let's suppose that the central character $\omega_\pi$ is unitary.  Then the generalized Ramanujan conjecture is the statement that for each place $v$ of your number field, the representation $\pi_v$ is tempered.  Put another way, this says that if you apply the local Langlands correspondence to get a parameter and take the image, giving
\begin{equation*}
  \operatorname{rec}_{F_v}(\lambda_v)(L_{F_v}),
\end{equation*}
you get a relatively compact subset (i.e., of compact closure).  This corresponds in the unramified case to the eigenvalues or Satake parameters being of absolute value one.

What is the generalized Sato--Tate conjecture (GST)?  The assertion is that there is some compact subgroup $M_\pi \leq \GL_2(\mathbb{C})$ such that for each finite unramified place $v \nmid N(\pi) \infty$, the element
\begin{equation*}
  \operatorname{rec}_{F_v} \left( \pi_v \right)(\Frob_v) =: \gamma_v
\end{equation*}
conjugate to an element of $M_\pi$, and the conjugacy classes $[\gamma_v] \in M_\pi / \mathrm{conjugacy}$ is equidistributed as $v$ varies.  What's known?  We know GRC when $\pi$ is CM (``automorphic induction''), where it is easy.  Another case is when $F$ is a totally real number field and $\pi$, our automorphic representation, is associated to Hilbert modular forms of regular weight.  That means of weights $(k_v)_{v \mid \infty}$, $v$ ranging over the set of infinite places of our totally real field, with $k_v \geq 2$.  The methods used to prove this are similar to what were used with $\Delta$.

Beyond that setting, I don't think there are other examples, besides those we're about to talk about, where we know the Ramanujan conjecture.  In general, we have only partial information coming from known cases of symmetric power lifting applied to small rank general linear groups.  To give an example of the kinds of things you can say, there's a rather charming theorem of Dinakar Ramakrishnan (1997) which says that over any number field, for any cusp form $\pi$ over $\GL_2$, the Ramanujan conjecture is true for $\pi _v$ for at least $90\%$ of the places $v$ of your number field.  That is to say, the set of such places $v$ has lower Dirichlet density at least $9/10$.

Now let's talk about some cases where we can actually say more.


Suppose $F$ is CM and $\pi$ is of weight $2$, and in particular, regular algebraic.  This means that
\begin{equation*}
  (\pi^\infty)^K \hookrightarrow H^\ast_{\cusp} \left( \Gamma \backslash \mathbb{H}_3^{[F^+ : \mathbb{Q}]}, \mathbb{C} \right).
\end{equation*}
Then GRC and GST are known for $\pi$.  How did we prove this?  Well, we in fact showed that for each $m \geq 1$, the representation
\begin{equation*}
  \sym^m \rho_{\pi, \ell} : G_F \rightarrow \GL_{m + 1}(\mathbb{Q}_{\ell})
\end{equation*}
is potentially automorphic.  There's one surprising feature of this that's worth drawing your attention to.  In the setting of the $\Delta$ function or more generally a Hilbert modular form, one knows how to realize the Galois representation in almost all cases inside the cohomology of Shimura variety.  That's how one can prove purity first.  But for these ones over CM fields, we only know how to construct them using congruences.  So we don't know purity any way other than by using the potential automorphy of the associated symmetric power representations.

The work we want to talk about today is a generalization of this that removes the ``weight $2$'' condition.
\begin{theorem}[Boxer--Calegari--Gee--Newton--Thorne, \cite{2023arXiv2309.15880}]
  Suppose $F$ is a CM field, and $\pi$ has parallel weight.  Then GRC and GST hold for $\pi$.
\end{theorem}
Our assumption says that
\begin{equation*}
  (\pi^\infty )^K \hookrightarrow H^\ast_{\cusp} \left( \bigoplus_{\tau : F \hookrightarrow \mathbb{C}}
    \sym^{k - 2} \mathbb{C}^2\right),
\end{equation*}
or
\begin{equation*}
  \operatorname{H T}_\tau\left(\rho_{\pi, \ell}\right) = \{0, k - 1\}.
\end{equation*}

\begin{remark}
  \begin{enumerate}
  \item\label{enumerate:cnpp2drvjk} This parallel weight condition is vacuous if $[F: \mathbb{Q}] = 2$, the reason being that there's this so-called purity lemma of Clozel that says that the weights of any regular algebraic form on $\GL_n$ over any totally complex field are invariant under complex conjugation.  That's why we called the lecture ``the Ramanujan conjecture for Bianchi modular forms'', and there we have no restrictions.
  \item\label{enumerate:cnpp2dtmbo} What's far from obvious is that the theorem is in fact non-empty, in the sense that you can find interesting examples of automorphic representations of this type of parallel weight.  Over a totally real field, we have dimension formulas that make such existence obvious.  But we can find an example.  The simplest one might be that there exists such a $\pi$ over $\mathbb{Q}(\sqrt{- 2})$ that has level $\Gamma_0(5 + 7 \sqrt{- 2})$ and parallel weight .
  \item Matsumoto \cite{2023arXiv2312.01551} has proved the same theorem, with no restriction on the weight.
  \end{enumerate}
\end{remark}


Let's now talk about the proof strategy.  Let $F$ be a CM field, $\pi$ on $\GL_2(\mathbb{A}_F)$ of parallel weight, non-CM.  Fix $m \geq 1$, and consider $R_{\ell} = \Sym^m \rho_{\pi, \ell} : G_F \rightarrow \GL_{m + 1}(\mathbb{Q}_{\ell})$.  Approach to proving potential automorphy of $R_{\ell}$:
\begin{enumerate}
\item Write down a compatible system $\left( S_{\ell} : G_{F(t)} \rightarrow \GL_{n}(\mathbb{Q}_{\ell}) \right)$, where $n := m + 1$.
\item Choose a prime $p \neq q$
\item Find a Galois extension $F ' / F$, $t_0 \in F'$ such that we have the first congruence
  \begin{equation*}
    \left(     t_0^\ast \overline{S_p} : G_{F '} \rightarrow \GL_n(F_{\ell}) \right)
    \cong \overline{R}_p |_{ G_{F '}}
  \end{equation*}
  and such that $t_0^\ast \overline{S}_q$ is residually automorphic.
\item Apply automorphy lifting theorem (ALTs) twice to see first that
  $t_0^\ast S_q$ is automorphic, then that the $p$-adic member $t_0^\ast S_p$ is automorphic.  We then apply the automorphy lifting theorem to deduce that $R_p |_{G_F '}$ is automorphic.
\end{enumerate}
This argument has been applied in many examples.  Whether you can make it work or not in a given case is clearly very dependent on the strength of the ALTs in your arsenal.  Let us thus first review a bit about what we know about ALTs in this setting.

The setting is that $F$ is a CM field, and we're thinking of $n$-dimensional Galois representations
\begin{equation*}
  \rho_1, \rho_2 : G_F \rightarrow \GL_n(\mathbb{Q}_{\ell})
\end{equation*}
which have isomorphic residual representations $\overline{\rho_1} \cong \overline{\rho_2}$ that we might assume to be irreducible.  We assume moreover that both are de Rham and Hodge--Tate regular, and that $\rho_2$ is automorphic.  We then want to know, what additional conditions do we need to put to ensure that $\rho_1$ is automorphic?  The most important condition that we're \emph{not} adding here is conjugate self-duality.  We would otherwise be in what's called the defect zero setting, which is for example the one used to understand the symmetric powers of $\Delta$.  That theory is now very mature and general and powerful, and could give a result in this case with almost no additional hypotheses.  But we're interested in the \emph{positive} defect setting, which is the one relevant for this theorem, and the technology is nowhere near as advanced.

So that's the setup.

(A) The first result we want to mention is what's sometimes called the ``natural output of the Taylor--Wiles--Kisin method'' (not sure it's in the literature in this form, but you can deduce it using the standard kinds of argument from the recent work of Caraiani--Newton, who in particular proved particular cases of local-global compatibility at primes $\ell = p$).
In this setting, we can deduce the automorphy of $\rho _1$ assuming the further condition that for every finite place $v \nmid \infty$, we have the relation denoted
\begin{equation*}
  \rho_2 |_{G_{F_v}} \rightsquigarrow \rho_1 |_{G_{F_v}}
\end{equation*}
introduced by BLGGT in 2014, whose meaning depends upon whether we're talking about an $\ell$-adic place or not.
\begin{itemize}
\item If it's non-$\ell$-adic, then it says that the two restrictions define points in the \emph{same} irreducible component of $R_v^D$, plus the additional condition that this be the unique component containing the representation associated to $\rho_2$.
\item If we're talking about an $\ell$-adic place, then the condition is slightly more complicated, but what we want to say is something like that both of these representations are crystalline and have the same Hodge--Tate weights, which means that they both define points of the same Kisin ring, and we then ask that these two representations again define points on the same irreducible component of that crystalline fixed weight lifting ring $R_v^{\mathrm{cr}, \lambda}$ of the residual representation.
\end{itemize}

(B) That's one thing we know how to do.  Here's another.  This is a theorem that's proved in the 10-author paper.  Suppose either that either
\begin{itemize}
\item for every $v \mid \ell$, both $\rho_1 |_{G_{F_v}}$ and $\rho_2 |_{G_{F_v}}$ are Fontaine--Laffaille, or
\item for all $v \mid \ell$, both restrictions are ordinary.
\end{itemize}
Then $\rho_1$ is automorphic.  This is what happens when you implement the so-called ``Ihara-avoidance'' trick of Taylor.  Somehow you put yourself in a situation where, above each irreducible component in the special fiber of the lifting that you have to worry about, there is exactly one irreducible component of the lifting ring itself.

BLGGT start with something like these (A) and (B), and input some additional tools in the 
conjugate self-dual setting.  These include Khare--Wintenberger, which gives a very strong local-global principle allowing you to produce auxiliary representations that you want.  But can't apply this in general, because the lifts you won't simply don't exist.  You'd also like to be able to use the so-called ``Harris tensor product trick'', which in some sense \emph{is} available here, but is less effective for reasons we'll come to in a bit.

(C) We're now ready to mention the first new tool that we introduce in our paper.  This is a new automorphy lifting theorem.  Suppose that for each $v \mid \ell$, the two representations $\rho_1 |_{G_{F_v}}$ and $\rho_2 |_{G_{F_v}}$ are crystalline, of Hodge--Tate weights the minimum possible, namely $\{0, 1, \dotsc, n - 1\}$.  Let's suppose also that we have this relation $\rho_2 |_{G_{F_v}} \rightsquigarrow \rho_1 |_{G_{F_v}}$.  This $\rho_1$ is automorphic.  This is a bit of a hybrid between (A) and (B), because you have no conditions to verify at places away from $\ell$, but there \emph{are} conditions to verify at the $\ell$-adic places.  We can prove this by using Ihara-avoidance \emph{provided} that these local lifting rings that are going to appear, namely $R_v^{\mathrm{cr}, \{0, \dotsc, n - 1\}}$ have this unique lifting property, namely, that each minimal prime of $R_v^{\mathrm{cr}, \{0, \dotsc, n - 1\}} / (\ell)$ is the specialization of a unique minimal prime $R_v^{\mathrm{cr}, \{0, \dotsc, n - 1\}}$.  (So that's a special proprety that would be true if it were smooth, but is true more generally.)  This follows if $R_v^{\mathrm{cr}, \{0, \dotsc, n - 1\}} / (\ell)$ is generically reduced.  We prove this provided that the prime is bigger than the dimension, i.e., $\ell > n$.  This is a completely separate result.  How do we prove it?  Well, we prove it using the Emerton--Gee stack, which makes studying this kind of question much easier.  Let's just describe the structure in words.  This special fiber of the lifting ring, we realize it as a versal ring and can reduce this statement to proving that the associated substack of the EG stack is generically reduced, but then because that's an algebraic stack you have much more room to wiggle around, and then you can reduce that question to finding one point on each irreducible component that's formally smooth, and that's something you can do by explicit computation.

Let's now come back to the general situation of $R_{\ell} = \sym^m \rho_{\pi, \ell}$, which we are assuming has Hodge--Tate weights $\operatorname{H T}(\rho_{\pi, \ell}) = \{0, k - 1\}$.  That means that
\begin{equation}\label{eq:cnpp2hsxjl}
  \operatorname{H T}(R_{\ell}) = \left\{ 0, k - 1, 2(k - 1), \dotsc, m(k - 1) \right\}.
\end{equation}
Then any (interesting) parameter $S_{\ell} : G_{F(t)} \rightarrow \GL_n(\mathbb{Q}_{\ell})$ that you'll produce is coming from geometry, and the Hodge--Tate weights will be consecutive, and that's because of the conditions imposed by Griffiths transversality.  That means that if we want to apply this automorphy lifting theorem, we can't, because the Hodge--Tate weights in \eqref{eq:cnpp2hsxjl} are not consecutive.  So instead, we're going to do something different: we show the potential automorphy of another representation, namely, of
\begin{equation*}
  R_{\ell} \otimes T_{\ell} : G_F \rightarrow \GL_{(k - 1)(m + 1)}(\mathbb{Q}_{\ell}),
\end{equation*}

where $T_{\ell} : G_F \rightarrow \GL_{k - 1}(\mathbb{Q}_{\ell})$ is some auxiliary thing, with $\operatorname{H T}(T_{\ell}) = \{0, \dotsc, k - 2\}$ (consecutive, so we stand a chance of proving that it's potentially automorphic)
\begin{remark}
  There's a separate problem of relating this to what we started with, which amounts to removing the $T_{\ell}$ somehow, but we don't want to talk about this.
\end{remark}
Where does $S_{\ell}$ come from?  We'll find it inside the cohomology of the Dwork family, which is the family of algebraic varieties depending upon the parameter $t$ and given by the equation
\begin{equation*}
  Y_t : x_1^N + \dotsb + x_N^N = t N x_1 \dotsb x_N,
\end{equation*}
which is a family of hypersurfaces inside the projective space $\mathbb{P}_{F(t)}^{N - 1}$.  What's going on here is there's an action of a certain group $H = \ker \left( \Pi : \mu_N^N \rightarrow \mu_N \right)$, acting on projective space by multiplication on coordinates and acting on $Y_t$, hence on the cohomology $H^\ast_{\acute{e}t}(Y_{t, \overline{F(t)}, \mathbb{Q}_{\ell}})$, and $S_{\ell}$ is a certain eigenspace.  We want to mention the work of Qian, a student of Taylor, who is the first person to look at pieces of the Dwork family that are not conjugate self-dual.  We're using the construction in his paper.

The main problem now is that to apply this new automorphy lifting theorem (C), we need to find all the data $p$, $T_p$, $F' | F$ and $t_0 \in F'$ such that for every place $v' \mid p$ in $F'$, all the representations $R_p \otimes T_p |_{G_{F'_{v '}}}$ and $t_0^\ast S_p  |_{G_{F_v '}}$ lie on a common irreducible component of the local lifting ring $R^{\mathrm{cr}}_{v '}$.  That's exactly this next relation that we need to verify to prove the theorem.  That's \emph{a priori} quite tricky, because this ring, when the base field is highly ramified, we don't know anything about the components.  Related work of Kisin.  We need to be able to control things coming from the cohomology of the Dwork family.  In practice, there are two things you might look for.  Either
\begin{itemize}
\item want everything to be ordinary (and crystalline), or
\item everything ``of niveau $2$''.
\end{itemize}
Surprisingly, the hard thing is finding enough specializations of the cohomology of the Dwork family that are both crystalline and ordinary.  That's the other main technical thing which we show how to do.

So the second main ingredient in our paper is finding enough crystalline ordinary representations of $S_p$, i.e., in the Dwork family.  Let's conclude by saying a few words about how we do that.  These representations are constructed inside the cohomology of an algebraic variety, so this is really a question about the action of Frobenius.  That is, we need to find $\overline{t_0}$ in the algebraic closure of the residue field $\overline{k(v)}$ such that if we look at the crystalline cohomology of the fiber of the Dwork family,
\begin{equation*}
  H^\ast_{\mathrm{cr}} \left( Y_{\overline{t_0}} \right)^{\chi}
\end{equation*}
has to be ordinary.  How do we do that?  Well, there's this very nice recent theorem of Drinfeld--Kedlaya which is very general -- it's about families of isocrystals -- that says in particular that there exists a Zariski open, nonempty subset of the affine line over the residue field
\begin{equation*}
  U \subset \mathbb{A}^1_{k(v)}
\end{equation*}
such that the Newton polygon is, first of all, constant for $\overline{t_0} \in \overline{k(v)}$, and moreover, if we write $s_1 \geq \dotsb \geq s_n$ for the slopes of this generic Newton polygon (these are what you need to control if you're showing that there's a point where the polygon is ordinary), then they can't increase too quickly:
\begin{equation*}
  s_i \leq s_{i + 1} + 1
\end{equation*}
for all $i = 1, \dotsc, n - 1$.  You can think of this as an analogue of Griffiths transversality but for the slopes of the generic Newton polygon.  This means that to show that you have an ordinary point, it's enough to show that the lowest slope vanishes: $s_n = 0$.  Equivalently, if you look at the trace of Frobenius, you have to show that that's not zero mod $p$.  We do that by an explicit computation.


\bibliography{refs}{} \bibliographystyle{plain}
\end{document}
